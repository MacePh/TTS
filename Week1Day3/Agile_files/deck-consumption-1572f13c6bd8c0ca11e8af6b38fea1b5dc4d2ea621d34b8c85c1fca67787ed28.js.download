/*!
 * modernizr v3.5.0
 * Build https://modernizr.com/download?-backgroundsize-cssanimations-cssgrid_cssgridlegacy-csspositionsticky-csstransforms-csstransforms3d-csstransitions-flexbox-fullscreen-history-localstorage-svg-webpanimation-domprefixes-prefixes-setclasses-testallprops-testprop-teststyles-dontmin-cssclassprefix:mz-
 *
 * Copyright (c)
 *  Faruk Ates
 *  Paul Irish
 *  Alex Sexton
 *  Ryan Seddon
 *  Patrick Kettner
 *  Stu Cox
 *  Richard Herrera

 * MIT License
 */
!function(e,t,n){function i(e,t){return typeof e===t}function s(){var e,t,n,s,o,r;for(var a in S)if(S.hasOwnProperty(a)){if(e=[],(t=S[a]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(s=i(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)1===(r=e[o].split(".")).length?w[r[0]]=s:(!w[r[0]]||w[r[0]]instanceof Boolean||(w[r[0]]=new Boolean(w[r[0]])),w[r[0]][r[1]]=s),E.push((s?"":"no-")+r.join("-"))}}function o(e){var t=k.className,n=w._config.classPrefix||"";if(L&&(t=t.baseVal),w._config.enableJSClass){var i=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(i,"$1"+n+"js$2")}w._config.enableClasses&&(t+=" "+n+e.join(" "+n),L?k.className.baseVal=t:k.className=t)}function r(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):L?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function a(e,t){return!!~(""+e).indexOf(t)}function l(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function c(){var e=t.body;return e||((e=r(L?"svg":"body")).fake=!0),e}function u(e,n,i,s){var o,a,l,u,d="modernizr",h=r("div"),f=c();if(parseInt(i,10))for(;i--;)(l=r("div")).id=s?s[i]:d+(i+1),h.appendChild(l);return(o=r("style")).type="text/css",o.id="s"+d,(f.fake?f:h).appendChild(o),f.appendChild(h),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),h.id=d,f.fake&&(f.style.background="",f.style.overflow="hidden",u=k.style.overflow,k.style.overflow="hidden",k.appendChild(f)),a=n(h,e),f.fake?(f.parentNode.removeChild(f),k.style.overflow=u,k.offsetHeight):h.parentNode.removeChild(h),!!a}function d(e,t){if("object"==typeof e)for(var n in e)O(e,n)&&d(n,e[n]);else{var i=(e=e.toLowerCase()).split("."),s=w[i[0]];if(2==i.length&&(s=s[i[1]]),void 0!==s)return w;t="function"==typeof t?t():t,1==i.length?w[i[0]]=t:(!w[i[0]]||w[i[0]]instanceof Boolean||(w[i[0]]=new Boolean(w[i[0]])),w[i[0]][i[1]]=t),o([(t&&0!=t?"":"no-")+i.join("-")]),w._trigger(e,t)}return w}function h(e,t){return function(){return e.apply(t,arguments)}}function f(e,t,n){var s;for(var o in e)if(e[o]in t)return!1===n?e[o]:i(s=t[e[o]],"function")?h(s,n||t):s;return!1}function p(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function m(t,n,i){var s;if("getComputedStyle"in e){s=getComputedStyle.call(e,t,n);var o=e.console;if(null!==s)i&&(s=s.getPropertyValue(i));else if(o)o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else s=!n&&t.currentStyle&&t.currentStyle[i];return s}function g(t,i){var s=t.length;if("CSS"in e&&"supports"in e.CSS){for(;s--;)if(e.CSS.supports(p(t[s]),i))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];s--;)o.push("("+p(t[s])+":"+i+")");return u("@supports ("+(o=o.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==m(e,null,"position")})}return n}function v(e,t,s,o){function c(){d&&(delete U.style,delete U.modElem)}if(o=!i(o,"undefined")&&o,!i(s,"undefined")){var u=g(e,s);if(!i(u,"undefined"))return u}for(var d,h,f,p,m,v=["modernizr","tspan","samp"];!U.style&&v.length;)d=!0,U.modElem=r(v.shift()),U.style=U.modElem.style;for(f=e.length,h=0;h<f;h++)if(p=e[h],m=U.style[p],a(p,"-")&&(p=l(p)),U.style[p]!==n){if(o||i(s,"undefined"))return c(),"pfx"!=t||p;try{U.style[p]=s}catch(y){}if(U.style[p]!=m)return c(),"pfx"!=t||p}return c(),!1}function y(e,t,n,s,o){var r=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+x.join(r+" ")+r).split(" ");return i(t,"string")||i(t,"undefined")?v(a,t,s,o):f(a=(e+" "+A.join(r+" ")+r).split(" "),t,n)}function b(e,t,i){return y(e,n,n,t,i)}var E=[],S=[],_={_version:"3.5.0",_config:{classPrefix:"mz-",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){S.push({name:e,fn:t,options:n})},addAsyncTest:function(e){S.push({name:null,fn:e})}},w=function(){};w.prototype=_,
/*!
{
  "name": "History API",
  "property": "history",
  "caniuse": "history",
  "tags": ["history"],
  "authors": ["Hay Kranen", "Alexander Farkas"],
  "notes": [{
    "name": "W3C Spec",
    "href": "https://www.w3.org/TR/html51/browsers.html#the-history-interface"
  }, {
    "name": "MDN documentation",
    "href": "https://developer.mozilla.org/en-US/docs/Web/API/window.history"
  }],
  "polyfills": ["historyjs", "html5historyapi"]
}
!*/
(w=new w).addTest("history",function(){var t=navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")||"file:"===location.protocol)&&(e.history&&"pushState"in e.history)}),
/*!
{
  "name": "SVG",
  "property": "svg",
  "caniuse": "svg",
  "tags": ["svg"],
  "authors": ["Erik Dahlstrom"],
  "polyfills": [
    "svgweb",
    "raphael",
    "amplesdk",
    "canvg",
    "svg-boilerplate",
    "sie",
    "dojogfx",
    "fabricjs"
  ]
}
!*/
w.addTest("svg",!!t.createElementNS&&!!t.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),
/*!
{
  "name": "Local Storage",
  "property": "localstorage",
  "caniuse": "namevalue-storage",
  "tags": ["storage"],
  "knownBugs": [],
  "notes": [],
  "warnings": [],
  "polyfills": [
    "joshuabell-polyfill",
    "cupcake",
    "storagepolyfill",
    "amplifyjs",
    "yui-cacheoffline"
  ]
}
!*/
w.addTest("localstorage",function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}});var T=_._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];_._prefixes=T;var k=t.documentElement,L="svg"===k.nodeName.toLowerCase(),C="Moz O ms Webkit",A=_._config.usePrefixes?C.toLowerCase().split(" "):[];_._domPrefixes=A,
/*!
{
  "name": "CSS position: sticky",
  "property": "csspositionsticky",
  "tags": ["css"],
  "builderAliases": ["css_positionsticky"],
  "notes": [{
    "name": "Chrome bug report",
    "href":"https://code.google.com/p/chromium/issues/detail?id=322972"
  }],
  "warnings": [ "using position:sticky on anything but top aligned elements is buggy in Chrome < 37 and iOS <=7+" ]
}
!*/
w.addTest("csspositionsticky",function(){var e="position:",t="sticky",n=r("a").style;return n.cssText=e+T.join(t+";"+e).slice(0,-e.length),-1!==n.position.indexOf(t)});
/*!
{
  "name": "CSS Supports",
  "property": "supports",
  "caniuse": "css-featurequeries",
  "tags": ["css"],
  "builderAliases": ["css_supports"],
  "notes": [{
    "name": "W3 Spec",
    "href": "http://dev.w3.org/csswg/css3-conditional/#at-supports"
  },{
    "name": "Related Github Issue",
    "href": "https://github.com/Modernizr/Modernizr/issues/648"
  },{
    "name": "W3 Info",
    "href": "http://dev.w3.org/csswg/css3-conditional/#the-csssupportsrule-interface"
  }]
}
!*/
var D="CSS"in e&&"supports"in e.CSS,I="supportsCSS"in e;w.addTest("supports",D||I);var x=_._config.usePrefixes?C.split(" "):[];_._cssomPrefixes=x;var O,M,R=_.testStyles=u,N=function(t){var i,s=T.length,o=e.CSSRule;if(void 0===o)return n;if(!t)return!1;if((i=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in o)return"@"+t;for(var r=0;r<s;r++){var a=T[r];if(a.toUpperCase()+"_"+i in o)return"@-"+a.toLowerCase()+"-"+t}return!1};_.atRule=N,M={}.hasOwnProperty,O=i(M,"undefined")||i(M.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(e,t){return M.call(e,t)},_._l={},_.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),w.hasOwnProperty(e)&&setTimeout(function(){w._trigger(e,w[e])},0)},_._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)},0),delete this._l[e]}},w._q.push(function(){_.addTest=d}),
/*!
{
  "name": "Webp Animation",
  "async": true,
  "property": "webpanimation",
  "aliases": ["webp-animation"],
  "tags": ["image"],
  "authors": ["Krister Kari", "Rich Bradshaw", "Ryan Seddon", "Paul Irish"],
  "notes": [{
    "name": "WebP Info",
    "href": "https://developers.google.com/speed/webp/"
  },{
    "name": "Chromium blog - Chrome 32 Beta: Animated WebP images and faster Chrome for Android touch input",
    "href": "https://blog.chromium.org/2013/11/chrome-32-beta-animated-webp-images-and.html"
  }]
}
!*/
w.addAsyncTest(function(){var e=new Image;e.onerror=function(){d("webpanimation",!1,{aliases:["webp-animation"]})},e.onload=function(){d("webpanimation",1==e.width,{aliases:["webp-animation"]})},e.src="data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"});var P={elem:r("modernizr")};w._q.push(function(){delete P.elem});var U={style:P.elem.style};w._q.unshift(function(){delete U.style});_.testProp=function(e,t,i){return v([e],n,t,i)};_.testAllProps=y,_.testAllProps=b,
/*!
{
  "name": "CSS Animations",
  "property": "cssanimations",
  "caniuse": "css-animation",
  "polyfills": ["transformie", "csssandpaper"],
  "tags": ["css"],
  "warnings": ["Android < 4 will pass this test, but can only animate a single property at a time"],
  "notes": [{
    "name" : "Article: 'Dispelling the Android CSS animation myths'",
    "href": "https://goo.gl/OGw5Gm"
  }]
}
!*/
w.addTest("cssanimations",b("animationName","a",!0)),
/*!
{
  "name": "Background Size",
  "property": "backgroundsize",
  "tags": ["css"],
  "knownBugs": ["This will false positive in Opera Mini - https://github.com/Modernizr/Modernizr/issues/396"],
  "notes": [{
    "name": "Related Issue",
    "href": "https://github.com/Modernizr/Modernizr/issues/396"
  }]
}
!*/
w.addTest("backgroundsize",b("backgroundSize","100%",!0)),
/*!
{
  "name": "CSS Grid (old & new)",
  "property": ["cssgrid", "cssgridlegacy"],
  "authors": ["Faruk Ates"],
  "tags": ["css"],
  "notes": [{
    "name": "The new, standardized CSS Grid",
    "href": "https://www.w3.org/TR/css3-grid-layout/"
  }, {
    "name": "The _old_ CSS Grid (legacy)",
    "href": "https://www.w3.org/TR/2011/WD-css3-grid-layout-20110407/"
  }]
}
!*/
w.addTest("cssgridlegacy",b("grid-columns","10px",!0)),w.addTest("cssgrid",b("grid-template-rows","none",!0)),
/*!
{
  "name": "Flexbox",
  "property": "flexbox",
  "caniuse": "flexbox",
  "tags": ["css"],
  "notes": [{
    "name": "The _new_ flexbox",
    "href": "http://dev.w3.org/csswg/css3-flexbox"
  }],
  "warnings": [
    "A `true` result for this detect does not imply that the `flex-wrap` property is supported; see the `flexwrap` detect."
  ]
}
!*/
w.addTest("flexbox",b("flexBasis","1px",!0)),
/*!
{
  "name": "CSS Transforms",
  "property": "csstransforms",
  "caniuse": "transforms2d",
  "tags": ["css"]
}
!*/
w.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&b("transform","scale(1)",!0)}),
/*!
{
  "name": "CSS Transforms 3D",
  "property": "csstransforms3d",
  "caniuse": "transforms3d",
  "tags": ["css"],
  "warnings": [
    "Chrome may occassionally fail this test on some systems; more info: https://code.google.com/p/chromium/issues/detail?id=129004"
  ]
}
!*/
w.addTest("csstransforms3d",function(){var e=!!b("perspective","1px",!0),t=w._config.usePrefixes;if(e&&(!t||"webkitPerspective"in k.style)){var n,i="#modernizr{width:0;height:0}";w.supports?n="@supports (perspective: 1px)":(n="@media (transform-3d)",t&&(n+=",(-webkit-transform-3d)")),R(i+(n+="{#modernizr{width:7px;height:18px;margin:0;padding:0;border:0}}"),function(t){e=7===t.offsetWidth&&18===t.offsetHeight})}return e}),
/*!
{
  "name": "CSS Transitions",
  "property": "csstransitions",
  "caniuse": "css-transitions",
  "tags": ["css"]
}
!*/
w.addTest("csstransitions",b("transition","all",!0));var j=_.prefixed=function(e,t,n){return 0===e.indexOf("@")?N(e):(-1!=e.indexOf("-")&&(e=l(e)),t?y(e,t,n):y(e,"pfx"))};
/*!
{
  "name": "Fullscreen API",
  "property": "fullscreen",
  "caniuse": "fullscreen",
  "notes": [{
    "name": "MDN documentation",
    "href": "https://developer.mozilla.org/en/API/Fullscreen"
  }],
  "polyfills": ["screenfulljs"],
  "builderAliases": ["fullscreen_api"]
}
!*/w.addTest("fullscreen",!(!j("exitFullscreen",t,!1)&&!j("cancelFullScreen",t,!1))),s(),o(E),delete _.addTest,delete _.addAsyncTest;for(var H=0;H<w._q.length;H++)w._q[H]();e.Modernizr=w}(window,document),
/*!
 * jQuery JavaScript Library v3.1.0
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2016-07-07T21:44Z
 */
function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t){var n=(t=t||Z).createElement("script");n.text=e,t.head.appendChild(n).parentNode.removeChild(n)}function i(e){var t=!!e&&"length"in e&&e.length,n=he.type(e);return"function"!==n&&!he.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function s(e,t,n){if(he.isFunction(t))return he.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return he.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(_e.test(t))return he.filter(t,e,n);t=he.filter(t,e)}return he.grep(e,function(e){return se.call(t,e)>-1!==n&&1===e.nodeType})}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e){var t={};return he.each(e.match(Ce)||[],function(e,n){t[n]=!0}),t}function a(e){return e}function l(e){throw e}function c(e,t,n){var i;try{e&&he.isFunction(i=e.promise)?i.call(e).done(t).fail(n):e&&he.isFunction(i=e.then)?i.call(e,t,n):t.call(undefined,e)}catch(e){n.call(undefined,e)}}function u(){Z.removeEventListener("DOMContentLoaded",u),e.removeEventListener("load",u),he.ready()}function d(){this.expando=he.expando+d.uid++}function h(e,t,n){var i;if(n===undefined&&1===e.nodeType)if(i="data-"+t.replace(Ne,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:Re.test(n)?JSON.parse(n):n)}catch(s){}Me.set(e,t,n)}else n=undefined;return n}function f(e,t,n,i){var s,o=1,r=20,a=i?function(){return i.cur()}:function(){return he.css(e,t,"")},l=a(),c=n&&n[3]||(he.cssNumber[t]?"":"px"),u=(he.cssNumber[t]||"px"!==c&&+l)&&Ue.exec(he.css(e,t));if(u&&u[3]!==c){c=c||u[3],n=n||[],u=+l||1;do{u/=o=o||".5",he.style(e,t,u+c)}while(o!==(o=a()/l)&&1!==o&&--r)}return n&&(u=+u||+l||0,s=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=s)),s}function p(e){var t,n=e.ownerDocument,i=e.nodeName,s=$e[i];return s||(t=n.body.appendChild(n.createElement(i)),s=he.css(t,"display"),t.parentNode.removeChild(t),"none"===s&&(s="block"),$e[i]=s,s)}function m(e,t){for(var n,i,s=[],o=0,r=e.length;o<r;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(s[o]=Oe.get(i,"display")||null,s[o]||(i.style.display="")),""===i.style.display&&He(i)&&(s[o]=p(i))):"none"!==n&&(s[o]="none",Oe.set(i,"display",n)));for(o=0;o<r;o++)null!=s[o]&&(e[o].style.display=s[o]);return e}function g(e,t){var n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&he.nodeName(e,t)?he.merge([e],n):n}function v(e,t){for(var n=0,i=e.length;n<i;n++)Oe.set(e[n],"globalEval",!t||Oe.get(t[n],"globalEval"))}function y(e,t,n,i,s){for(var o,r,a,l,c,u,d=t.createDocumentFragment(),h=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===he.type(o))he.merge(h,o.nodeType?[o]:o);else if(qe.test(o)){for(r=r||d.appendChild(t.createElement("div")),a=(Ke.exec(o)||["",""])[1].toLowerCase(),l=Ve[a]||Ve._default,r.innerHTML=l[1]+he.htmlPrefilter(o)+l[2],u=l[0];u--;)r=r.lastChild;he.merge(h,r.childNodes),(r=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",f=0;o=h[f++];)if(i&&he.inArray(o,i)>-1)s&&s.push(o);else if(c=he.contains(o.ownerDocument,o),r=g(d.appendChild(o),"script"),c&&v(r),n)for(u=0;o=r[u++];)Ge.test(o.type||"")&&n.push(o);return d}function b(){return!0}function E(){return!1}function S(){try{return Z.activeElement}catch(e){}}function _(e,t,n,i,s,o){var r,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=undefined),t)_(e,a,n,i,t[a],o);return e}if(null==i&&null==s?(s=n,i=n=undefined):null==s&&("string"==typeof n?(s=i,i=undefined):(s=i,i=n,n=undefined)),!1===s)s=E;else if(!s)return e;return 1===o&&(r=s,(s=function(e){return he().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=he.guid++)),e.each(function(){he.event.add(this,t,s,i,n)})}function w(e,t){return he.nodeName(e,"table")&&he.nodeName(11!==t.nodeType?t:t.firstChild,"tr")&&e.getElementsByTagName("tbody")[0]||e}function T(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function k(e){var t=nt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function L(e,t){var n,i,s,o,r,a,l,c;if(1===t.nodeType){if(Oe.hasData(e)&&(o=Oe.access(e),r=Oe.set(t,o),c=o.events))for(s in delete r.handle,r.events={},c)for(n=0,i=c[s].length;n<i;n++)he.event.add(t,s,c[s][n]);Me.hasData(e)&&(a=Me.access(e),l=he.extend({},a),Me.set(t,l))}}function C(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Be.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function A(e,t,i,s){t=ne.apply([],t);var o,r,a,l,c,u,d=0,h=e.length,f=h-1,p=t[0],m=he.isFunction(p);if(m||h>1&&"string"==typeof p&&!ue.checkClone&&tt.test(p))return e.each(function(n){var o=e.eq(n);m&&(t[0]=p.call(this,n,o.html())),A(o,t,i,s)});if(h&&(r=(o=y(t,e[0].ownerDocument,!1,e,s)).firstChild,1===o.childNodes.length&&(o=r),r||s)){for(l=(a=he.map(g(o,"script"),T)).length;d<h;d++)c=o,d!==f&&(c=he.clone(c,!0,!0),l&&he.merge(a,g(c,"script"))),i.call(e[d],c,d);if(l)for(u=a[a.length-1].ownerDocument,he.map(a,k),d=0;d<l;d++)c=a[d],Ge.test(c.type||"")&&!Oe.access(c,"globalEval")&&he.contains(u,c)&&(c.src?he._evalUrl&&he._evalUrl(c.src):n(c.textContent.replace(it,""),u))}return e}function D(e,t,n){for(var i,s=t?he.filter(t,e):e,o=0;null!=(i=s[o]);o++)n||1!==i.nodeType||he.cleanData(g(i)),i.parentNode&&(n&&he.contains(i.ownerDocument,i)&&v(g(i,"script")),i.parentNode.removeChild(i));return e}function I(e,t,n){var i,s,o,r,a=e.style;return(n=n||rt(e))&&(""!==(r=n.getPropertyValue(t)||n[t])||he.contains(e.ownerDocument,e)||(r=he.style(e,t)),!ue.pixelMarginRight()&&ot.test(r)&&st.test(t)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=n.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r!==undefined?r+"":r}function x(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function O(e){if(e in dt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=ut.length;n--;)if((e=ut[n]+t)in dt)return e}function M(e,t,n){var i=Ue.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function R(e,t,n,i,s){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,r=0;o<4;o+=2)"margin"===n&&(r+=he.css(e,n+je[o],!0,s)),i?("content"===n&&(r-=he.css(e,"padding"+je[o],!0,s)),"margin"!==n&&(r-=he.css(e,"border"+je[o]+"Width",!0,s))):(r+=he.css(e,"padding"+je[o],!0,s),"padding"!==n&&(r+=he.css(e,"border"+je[o]+"Width",!0,s)));return r}function N(e,t,n){var i,s=!0,o=rt(e),r="border-box"===he.css(e,"boxSizing",!1,o);if(e.getClientRects().length&&(i=e.getBoundingClientRect()[t]),i<=0||null==i){if(((i=I(e,t,o))<0||null==i)&&(i=e.style[t]),ot.test(i))return i;s=r&&(ue.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+R(e,t,n||(r?"border":"content"),s,o)+"px"}function P(e,t,n,i,s){return new P.prototype.init(e,t,n,i,s)}function U(){ft&&(e.requestAnimationFrame(U),he.fx.tick())}function j(){return e.setTimeout(function(){ht=undefined}),ht=he.now()}function H(e,t){var n,i=0,s={height:e};for(t=t?1:0;i<4;i+=2-t)s["margin"+(n=je[i])]=s["padding"+n]=e;return t&&(s.opacity=s.width=e),s}function F(e,t,n){for(var i,s=(K.tweeners[t]||[]).concat(K.tweeners["*"]),o=0,r=s.length;o<r;o++)if(i=s[o].call(n,t,e))return i}function $(e,t,n){var i,s,o,r,a,l,c,u,d="width"in t||"height"in t,h=this,f={},p=e.style,g=e.nodeType&&He(e),v=Oe.get(e,"fxshow");for(i in n.queue||(null==(r=he._queueHooks(e,"fx")).unqueued&&(r.unqueued=0,a=r.empty.fire,r.empty.fire=function(){r.unqueued||a()}),r.unqueued++,h.always(function(){h.always(function(){r.unqueued--,he.queue(e,"fx").length||r.empty.fire()})})),t)if(s=t[i],pt.test(s)){if(delete t[i],o=o||"toggle"===s,s===(g?"hide":"show")){if("show"!==s||!v||v[i]===undefined)continue;g=!0}f[i]=v&&v[i]||he.style(e,i)}if((l=!he.isEmptyObject(t))||!he.isEmptyObject(f))for(i in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(c=v&&v.display)&&(c=Oe.get(e,"display")),"none"===(u=he.css(e,"display"))&&(c?u=c:(m([e],!0),c=e.style.display||c,u=he.css(e,"display"),m([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===he.css(e,"float")&&(l||(h.done(function(){p.display=c}),null==c&&(u=p.display,c="none"===u?"":u)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(v?"hidden"in v&&(g=v.hidden):v=Oe.access(e,"fxshow",{display:c}),o&&(v.hidden=!g),g&&m([e],!0),h.done(function(){for(i in g||m([e]),Oe.remove(e,"fxshow"),f)he.style(e,i,f[i])})),l=F(g?v[i]:0,i,h),i in v||(v[i]=l.start,g&&(l.end=l.start,l.start=0))}function B(e,t){var n,i,s,o,r;for(n in e)if(s=t[i=he.camelCase(n)],o=e[n],he.isArray(o)&&(s=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(r=he.cssHooks[i])&&"expand"in r)for(n in o=r.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=s);else t[i]=s}function K(e,t,n){var i,s,o=0,r=K.prefilters.length,a=he.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var t=ht||j(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,r=c.tweens.length;o<r;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&r?n:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:he.extend({},t),opts:he.extend(!0,{specialEasing:{},easing:he.easing._default},n),originalProperties:t,originalOptions:n,startTime:ht||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=he.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(s)return this;for(s=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(B(u,c.opts.specialEasing);o<r;o++)if(i=K.prefilters[o].call(c,e,u,c.opts))return he.isFunction(i.stop)&&(he._queueHooks(c.elem,c.opts.queue).stop=he.proxy(i.stop,i)),i;return he.map(u,F,c),he.isFunction(c.opts.start)&&c.opts.start.call(e,c),he.fx.timer(he.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function G(e){return e.getAttribute&&e.getAttribute("class")||""}function V(e,t,n,i){var s;if(he.isArray(t))he.each(t,function(t,s){n||Ct.test(e)?i(e,s):V(e+"["+("object"==typeof s&&null!=s?t:"")+"]",s,n,i)});else if(n||"object"!==he.type(t))i(e,t);else for(s in t)V(e+"["+s+"]",t[s],n,i)}function W(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,s=0,o=t.toLowerCase().match(Ce)||[];if(he.isFunction(n))for(;i=o[s++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Y(e,t,n,i){function s(a){var l;return o[a]=!0,he.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}var o={},r=e===Ht;return s(t.dataTypes[0])||!o["*"]&&s("*")}function q(e,t){var n,i,s=he.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&he.extend(!0,e,i),e}function z(e,t,n){for(var i,s,o,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),i===undefined&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(s in a)if(a[s]&&a[s].test(i)){l.unshift(s);break}if(l[0]in n)o=l[0];else{for(s in n){if(!l[0]||e.converters[s+" "+l[0]]){o=s;break}r||(r=s)}o=o||r}if(o)return o!==l[0]&&l.unshift(o),n[o]}function X(e,t,n,i){var s,o,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(r=c[l+" "+o]||c["* "+o]))for(s in c)if((a=s.split(" "))[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[s]:!0!==c[s]&&(o=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function J(e){return he.isWindow(e)?e:9===e.nodeType&&e.defaultView}var Q=[],Z=e.document,ee=Object.getPrototypeOf,te=Q.slice,ne=Q.concat,ie=Q.push,se=Q.indexOf,oe={},re=oe.toString,ae=oe.hasOwnProperty,le=ae.toString,ce=le.call(Object),ue={},de="3.1.0",he=function(e,t){return new he.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,pe=/^-ms-/,me=/-([a-z])/g,ge=function(e,t){return t.toUpperCase()};he.fn=he.prototype={jquery:de,constructor:he,length:0,toArray:function(){return te.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:te.call(this)},pushStack:function(e){var t=he.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return he.each(this,e)},map:function(e){return this.pushStack(he.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(te.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ie,sort:Q.sort,splice:Q.splice},he.extend=he.fn.extend=function(){var e,t,n,i,s,o,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||he.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=r[t],r!==(i=e[t])&&(c&&i&&(he.isPlainObject(i)||(s=he.isArray(i)))?(s?(s=!1,o=n&&he.isArray(n)?n:[]):o=n&&he.isPlainObject(n)?n:{},r[t]=he.extend(c,o,i)):i!==undefined&&(r[t]=i));return r},he.extend({expando:"jQuery"+(de+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===he.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=he.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==re.call(e))&&(!(t=ee(e))||"function"==typeof(n=ae.call(t,"constructor")&&t.constructor)&&le.call(n)===ce)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?oe[re.call(e)]||"object":typeof e},globalEval:function(e){n(e)},camelCase:function(e){return e.replace(pe,"ms-").replace(me,ge)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,s=0;if(i(e))for(n=e.length;s<n&&!1!==t.call(e[s],s,e[s]);s++);else for(s in e)if(!1===t.call(e[s],s,e[s]))break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?he.merge(n,"string"==typeof e?[e]:e):ie.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:se.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,s=e.length;i<n;i++)e[s++]=t[i];return e.length=s,e},grep:function(e,t,n){for(var i=[],s=0,o=e.length,r=!n;s<o;s++)!t(e[s],s)!==r&&i.push(e[s]);return i},map:function(e,t,n){var s,o,r=0,a=[];if(i(e))for(s=e.length;r<s;r++)null!=(o=t(e[r],r,n))&&a.push(o);else for(r in e)null!=(o=t(e[r],r,n))&&a.push(o);return ne.apply([],a)},guid:1,proxy:function(e,t){var n,i,s;return"string"==typeof t&&(n=e[t],t=e,e=n),he.isFunction(e)?(i=te.call(arguments,2),(s=function(){return e.apply(t||this,i.concat(te.call(arguments)))}).guid=e.guid=e.guid||he.guid++,s):undefined},now:Date.now,support:ue}),"function"==typeof Symbol&&(he.fn[Symbol.iterator]=Q[Symbol.iterator]),he.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){oe["[object "+t+"]"]=t.toLowerCase()});var ve=
/*!
 * Sizzle CSS Selector Engine v2.3.0
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-01-04
 */
function(e){function t(e,t,n,i){var s,o,r,a,l,c,u,h=t&&t.ownerDocument,p=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==p&&9!==p&&11!==p)return n;if(!i&&((t?t.ownerDocument||t:$)!==M&&O(t),t=t||M,N)){if(11!==p&&(l=ve.exec(e)))if(s=l[1]){if(9===p){if(!(r=t.getElementById(s)))return n;if(r.id===s)return n.push(r),n}else if(h&&(r=h.getElementById(s))&&H(t,r)&&r.id===s)return n.push(r),n}else{if(l[2])return Q.apply(n,t.getElementsByTagName(e)),n;if((s=l[3])&&_.getElementsByClassName&&t.getElementsByClassName)return Q.apply(n,t.getElementsByClassName(s)),n}if(_.qsa&&!W[e+" "]&&(!P||!P.test(e))){if(1!==p)h=t,u=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(Se,_e):t.setAttribute("id",a=F),o=(c=L(e)).length;o--;)c[o]="#"+a+" "+f(c[o]);u=c.join(","),h=ye.test(e)&&d(t.parentNode)||t}if(u)try{return Q.apply(n,h.querySelectorAll(u)),n}catch(m){}finally{a===F&&t.removeAttribute("id")}}}return A(e.replace(ae,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>w.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function s(e){var t=M.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)w.attrHandle[n[i]]=t}function r(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function a(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function c(e){return function(t){return"label"in t&&t.disabled===e||"form"in t&&t.disabled===e||"form"in t&&!1===t.disabled&&(t.isDisabled===e||t.isDisabled!==!e&&("label"in t||!Te(t))!==e)}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var s,o=e([],n.length,t),r=o.length;r--;)n[s=o[r]]&&(n[s]=!(i[s]=n[s]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function h(){}function f(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,s=t.next,o=s||i,r=n&&"parentNode"===o,a=K++;return t.first?function(t,n,s){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,s)}:function(t,n,l){var c,u,d,h=[B,a];if(l){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||r)if(u=(d=t[F]||(t[F]={}))[t.uniqueID]||(d[t.uniqueID]={}),s&&s===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===B&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=e(t,n,l))return!0}}}function m(e){return e.length>1?function(t,n,i){for(var s=e.length;s--;)if(!e[s](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var s=0,o=n.length;s<o;s++)t(e,n[s],i);return i}function v(e,t,n,i,s){for(var o,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,s)||(r.push(o),c&&t.push(a)));return r}function y(e,t,n,s,o,r){return s&&!s[F]&&(s=y(s)),o&&!o[F]&&(o=y(o,r)),i(function(i,r,a,l){var c,u,d,h=[],f=[],p=r.length,m=i||g(t||"*",a.nodeType?[a]:a,[]),y=!e||!i&&t?m:v(m,h,e,a,l),b=n?o||(i?e:p||s)?[]:r:y;if(n&&n(y,b,a,l),s)for(c=v(b,f),s(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[f[u]]=!(y[f[u]]=d));if(i){if(o||e){if(o){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(y[u]=d);o(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=o?ee(i,d):h[u])>-1&&(i[c]=!(r[c]=d))}}else b=v(b===r?b.splice(p,b.length):b),o?o(null,r,b,l):Q.apply(r,b)})}function b(e){for(var t,n,i,s=e.length,o=w.relative[e[0].type],r=o||w.relative[" "],a=o?1:0,l=p(function(e){return e===t},r,!0),c=p(function(e){return ee(t,e)>-1},r,!0),u=[function(e,n,i){var s=!o&&(i||n!==D)||((t=n).nodeType?l(e,n,i):c(e,n,i));return t=null,s}];a<s;a++)if(n=w.relative[e[a].type])u=[p(m(u),n)];else{if((n=w.filter[e[a].type].apply(null,e[a].matches))[F]){for(i=++a;i<s&&!w.relative[e[i].type];i++);return y(a>1&&m(u),a>1&&f(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ae,"$1"),n,a<i&&b(e.slice(a,i)),i<s&&b(e=e.slice(i)),i<s&&f(e))}u.push(n)}return m(u)}function E(e,n){var s=n.length>0,o=e.length>0,r=function(i,r,a,l,c){var u,d,h,f=0,p="0",m=i&&[],g=[],y=D,b=i||o&&w.find.TAG("*",c),E=B+=null==y?1:Math.random()||.1,S=b.length;for(c&&(D=r===M||r||c);p!==S&&null!=(u=b[p]);p++){if(o&&u){for(d=0,r||u.ownerDocument===M||(O(u),a=!N);h=e[d++];)if(h(u,r||M,a)){l.push(u);break}c&&(B=E)}s&&((u=!h&&u)&&f--,i&&m.push(u))}if(f+=p,s&&p!==f){for(d=0;h=n[d++];)h(m,g,r,a);if(i){if(f>0)for(;p--;)m[p]||g[p]||(g[p]=X.call(l));g=v(g)}Q.apply(l,g),c&&!i&&g.length>0&&f+n.length>1&&t.uniqueSort(l)}return c&&(B=E,D=y),m};return s?i(r):r}var S,_,w,T,k,L,C,A,D,I,x,O,M,R,N,P,U,j,H,F="sizzle"+1*new Date,$=e.document,B=0,K=0,G=n(),V=n(),W=n(),Y=function(e,t){return e===t&&(x=!0),0},q={}.hasOwnProperty,z=[],X=z.pop,J=z.push,Q=z.push,Z=z.slice,ee=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",se="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+se+")*)|.*)\\)|)",re=new RegExp(ne+"+","g"),ae=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ue=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),de=new RegExp(oe),he=new RegExp("^"+ie+"$"),fe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},pe=/^(?:input|select|textarea|button)$/i,me=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,_e=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},we=function(){O()},Te=p(function(e){return!0===e.disabled},{dir:"parentNode",next:"legend"});try{Q.apply(z=Z.call($.childNodes),$.childNodes),z[$.childNodes.length].nodeType}catch(ke){Q={apply:z.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}for(S in _=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:$;return i!==M&&9===i.nodeType&&i.documentElement?(R=(M=i).documentElement,N=!k(M),$!==M&&(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",we,!1):n.attachEvent&&n.attachEvent("onunload",we)),_.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),_.getElementsByTagName=s(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),_.getElementsByClassName=ge.test(M.getElementsByClassName),_.getById=s(function(e){return R.appendChild(e).id=F,!M.getElementsByName||!M.getElementsByName(F).length}),_.getById?(w.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&N){var n=t.getElementById(e);return n?[n]:[]}},w.filter.ID=function(e){var t=e.replace(be,Ee);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var t=e.replace(be,Ee);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),w.find.TAG=_.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):_.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],s=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[s++];)1===n.nodeType&&i.push(n);return i}return o},w.find.CLASS=_.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&N)return t.getElementsByClassName(e)},U=[],P=[],(_.qsa=ge.test(M.querySelectorAll))&&(s(function(e){R.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&P.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||P.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||P.push("~="),e.querySelectorAll(":checked").length||P.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||P.push(".#.+[+~]")}),s(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&P.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&P.push(":enabled",":disabled"),R.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(_.matchesSelector=ge.test(j=R.matches||R.webkitMatchesSelector||R.mozMatchesSelector||R.oMatchesSelector||R.msMatchesSelector))&&s(function(e){_.disconnectedMatch=j.call(e,"*"),j.call(e,"[s!='']:x"),U.push("!=",oe)}),P=P.length&&new RegExp(P.join("|")),U=U.length&&new RegExp(U.join("|")),t=ge.test(R.compareDocumentPosition),H=t||ge.test(R.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return x=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!_.sortDetached&&t.compareDocumentPosition(e)===n?e===M||e.ownerDocument===$&&H($,e)?-1:t===M||t.ownerDocument===$&&H($,t)?1:I?ee(I,e)-ee(I,t):0:4&n?-1:1)}:function(e,t){if(e===t)return x=!0,0;var n,i=0,s=e.parentNode,o=t.parentNode,a=[e],l=[t];if(!s||!o)return e===M?-1:t===M?1:s?-1:o?1:I?ee(I,e)-ee(I,t):0;if(s===o)return r(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;a[i]===l[i];)i++;return i?r(a[i],l[i]):a[i]===$?-1:l[i]===$?1:0},M):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&O(e),n=n.replace(ue,"='$1']"),_.matchesSelector&&N&&!W[n+" "]&&(!U||!U.test(n))&&(!P||!P.test(n)))try{var i=j.call(e,n);if(i||_.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(ke){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&O(e),H(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&O(e);var n=w.attrHandle[t.toLowerCase()],i=n&&q.call(w.attrHandle,t.toLowerCase())?n(e,t,!N):undefined;return i!==undefined?i:_.attributes||!N?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.escape=function(e){return(e+"").replace(Se,_e)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,s=0;if(x=!_.detectDuplicates,I=!_.sortStable&&e.slice(0),e.sort(Y),x){for(;t=e[s++];)t===e[s]&&(i=n.push(s));for(;i--;)e.splice(n[i],1)}return I=null,e},T=t.getText=function(e){var t,n="",i=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=T(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[i++];)n+=T(t);return n},(w=t.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(be,Ee),e[3]=(e[3]||e[4]||e[5]||"").replace(be,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return fe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&de.test(n)&&(t=L(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(be,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&G(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(s){var o=t.attr(s,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(re," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,s){var o="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===s?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,f,p,m=o!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[r?g.firstChild:g.lastChild],r&&y){for(b=(f=(c=(u=(d=(h=g)[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===B&&c[1])&&c[2],h=f&&g.childNodes[f];h=++f&&h&&h[m]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===t){u[e]=[B,f,b];break}}else if(y&&(b=f=(c=(u=(d=(h=t)[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===B&&c[1]),!1===b)for(;(h=++f&&h&&h[m]||(b=f=0)||p.pop())&&((a?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((u=(d=h[F]||(h[F]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[B,b]),h!==t)););return(b-=s)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,n){var s,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(s=[e,e,"",n],w.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,s=o(e,n),r=s.length;r--;)e[i=ee(e,s[r])]=!(t[i]=s[r])}):function(e){return o(e,0,s)}):o}},pseudos:{not:i(function(e){var t=[],n=[],s=C(e.replace(ae,"$1"));return s[F]?i(function(e,t,n,i){for(var o,r=s(e,null,i,[]),a=e.length;a--;)(o=r[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,s(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(be,Ee),function(t){return(t.textContent||t.innerText||T(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(be,Ee).toLowerCase(),function(t){var n;do{if(n=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===R},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:c(!1),disabled:c(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return me.test(e.nodeName)},input:function(e){return pe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[S]=a(S);for(S in{submit:!0,reset:!0})w.pseudos[S]=l(S);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,L=t.tokenize=function(e,n){var i,s,o,r,a,l,c,u=V[e+" "];if(u)return n?0:u.slice(0);for(a=e,l=[],c=w.preFilter;a;){for(r in i&&!(s=le.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(o=[])),i=!1,(s=ce.exec(a))&&(i=s.shift(),o.push({value:i,type:s[0].replace(ae," ")}),a=a.slice(i.length)),w.filter)!(s=fe[r].exec(a))||c[r]&&!(s=c[r](s))||(i=s.shift(),o.push({value:i,type:r,matches:s}),a=a.slice(i.length));if(!i)break}return n?a.length:a?t.error(e):V(e,l).slice(0)},C=t.compile=function(e,t){var n,i=[],s=[],o=W[e+" "];if(!o){for(t||(t=L(e)),n=t.length;n--;)(o=b(t[n]))[F]?i.push(o):s.push(o);(o=W(e,E(s,i))).selector=e}return o},A=t.select=function(e,t,n,i){var s,o,r,a,l,c="function"==typeof e&&e,u=!i&&L(e=c.selector||e);if(n=n||[],1===u.length){if((o=u[0]=u[0].slice(0)).length>2&&"ID"===(r=o[0]).type&&_.getById&&9===t.nodeType&&N&&w.relative[o[1].type]){if(!(t=(w.find.ID(r.matches[0].replace(be,Ee),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(s=fe.needsContext.test(e)?0:o.length;s--&&(r=o[s],!w.relative[a=r.type]);)if((l=w.find[a])&&(i=l(r.matches[0].replace(be,Ee),ye.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(s,1),!(e=i.length&&f(o)))return Q.apply(n,i),n;break}}return(c||C(e,u))(i,t,!N,n,!t||ye.test(e)&&d(t.parentNode)||t),n},_.sortStable=F.split("").sort(Y).join("")===F,_.detectDuplicates=!!x,O(),_.sortDetached=s(function(e){return 1&e.compareDocumentPosition(M.createElement("fieldset"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),_.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);he.find=ve,he.expr=ve.selectors,he.expr[":"]=he.expr.pseudos,he.uniqueSort=he.unique=ve.uniqueSort,he.text=ve.getText,he.isXMLDoc=ve.isXML,he.contains=ve.contains,he.escapeSelector=ve.escape;var ye=function(e,t,n){for(var i=[],s=n!==undefined;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(s&&he(e).is(n))break;i.push(e)}return i},be=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ee=he.expr.match.needsContext,Se=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i,_e=/^.[^:#\[\.,]*$/;he.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?he.find.matchesSelector(i,e)?[i]:[]:he.find.matches(e,he.grep(t,function(e){return 1===e.nodeType}))},he.fn.extend({find:function(e){var t,n,i=this.length,s=this;if("string"!=typeof e)return this.pushStack(he(e).filter(function(){for(t=0;t<i;t++)if(he.contains(s[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)he.find(e,s[t],n);return i>1?he.uniqueSort(n):n},filter:function(e){return this.pushStack(s(this,e||[],!1))},not:function(e){return this.pushStack(s(this,e||[],!0))},is:function(e){return!!s(this,"string"==typeof e&&Ee.test(e)?he(e):e||[],!1).length}});var we,Te=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(he.fn.init=function(e,t,n){var i,s;if(!e)return this;if(n=n||we,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:Te.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof he?t[0]:t,he.merge(this,he.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:Z,!0)),Se.test(i[1])&&he.isPlainObject(t))for(i in t)he.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(s=Z.getElementById(i[2]))&&(this[0]=s,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):he.isFunction(e)?n.ready!==undefined?n.ready(e):e(he):he.makeArray(e,this)}).prototype=he.fn,we=he(Z);var ke=/^(?:parents|prev(?:Until|All))/,Le={children:!0,contents:!0,next:!0,prev:!0};he.fn.extend({has:function(e){var t=he(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(he.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,s=this.length,o=[],r="string"!=typeof e&&he(e);if(!Ee.test(e))for(;i<s;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&he.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?he.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?se.call(he(e),this[0]):se.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(he.uniqueSort(he.merge(this.get(),he(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),he.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ye(e,"parentNode")},parentsUntil:function(e,t,n){return ye(e,"parentNode",n)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return ye(e,"nextSibling")},prevAll:function(e){return ye(e,"previousSibling")},nextUntil:function(e,t,n){return ye(e,"nextSibling",n)},prevUntil:function(e,t,n){return ye(e,"previousSibling",n)},siblings:function(e){return be((e.parentNode||{}).firstChild,e)},children:function(e){return be(e.firstChild)},contents:function(e){return e.contentDocument||he.merge([],e.childNodes)}},function(e,t){he.fn[e]=function(n,i){var s=he.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(s=he.filter(i,s)),this.length>1&&(Le[e]||he.uniqueSort(s),ke.test(e)&&s.reverse()),this.pushStack(s)}});var Ce=/\S+/g;he.Callbacks=function(e){e="string"==typeof e?r(e):he.extend({},e);var t,n,i,s,o=[],a=[],l=-1,c=function(){for(s=e.once,i=t=!0;a.length;l=-1)for(n=a.shift();++l<o.length;)!1===o[l].apply(n[0],n[1])&&e.stopOnFalse&&(l=o.length,n=!1);e.memory||(n=!1),t=!1,s&&(o=n?[]:"")},u={add:function(){return o&&(n&&!t&&(l=o.length-1,a.push(n)),function i(t){he.each(t,function(t,n){he.isFunction(n)?e.unique&&u.has(n)||o.push(n):n&&n.length&&"string"!==he.type(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return he.each(arguments,function(e,t){for(var n;(n=he.inArray(t,o,n))>-1;)o.splice(n,1),n<=l&&l--}),this},has:function(e){return e?he.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return s=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return s=a=[],n||t||(o=n=""),this},locked:function(){return!!s},fireWith:function(e,n){return s||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},he.extend({Deferred:function(t){var n=[["notify","progress",he.Callbacks("memory"),he.Callbacks("memory"),2],["resolve","done",he.Callbacks("once memory"),he.Callbacks("once memory"),0,"resolved"],["reject","fail",he.Callbacks("once memory"),he.Callbacks("once memory"),1,"rejected"]],i="pending",s={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return s.then(null,e)},pipe:function(){var e=arguments;return he.Deferred(function(t){he.each(n,function(n,i){var s=he.isFunction(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=s&&s.apply(this,arguments);e&&he.isFunction(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[i[0]+"With"](this,s?[e]:arguments)})}),e=null}).promise()},then:function(t,i,s){function o(t,n,i,s){return function(){var c=this,u=arguments,d=function(){var e,d;if(!(t<r)){if((e=i.apply(c,u))===n.promise())throw new TypeError("Thenable self-resolution");d=e&&("object"==typeof e||"function"==typeof e)&&e.then,he.isFunction(d)?s?d.call(e,o(r,n,a,s),o(r,n,l,s)):(r++,d.call(e,o(r,n,a,s),o(r,n,l,s),o(r,n,a,n.notifyWith))):(i!==a&&(c=undefined,u=[e]),(s||n.resolveWith)(c,u))}},h=s?d:function(){try{d()}catch(e){he.Deferred.exceptionHook&&he.Deferred.exceptionHook(e,h.stackTrace),t+1>=r&&(i!==l&&(c=undefined,u=[e]),n.rejectWith(c,u))}};t?h():(he.Deferred.getStackHook&&(h.stackTrace=he.Deferred.getStackHook()),e.setTimeout(h))}}var r=0;return he.Deferred(function(e){n[0][3].add(o(0,e,he.isFunction(s)?s:a,e.notifyWith)),n[1][3].add(o(0,e,he.isFunction(t)?t:a)),n[2][3].add(o(0,e,he.isFunction(i)?i:l))}).promise()},promise:function(e){return null!=e?he.extend(e,s):s}},o={};return he.each(n,function(e,t){var r=t[2],a=t[5];s[t[1]]=r.add,a&&r.add(function(){i=a},n[3-e][2].disable,n[0][2].lock),r.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?undefined:this,arguments),this},o[t[0]+"With"]=r.fireWith}),s.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),s=te.call(arguments),o=he.Deferred(),r=function(e){return function(n){i[e]=this,s[e]=arguments.length>1?te.call(arguments):n,--t||o.resolveWith(i,s)}};if(t<=1&&(c(e,o.done(r(n)).resolve,o.reject),"pending"===o.state()||he.isFunction(s[n]&&s[n].then)))return o.then();for(;n--;)c(s[n],r(n),o.reject);return o.promise()}});var Ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;he.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Ae.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},he.readyException=function(t){e.setTimeout(function(){throw t})};var De=he.Deferred();he.fn.ready=function(e){return De.then(e)["catch"](function(e){he.readyException(e)}),this},he.extend({isReady:!1,readyWait:1,holdReady:function(e){e?he.readyWait++:he.ready(!0)},ready:function(e){(!0===e?--he.readyWait:he.isReady)||(he.isReady=!0,!0!==e&&--he.readyWait>0||De.resolveWith(Z,[he]))}}),he.ready.then=De.then,"complete"===Z.readyState||"loading"!==Z.readyState&&!Z.documentElement.doScroll?e.setTimeout(he.ready):(Z.addEventListener("DOMContentLoaded",u),e.addEventListener("load",u));var Ie=function(e,t,n,i,s,o,r){var a=0,l=e.length,c=null==n;if("object"===he.type(n))for(a in s=!0,n)Ie(e,t,a,n[a],!0,o,r);else if(i!==undefined&&(s=!0,he.isFunction(i)||(r=!0),c&&(r?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(he(e),n)})),t))for(;a<l;a++)t(e[a],n,r?i:i.call(e[a],a,t(e[a],n)));return s?e:c?t.call(e):l?t(e[0],n):o},xe=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};d.uid=1,d.prototype={cache:function(e){var t=e[this.expando];return t||(t={},xe(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,s=this.cache(e);if("string"==typeof t)s[he.camelCase(t)]=n;else for(i in t)s[he.camelCase(i)]=t[i];return s},get:function(e,t){return t===undefined?this.cache(e):e[this.expando]&&e[this.expando][he.camelCase(t)]},access:function(e,t,n){return t===undefined||t&&"string"==typeof t&&n===undefined?this.get(e,t):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,i=e[this.expando];if(i!==undefined){if(t!==undefined){n=(t=he.isArray(t)?t.map(he.camelCase):(t=he.camelCase(t))in i?[t]:t.match(Ce)||[]).length;for(;n--;)delete i[t[n]]}(t===undefined||he.isEmptyObject(i))&&(e.nodeType?e[this.expando]=undefined:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return t!==undefined&&!he.isEmptyObject(t)}};var Oe=new d,Me=new d,Re=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ne=/[A-Z]/g;he.extend({hasData:function(e){return Me.hasData(e)||Oe.hasData(e)},data:function(e,t,n){return Me.access(e,t,n)},removeData:function(e,t){Me.remove(e,t)},_data:function(e,t,n){return Oe.access(e,t,n)},_removeData:function(e,t){Oe.remove(e,t)}}),he.fn.extend({data:function(e,t){var n,i,s,o=this[0],r=o&&o.attributes;if(e===undefined){if(this.length&&(s=Me.get(o),1===o.nodeType&&!Oe.get(o,"hasDataAttrs"))){for(n=r.length;n--;)r[n]&&0===(i=r[n].name).indexOf("data-")&&(i=he.camelCase(i.slice(5)),h(o,i,s[i]));Oe.set(o,"hasDataAttrs",!0)}return s}return"object"==typeof e?this.each(function(){Me.set(this,e)}):Ie(this,function(t){var n;if(o&&t===undefined)return(n=Me.get(o,e))!==undefined?n:(n=h(o,e))!==undefined?n:void 0;this.each(function(){Me.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Me.remove(this,e)})}}),he.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Oe.get(e,t),n&&(!i||he.isArray(n)?i=Oe.access(e,t,he.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=he.queue(e,t),i=n.length,s=n.shift(),o=he._queueHooks(e,t),r=function(){he.dequeue(e,t)};"inprogress"===s&&(s=n.shift(),i--),s&&("fx"===t&&n.unshift("inprogress"),delete o.stop,s.call(e,r,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Oe.get(e,n)||Oe.access(e,n,{empty:he.Callbacks("once memory").add(function(){Oe.remove(e,[t+"queue",n])})})}}),he.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?he.queue(this[0],e):t===undefined?this:this.each(function(){var n=he.queue(this,e,t);he._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&he.dequeue(this,e)})},dequeue:function(e){return this.each(function(){he.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,s=he.Deferred(),o=this,r=this.length,a=function(){--i||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=undefined),e=e||"fx";r--;)(n=Oe.get(o[r],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),s.promise(t)}});var Pe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Pe+")([a-z%]*)$","i"),je=["Top","Right","Bottom","Left"],He=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&he.contains(e.ownerDocument,e)&&"none"===he.css(e,"display")},Fe=function(e,t,n,i){var s,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in s=n.apply(e,i||[]),t)e.style[o]=r[o];return s},$e={};he.fn.extend({show:function(){return m(this,!0)},hide:function(){return m(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){He(this)?he(this).show():he(this).hide()})}});var Be=/^(?:checkbox|radio)$/i,Ke=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ge=/^$|\/(?:java|ecma)script/i,Ve={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ve.optgroup=Ve.option,Ve.tbody=Ve.tfoot=Ve.colgroup=Ve.caption=Ve.thead,Ve.th=Ve.td;var We,Ye,qe=/<|&#?\w+;/;We=Z.createDocumentFragment().appendChild(Z.createElement("div")),(Ye=Z.createElement("input")).setAttribute("type","radio"),Ye.setAttribute("checked","checked"),Ye.setAttribute("name","t"),We.appendChild(Ye),ue.checkClone=We.cloneNode(!0).cloneNode(!0).lastChild.checked,We.innerHTML="<textarea>x</textarea>",ue.noCloneChecked=!!We.cloneNode(!0).lastChild.defaultValue;var ze=Z.documentElement,Xe=/^key/,Je=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qe=/^([^.]*)(?:\.(.+)|)/;he.event={global:{},add:function(e,t,n,i,s){var o,r,a,l,c,u,d,h,f,p,m,g=Oe.get(e);if(g)for(n.handler&&(n=(o=n).handler,s=o.selector),s&&he.find.matchesSelector(ze,s),n.guid||(n.guid=he.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(t){return void 0!==he&&he.event.triggered!==t.type?he.event.dispatch.apply(e,arguments):undefined}),c=(t=(t||"").match(Ce)||[""]).length;c--;)f=m=(a=Qe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f&&(d=he.event.special[f]||{},f=(s?d.delegateType:d.bindType)||f,d=he.event.special[f]||{},u=he.extend({type:f,origType:m,
data:i,handler:n,guid:n.guid,selector:s,needsContext:s&&he.expr.match.needsContext.test(s),namespace:p.join(".")},o),(h=l[f])||((h=l[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,p,r)||e.addEventListener&&e.addEventListener(f,r)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),s?h.splice(h.delegateCount++,0,u):h.push(u),he.event.global[f]=!0)},remove:function(e,t,n,i,s){var o,r,a,l,c,u,d,h,f,p,m,g=Oe.hasData(e)&&Oe.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(Ce)||[""]).length;c--;)if(f=m=(a=Qe.exec(t[c])||[])[1],p=(a[2]||"").split(".").sort(),f){for(d=he.event.special[f]||{},h=l[f=(i?d.delegateType:d.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=o=h.length;o--;)u=h[o],!s&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));r&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,p,g.handle)||he.removeEvent(e,f,g.handle),delete l[f])}else for(f in l)he.event.remove(e,f+t[c],n,i,!0);he.isEmptyObject(l)&&Oe.remove(e,"handle events")}},dispatch:function(e){var t,n,i,s,o,r,a=he.event.fix(e),l=new Array(arguments.length),c=(Oe.get(this,"events")||{})[a.type]||[],u=he.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(r=he.event.handlers.call(this,a,c),t=0;(s=r[t++])&&!a.isPropagationStopped();)for(a.currentTarget=s.elem,n=0;(o=s.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,(i=((he.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l))!==undefined&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,s,o,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(i=[],n=0;n<a;n++)i[s=(o=t[n]).selector+" "]===undefined&&(i[s]=o.needsContext?he(s,this).index(l)>-1:he.find(s,this,null,[l]).length),i[s]&&i.push(o);i.length&&r.push({elem:l,handlers:i})}return a<t.length&&r.push({elem:this,handlers:t.slice(a)}),r},addProp:function(e,t){Object.defineProperty(he.Event.prototype,e,{enumerable:!0,configurable:!0,get:he.isFunction(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[he.expando]?e:new he.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&he.nodeName(this,"input"))return this.click(),!1},_default:function(e){return he.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},he.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},he.Event=function(e,t){if(!(this instanceof he.Event))return new he.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&!1===e.returnValue?b:E,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&he.extend(this,t),this.timeStamp=e&&e.timeStamp||he.now(),this[he.expando]=!0},he.Event.prototype={constructor:he.Event,isDefaultPrevented:E,isPropagationStopped:E,isImmediatePropagationStopped:E,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=b,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=b,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=b,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},he.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&t!==undefined&&Je.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},he.event.addProp),he.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){he.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,s=e.relatedTarget,o=e.handleObj;return s&&(s===i||he.contains(i,s))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),he.fn.extend({on:function(e,t,n,i){return _(this,e,t,n,i)},one:function(e,t,n,i){return _(this,e,t,n,i,1)},off:function(e,t,n){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,he(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(s in e)this.off(s,t,e[s]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=undefined),!1===n&&(n=E),this.each(function(){he.event.remove(this,e,n,t)})}});var Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,et=/<script|<style|<link/i,tt=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^true\/(.*)/,it=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;he.extend({htmlPrefilter:function(e){return e.replace(Ze,"<$1></$2>")},clone:function(e,t,n){var i,s,o,r,a=e.cloneNode(!0),l=he.contains(e.ownerDocument,e);if(!(ue.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||he.isXMLDoc(e)))for(r=g(a),i=0,s=(o=g(e)).length;i<s;i++)C(o[i],r[i]);if(t)if(n)for(o=o||g(e),r=r||g(a),i=0,s=o.length;i<s;i++)L(o[i],r[i]);else L(e,a);return(r=g(a,"script")).length>0&&v(r,!l&&g(e,"script")),a},cleanData:function(e){for(var t,n,i,s=he.event.special,o=0;(n=e[o])!==undefined;o++)if(xe(n)){if(t=n[Oe.expando]){if(t.events)for(i in t.events)s[i]?he.event.remove(n,i):he.removeEvent(n,i,t.handle);n[Oe.expando]=undefined}n[Me.expando]&&(n[Me.expando]=undefined)}}}),he.fn.extend({detach:function(e){return D(this,e,!0)},remove:function(e){return D(this,e)},text:function(e){return Ie(this,function(e){return e===undefined?he.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return A(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||w(this,e).appendChild(e)})},prepend:function(){return A(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=w(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return A(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(he.cleanData(g(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return he.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,i=this.length;if(e===undefined&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!et.test(e)&&!Ve[(Ke.exec(e)||["",""])[1].toLowerCase()]){e=he.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(he.cleanData(g(t,!1)),t.innerHTML=e);t=0}catch(s){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return A(this,arguments,function(t){var n=this.parentNode;he.inArray(this,e)<0&&(he.cleanData(g(this)),n&&n.replaceChild(t,this))},e)}}),he.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){he.fn[e]=function(e){for(var n,i=[],s=he(e),o=s.length-1,r=0;r<=o;r++)n=r===o?this:this.clone(!0),he(s[r])[t](n),ie.apply(i,n.get());return this.pushStack(i)}});var st=/^margin/,ot=new RegExp("^("+Pe+")(?!px)[a-z%]+$","i"),rt=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)};!function(){function t(){if(a){a.style.cssText="box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",ze.appendChild(r);var t=e.getComputedStyle(a);n="1%"!==t.top,o="2px"===t.marginLeft,i="4px"===t.width,a.style.marginRight="50%",s="4px"===t.marginRight,ze.removeChild(r),a=null}}var n,i,s,o,r=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",ue.clearCloneStyle="content-box"===a.style.backgroundClip,r.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",r.appendChild(a),he.extend(ue,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return t(),i},pixelMarginRight:function(){return t(),s},reliableMarginLeft:function(){return t(),o}}))}();var at=/^(none|table(?!-c[ea]).+)/,lt={position:"absolute",visibility:"hidden",display:"block"},ct={letterSpacing:"0",fontWeight:"400"},ut=["Webkit","Moz","ms"],dt=Z.createElement("div").style;he.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=I(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,r,a=he.camelCase(t),l=e.style;if(t=he.cssProps[a]||(he.cssProps[a]=O(a)||a),r=he.cssHooks[t]||he.cssHooks[a],n===undefined)return r&&"get"in r&&(s=r.get(e,!1,i))!==undefined?s:l[t];"string"===(o=typeof n)&&(s=Ue.exec(n))&&s[1]&&(n=f(e,t,s),o="number"),null!=n&&n==n&&("number"===o&&(n+=s&&s[3]||(he.cssNumber[a]?"":"px")),ue.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&(n=r.set(e,n,i))===undefined||(l[t]=n))}},css:function(e,t,n,i){var s,o,r,a=he.camelCase(t);return t=he.cssProps[a]||(he.cssProps[a]=O(a)||a),(r=he.cssHooks[t]||he.cssHooks[a])&&"get"in r&&(s=r.get(e,!0,n)),s===undefined&&(s=I(e,t,i)),"normal"===s&&t in ct&&(s=ct[t]),""===n||n?(o=parseFloat(s),!0===n||isFinite(o)?o||0:s):s}}),he.each(["height","width"],function(e,t){he.cssHooks[t]={get:function(e,n,i){if(n)return!at.test(he.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?N(e,t,i):Fe(e,lt,function(){return N(e,t,i)})},set:function(e,n,i){var s,o=i&&rt(e),r=i&&R(e,t,i,"border-box"===he.css(e,"boxSizing",!1,o),o);return r&&(s=Ue.exec(n))&&"px"!==(s[3]||"px")&&(e.style[t]=n,n=he.css(e,t)),M(e,n,r)}}}),he.cssHooks.marginLeft=x(ue.reliableMarginLeft,function(e,t){if(t)return(parseFloat(I(e,"marginLeft"))||e.getBoundingClientRect().left-Fe(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),he.each({margin:"",padding:"",border:"Width"},function(e,t){he.cssHooks[e+t]={expand:function(n){for(var i=0,s={},o="string"==typeof n?n.split(" "):[n];i<4;i++)s[e+je[i]+t]=o[i]||o[i-2]||o[0];return s}},st.test(e)||(he.cssHooks[e+t].set=M)}),he.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var i,s,o={},r=0;if(he.isArray(t)){for(i=rt(e),s=t.length;r<s;r++)o[t[r]]=he.css(e,t[r],!1,i);return o}return n!==undefined?he.style(e,t,n):he.css(e,t)},e,t,arguments.length>1)}}),he.Tween=P,P.prototype={constructor:P,init:function(e,t,n,i,s,o){this.elem=e,this.prop=n,this.easing=s||he.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(he.cssNumber[n]?"":"px")},cur:function(){var e=P.propHooks[this.prop];return e&&e.get?e.get(this):P.propHooks._default.get(this)},run:function(e){var t,n=P.propHooks[this.prop];return this.options.duration?this.pos=t=he.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):P.propHooks._default.set(this),this}},P.prototype.init.prototype=P.prototype,P.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=he.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){he.fx.step[e.prop]?he.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[he.cssProps[e.prop]]&&!he.cssHooks[e.prop]?e.elem[e.prop]=e.now:he.style(e.elem,e.prop,e.now+e.unit)}}},P.propHooks.scrollTop=P.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},he.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},he.fx=P.prototype.init,he.fx.step={};var ht,ft,pt=/^(?:toggle|show|hide)$/,mt=/queueHooks$/;he.Animation=he.extend(K,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return f(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){he.isFunction(e)?(t=e,e=["*"]):e=e.match(Ce);for(var n,i=0,s=e.length;i<s;i++)n=e[i],K.tweeners[n]=K.tweeners[n]||[],K.tweeners[n].unshift(t)},prefilters:[$],prefilter:function(e,t){t?K.prefilters.unshift(e):K.prefilters.push(e)}}),he.speed=function(e,t,n){var i=e&&"object"==typeof e?he.extend({},e):{complete:n||!n&&t||he.isFunction(e)&&e,duration:e,easing:n&&t||t&&!he.isFunction(t)&&t};return he.fx.off||Z.hidden?i.duration=0:i.duration="number"==typeof i.duration?i.duration:i.duration in he.fx.speeds?he.fx.speeds[i.duration]:he.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){he.isFunction(i.old)&&i.old.call(this),i.queue&&he.dequeue(this,i.queue)},i},he.fn.extend({fadeTo:function(e,t,n,i){return this.filter(He).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var s=he.isEmptyObject(e),o=he.speed(t,n,i),r=function(){var t=K(this,he.extend({},e),o);(s||Oe.get(this,"finish"))&&t.stop(!0)};return r.finish=r,s||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=undefined),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,s=null!=e&&e+"queueHooks",o=he.timers,r=Oe.get(this);if(s)r[s]&&r[s].stop&&i(r[s]);else for(s in r)r[s]&&r[s].stop&&mt.test(s)&&i(r[s]);for(s=o.length;s--;)o[s].elem!==this||null!=e&&o[s].queue!==e||(o[s].anim.stop(n),t=!1,o.splice(s,1));!t&&n||he.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Oe.get(this),i=n[e+"queue"],s=n[e+"queueHooks"],o=he.timers,r=i?i.length:0;for(n.finish=!0,he.queue(this,e,[]),s&&s.stop&&s.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),he.each(["toggle","show","hide"],function(e,t){var n=he.fn[t];he.fn[t]=function(e,i,s){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(H(t,!0),e,i,s)}}),he.each({slideDown:H("show"),slideUp:H("hide"),slideToggle:H("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){he.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),he.timers=[],he.fx.tick=function(){var e,t=0,n=he.timers;for(ht=he.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||he.fx.stop(),ht=undefined},he.fx.timer=function(e){he.timers.push(e),e()?he.fx.start():he.timers.pop()},he.fx.interval=13,he.fx.start=function(){ft||(ft=e.requestAnimationFrame?e.requestAnimationFrame(U):e.setInterval(he.fx.tick,he.fx.interval))},he.fx.stop=function(){e.cancelAnimationFrame?e.cancelAnimationFrame(ft):e.clearInterval(ft),ft=null},he.fx.speeds={slow:600,fast:200,_default:400},he.fn.delay=function(t,n){return t=he.fx&&he.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,i){var s=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(s)}})},function(){var e=Z.createElement("input"),t=Z.createElement("select").appendChild(Z.createElement("option"));e.type="checkbox",ue.checkOn=""!==e.value,ue.optSelected=t.selected,(e=Z.createElement("input")).value="t",e.type="radio",ue.radioValue="t"===e.value}();var gt,vt=he.expr.attrHandle;he.fn.extend({attr:function(e,t){return Ie(this,he.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){he.removeAttr(this,e)})}}),he.extend({attr:function(e,t,n){var i,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?he.prop(e,t,n):(1===o&&he.isXMLDoc(e)||(s=he.attrHooks[t.toLowerCase()]||(he.expr.match.bool.test(t)?gt:undefined)),n!==undefined?null===n?void he.removeAttr(e,t):s&&"set"in s&&(i=s.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n):s&&"get"in s&&null!==(i=s.get(e,t))?i:null==(i=he.find.attr(e,t))?undefined:i)},attrHooks:{type:{set:function(e,t){if(!ue.radioValue&&"radio"===t&&he.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,s=t&&t.match(Ce);if(s&&1===e.nodeType)for(;n=s[i++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?he.removeAttr(e,n):e.setAttribute(n,n),n}},he.each(he.expr.match.bool.source.match(/\w+/g),function(e,t){var n=vt[t]||he.find.attr;vt[t]=function(e,t,i){var s,o,r=t.toLowerCase();return i||(o=vt[r],vt[r]=s,s=null!=n(e,t,i)?r:null,vt[r]=o),s}});var yt=/^(?:input|select|textarea|button)$/i,bt=/^(?:a|area)$/i;he.fn.extend({prop:function(e,t){return Ie(this,he.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[he.propFix[e]||e]})}}),he.extend({prop:function(e,t,n){var i,s,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&he.isXMLDoc(e)||(t=he.propFix[t]||t,s=he.propHooks[t]),n!==undefined?s&&"set"in s&&(i=s.set(e,n,t))!==undefined?i:e[t]=n:s&&"get"in s&&null!==(i=s.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=he.find.attr(e,"tabindex");return t?parseInt(t,10):yt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ue.optSelected||(he.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),he.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){he.propFix[this.toLowerCase()]=this});var Et=/[\t\r\n\f]/g;he.fn.extend({addClass:function(e){var t,n,i,s,o,r,a,l=0;if(he.isFunction(e))return this.each(function(t){he(this).addClass(e.call(this,t,G(this)))});if("string"==typeof e&&e)for(t=e.match(Ce)||[];n=this[l++];)if(s=G(n),i=1===n.nodeType&&(" "+s+" ").replace(Et," ")){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s!==(a=he.trim(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,s,o,r,a,l=0;if(he.isFunction(e))return this.each(function(t){he(this).removeClass(e.call(this,t,G(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(Ce)||[];n=this[l++];)if(s=G(n),i=1===n.nodeType&&(" "+s+" ").replace(Et," ")){for(r=0;o=t[r++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s!==(a=he.trim(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):he.isFunction(e)?this.each(function(n){he(this).toggleClass(e.call(this,n,G(this),t),t)}):this.each(function(){var t,i,s,o;if("string"===n)for(i=0,s=he(this),o=e.match(Ce)||[];t=o[i++];)s.hasClass(t)?s.removeClass(t):s.addClass(t);else e!==undefined&&"boolean"!==n||((t=G(this))&&Oe.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Oe.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+G(n)+" ").replace(Et," ").indexOf(t)>-1)return!0;return!1}});var St=/\r/g,_t=/[\x20\t\r\n\f]+/g;he.fn.extend({val:function(e){var t,n,i,s=this[0];return arguments.length?(i=he.isFunction(e),this.each(function(n){var s;1===this.nodeType&&(null==(s=i?e.call(this,n,he(this).val()):e)?s="":"number"==typeof s?s+="":he.isArray(s)&&(s=he.map(s,function(e){return null==e?"":e+""})),(t=he.valHooks[this.type]||he.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&t.set(this,s,"value")!==undefined||(this.value=s))})):s?(t=he.valHooks[s.type]||he.valHooks[s.nodeName.toLowerCase()])&&"get"in t&&(n=t.get(s,"value"))!==undefined?n:"string"==typeof(n=s.value)?n.replace(St,""):null==n?"":n:void 0}}),he.extend({valHooks:{option:{get:function(e){var t=he.find.attr(e,"value");return null!=t?t:he.trim(he.text(e)).replace(_t," ")}},select:{get:function(e){for(var t,n,i=e.options,s=e.selectedIndex,o="select-one"===e.type,r=o?null:[],a=o?s+1:i.length,l=s<0?a:o?s:0;l<a;l++)if(((n=i[l]).selected||l===s)&&!n.disabled&&(!n.parentNode.disabled||!he.nodeName(n.parentNode,"optgroup"))){if(t=he(n).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var n,i,s=e.options,o=he.makeArray(t),r=s.length;r--;)((i=s[r]).selected=he.inArray(he.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),he.each(["radio","checkbox"],function(){he.valHooks[this]={set:function(e,t){if(he.isArray(t))return e.checked=he.inArray(he(e).val(),t)>-1}},ue.checkOn||(he.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var wt=/^(?:focusinfocus|focusoutblur)$/;he.extend(he.event,{trigger:function(t,n,i,s){var o,r,a,l,c,u,d,h=[i||Z],f=ae.call(t,"type")?t.type:t,p=ae.call(t,"namespace")?t.namespace.split("."):[];if(r=a=i=i||Z,3!==i.nodeType&&8!==i.nodeType&&!wt.test(f+he.event.triggered)&&(f.indexOf(".")>-1&&(f=(p=f.split(".")).shift(),p.sort()),c=f.indexOf(":")<0&&"on"+f,(t=t[he.expando]?t:new he.Event(f,"object"==typeof t&&t)).isTrigger=s?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=undefined,t.target||(t.target=i),n=null==n?[t]:he.makeArray(n,[t]),d=he.event.special[f]||{},s||!d.trigger||!1!==d.trigger.apply(i,n))){if(!s&&!d.noBubble&&!he.isWindow(i)){for(l=d.delegateType||f,wt.test(l+f)||(r=r.parentNode);r;r=r.parentNode)h.push(r),a=r;a===(i.ownerDocument||Z)&&h.push(a.defaultView||a.parentWindow||e)}for(o=0;(r=h[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||f,(u=(Oe.get(r,"events")||{})[t.type]&&Oe.get(r,"handle"))&&u.apply(r,n),(u=c&&r[c])&&u.apply&&xe(r)&&(t.result=u.apply(r,n),!1===t.result&&t.preventDefault());return t.type=f,s||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),n)||!xe(i)||c&&he.isFunction(i[f])&&!he.isWindow(i)&&((a=i[c])&&(i[c]=null),he.event.triggered=f,i[f](),he.event.triggered=undefined,a&&(i[c]=a)),t.result}},simulate:function(e,t,n){var i=he.extend(new he.Event,n,{type:e,isSimulated:!0});he.event.trigger(i,null,t)}}),he.fn.extend({trigger:function(e,t){return this.each(function(){he.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return he.event.trigger(e,t,n,!0)}}),he.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){he.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),he.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),ue.focusin="onfocusin"in e,ue.focusin||he.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){he.event.simulate(t,e.target,he.event.fix(e))};he.event.special[t]={setup:function(){var i=this.ownerDocument||this,s=Oe.access(i,t);s||i.addEventListener(e,n,!0),Oe.access(i,t,(s||0)+1)},teardown:function(){var i=this.ownerDocument||this,s=Oe.access(i,t)-1;s?Oe.access(i,t,s):(i.removeEventListener(e,n,!0),Oe.remove(i,t))}}});var Tt=e.location,kt=he.now(),Lt=/\?/;he.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){n=undefined}return n&&!n.getElementsByTagName("parsererror").length||he.error("Invalid XML: "+t),n};var Ct=/\[\]$/,At=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i;he.param=function(e,t){var n,i=[],s=function(e,t){var n=he.isFunction(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(he.isArray(e)||e.jquery&&!he.isPlainObject(e))he.each(e,function(){s(this.name,this.value)});else for(n in e)V(n,e[n],t,s);return i.join("&")},he.fn.extend({serialize:function(){return he.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=he.prop(this,"elements");return e?he.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!he(this).is(":disabled")&&It.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!Be.test(e))}).map(function(e,t){var n=he(this).val();return null==n?null:he.isArray(n)?he.map(n,function(e){return{name:t.name,value:e.replace(At,"\r\n")}}):{name:t.name,value:n.replace(At,"\r\n")}}).get()}});var xt=/%20/g,Ot=/#.*$/,Mt=/([?&])_=[^&]*/,Rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Nt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,Ut=/^\/\//,jt={},Ht={},Ft="*/".concat("*"),$t=Z.createElement("a");$t.href=Tt.href,he.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:Nt.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ft,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":he.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,he.ajaxSettings),t):q(he.ajaxSettings,e)},ajaxPrefilter:W(jt),ajaxTransport:W(Ht),ajax:function(t,n){function i(t,n,i,a){var c,h,f,E,S,_=n;u||(u=!0,l&&e.clearTimeout(l),s=undefined,r=a||"",w.readyState=t>0?4:0,c=t>=200&&t<300||304===t,i&&(E=z(p,w,i)),E=X(p,E,w,c),c?(p.ifModified&&((S=w.getResponseHeader("Last-Modified"))&&(he.lastModified[o]=S),(S=w.getResponseHeader("etag"))&&(he.etag[o]=S)),204===t||"HEAD"===p.type?_="nocontent":304===t?_="notmodified":(_=E.state,h=E.data,c=!(f=E.error))):(f=_,!t&&_||(_="error",t<0&&(t=0))),w.status=t,w.statusText=(n||_)+"",c?v.resolveWith(m,[h,_,w]):v.rejectWith(m,[w,_,f]),w.statusCode(b),b=undefined,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[w,p,c?h:f]),y.fireWith(m,[w,_]),d&&(g.trigger("ajaxComplete",[w,p]),--he.active||he.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=undefined),n=n||{};var s,o,r,a,l,c,u,d,h,f,p=he.ajaxSetup({},n),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?he(m):he.event,v=he.Deferred(),y=he.Callbacks("once memory"),b=p.statusCode||{},E={},S={},_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Rt.exec(r);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?r:null},setRequestHeader:function(e,t){return null==u&&(e=S[e.toLowerCase()]=S[e.toLowerCase()]||e,E[e]=t),this},overrideMimeType:function(e){return null==u&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)w.always(e[w.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||_;return s&&s.abort(t),i(0,t),this}};if(v.promise(w),p.url=((t||p.url||Tt.href)+"").replace(Ut,Tt.protocol+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(Ce)||[""],null==p.crossDomain){c=Z.createElement("a");try{c.href=p.url,c.href=c.href,p.crossDomain=$t.protocol+"//"+$t.host!=c.protocol+"//"+c.host}catch(T){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=he.param(p.data,p.traditional)),Y(jt,p,n,w),u)return w;for(h in(d=he.event&&p.global)&&0==he.active++&&he.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Pt.test(p.type),o=p.url.replace(Ot,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(xt,"+")):(f=p.url.slice(o.length),p.data&&(o+=(Lt.test(o)?"&":"?")+p.data,delete p.data),!1===p.cache&&(o=o.replace(Mt,""),f=(Lt.test(o)?"&":"?")+"_="+kt+++f),p.url=o+f),p.ifModified&&(he.lastModified[o]&&w.setRequestHeader("If-Modified-Since",he.lastModified[o]),he.etag[o]&&w.setRequestHeader("If-None-Match",he.etag[o])),(p.data&&p.hasContent&&!1!==p.contentType||n.contentType)&&w.setRequestHeader("Content-Type",p.contentType),w.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Ft+"; q=0.01":""):p.accepts["*"]),p.headers)w.setRequestHeader(h,p.headers[h]);if(p.beforeSend&&(!1===p.beforeSend.call(m,w,p)||u))return w.abort();if(_="abort",y.add(p.complete),w.done(p.success),w.fail(p.error),s=Y(Ht,p,n,w)){if(w.readyState=1,d&&g.trigger("ajaxSend",[w,p]),u)return w;p.async&&p.timeout>0&&(l=e.setTimeout(function(){w.abort("timeout")},p.timeout));try{u=!1,s.send(E,i)}catch(T){if(u)throw T;i(-1,T)}}else i(-1,"No Transport");return w},getJSON:function(e,t,n){return he.get(e,t,n,"json")},getScript:function(e,t){return he.get(e,undefined,t,"script")}}),he.each(["get","post"],function(e,t){he[t]=function(e,n,i,s){return he.isFunction(n)&&(s=s||i,i=n,n=undefined),he.ajax(he.extend({url:e,type:t,dataType:s,data:n,success:i},he.isPlainObject(e)&&e))}}),he._evalUrl=function(e){return he.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},he.fn.extend({wrapAll:function(e){var t;return this[0]&&(he.isFunction(e)&&(e=e.call(this[0])),t=he(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return he.isFunction(e)?this.each(function(t){he(this).wrapInner(e.call(this,t))}):this.each(function(){var t=he(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=he.isFunction(e);return this.each(function(n){he(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){he(this).replaceWith(this.childNodes)}),this}}),he.expr.pseudos.hidden=function(e){return!he.expr.pseudos.visible(e)},he.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},he.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Bt={0:200,1223:204},Kt=he.ajaxSettings.xhr();ue.cors=!!Kt&&"withCredentials"in Kt,ue.ajax=Kt=!!Kt,he.ajaxTransport(function(t){var n,i;if(ue.cors||Kt&&!t.crossDomain)return{send:function(s,o){var r,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)a[r]=t.xhrFields[r];for(r in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)a.setRequestHeader(r,s[r]);n=function(e){return function(){n&&(n=i=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Bt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),i=a.onerror=n("error"),a.onabort!==undefined?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&i()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(l){if(n)throw l}},abort:function(){n&&n()}}}),he.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),he.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{
"text script":function(e){return he.globalEval(e),e}}}),he.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),he.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,s){t=he("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&s("error"===e.type?404:200,e.type)}),Z.head.appendChild(t[0])},abort:function(){n&&n()}}});var Gt,Vt=[],Wt=/(=)\?(?=&|$)|\?\?/;he.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||he.expando+"_"+kt++;return this[e]=!0,e}}),he.ajaxPrefilter("json jsonp",function(t,n,i){var s,o,r,a=!1!==t.jsonp&&(Wt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Wt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return s=t.jsonpCallback=he.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Wt,"$1"+s):!1!==t.jsonp&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+s),t.converters["script json"]=function(){return r||he.error(s+" was not called"),r[0]},t.dataTypes[0]="json",o=e[s],e[s]=function(){r=arguments},i.always(function(){o===undefined?he(e).removeProp(s):e[s]=o,t[s]&&(t.jsonpCallback=n.jsonpCallback,Vt.push(s)),r&&he.isFunction(o)&&o(r[0]),r=o=undefined}),"script"}),ue.createHTMLDocument=((Gt=Z.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),he.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(ue.createHTMLDocument?((i=(t=Z.implementation.createHTMLDocument("")).createElement("base")).href=Z.location.href,t.head.appendChild(i)):t=Z),o=!n&&[],(s=Se.exec(e))?[t.createElement(s[1])]:(s=y([e],t,o),o&&o.length&&he(o).remove(),he.merge([],s.childNodes)));var i,s,o},he.fn.load=function(e,t,n){var i,s,o,r=this,a=e.indexOf(" ");return a>-1&&(i=he.trim(e.slice(a)),e=e.slice(0,a)),he.isFunction(t)?(n=t,t=undefined):t&&"object"==typeof t&&(s="POST"),r.length>0&&he.ajax({url:e,type:s||"GET",dataType:"html",data:t}).done(function(e){o=arguments,r.html(i?he("<div>").append(he.parseHTML(e)).find(i):e)}).always(n&&function(e,t){r.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},he.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){he.fn[t]=function(e){return this.on(t,e)}}),he.expr.pseudos.animated=function(e){return he.grep(he.timers,function(t){return e===t.elem}).length},he.offset={setOffset:function(e,t,n){var i,s,o,r,a,l,c=he.css(e,"position"),u=he(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=he.css(e,"top"),l=he.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(r=(i=u.position()).top,s=i.left):(r=parseFloat(o)||0,s=parseFloat(l)||0),he.isFunction(t)&&(t=t.call(e,n,he.extend({},a))),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+s),"using"in t?t.using.call(e,d):u.css(d)}},he.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){he.offset.setOffset(this,e,t)});var t,n,i,s,o=this[0];return o?o.getClientRects().length?(i=o.getBoundingClientRect()).width||i.height?(n=J(s=o.ownerDocument),t=s.documentElement,{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===he.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),he.nodeName(e[0],"html")||(i=e.offset()),i={top:i.top+he.css(e[0],"borderTopWidth",!0),left:i.left+he.css(e[0],"borderLeftWidth",!0)}),{top:t.top-i.top-he.css(n,"marginTop",!0),left:t.left-i.left-he.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===he.css(e,"position");)e=e.offsetParent;return e||ze})}}),he.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;he.fn[e]=function(i){return Ie(this,function(e,i,s){var o=J(e);if(s===undefined)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:s,n?s:o.pageYOffset):e[i]=s},e,i,arguments.length)}}),he.each(["top","left"],function(e,t){he.cssHooks[t]=x(ue.pixelPosition,function(e,n){if(n)return n=I(e,t),ot.test(n)?he(e).position()[t]+"px":n})}),he.each({Height:"height",Width:"width"},function(e,t){he.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){he.fn[i]=function(s,o){var r=arguments.length&&(n||"boolean"!=typeof s),a=n||(!0===s||!0===o?"margin":"border");return Ie(this,function(t,n,s){var o;return he.isWindow(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):s===undefined?he.css(t,n,a):he.style(t,n,s,a)},t,r?s:undefined,r)}})}),he.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),he.parseJSON=JSON.parse,"function"==typeof define&&define.amd&&define("jquery",[],function(){return he});var Yt=e.jQuery,qt=e.$;return he.noConflict=function(t){return e.$===he&&(e.$=qt),t&&e.jQuery===he&&(e.jQuery=Yt),he},t||(e.jQuery=e.$=he),he}),function(e,t){"use strict";var n;e.rails!==t&&e.error("jquery-ujs has already been loaded!");var i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[name][type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var s=e.Event(n);return t.trigger(s,i),!1!==s.result},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&!1!==e.data("remote")},handleRemote:function(i){var s,o,r,a,l,c;if(n.fire(i,"ajax:before")){if(a=i.data("with-credentials")||null,l=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){s=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),r=e(i[0]).serializeArray();var u=i.data("ujs:submit-button");u&&(r.push(u),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(s=i.data("method"),o=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(s=i.data("method")||"get",o=i.data("url"),r=i.serialize(),i.data("params")&&(r=r+"&"+i.data("params"))):(s=i.data("method"),o=n.href(i),r=i.data("params")||null);return c={type:s||"GET",data:r,dataType:l,beforeSend:function(e,s){if(s.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+s.accepts.script),!n.fire(i,"ajax:beforeSend",[e,s]))return!1;i.trigger("ajax:send",e)},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(o)},a&&(c.xhrFields={withCredentials:a}),o&&(c.url=o),n.ajax(c)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var s=n.href(i),o=i.data("method"),r=i.attr("target"),a=n.csrfToken(),l=n.csrfParam(),c=e('<form method="post" action="'+s+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';l===t||a===t||n.isCrossDomain(s)||(u+='<input name="'+l+'" value="'+a+'" type="hidden" />'),r&&c.attr("target",r),c.hide().append(u).appendTo("body"),c.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",(i=e.data("disable-with"))!==t&&(e.data("ujs:enable-with",e[n]()),e[n](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),s=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{s=n.confirm(i)}catch(o){(console.error||console.log).call(console,o.stack||o)}t=n.fire(e,"confirm:complete",[s])}return s&&t},blankInputs:function(t,n,i){var s,o,r,a=e(),l=n||"input,textarea",c=t.find(l),u={};return c.each(function(){(s=e(this)).is("input[type=radio]")?(r=s.attr("name"),u[r]||(0===t.find('input[type=radio]:checked[name="'+r+'"]').length&&(o=t.find('input[type=radio][name="'+r+'"]'),a=a.add(o)),u[r]=r)):(s.is("input[type=checkbox],input[type=radio]")?s.is(":checked"):!!s.val())===i&&(a=a.add(s))}),!!a.length&&a},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");i!==t&&(e.data("ujs:enable-with",e.html()),e.html(i)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),i.on("ajax:complete",n.linkDisableSelector,function(){n.enableElement(e(this))}),i.on("ajax:complete",n.buttonDisableSelector,function(){n.enableFormElement(e(this))}),i.on("click.rails",n.linkClickSelector,function(t){var i=e(this),s=i.data("method"),o=i.data("params"),r=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!r&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(r&&(!s||"GET"===s)&&!o)return!0;var a=n.handleRemote(i);return!1===a?n.enableElement(i):a.fail(function(){n.enableElement(i)}),!1}return s?(n.handleMethod(i),!1):void 0}),i.on("click.rails",n.buttonClickSelector,function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var s=n.handleRemote(i);return!1===s?n.enableFormElement(i):s.fail(function(){n.enableFormElement(i)}),!1}),i.on("change.rails",n.inputChangeSelector,function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.on("submit.rails",n.formSubmitSelector,function(i){var s,o,r=e(this),a=n.isRemote(r);if(!n.allowAction(r))return n.stopEverything(i);if(r.attr("novalidate")===t)if(r.data("ujs:formnovalidate-button")===t){if((s=n.blankInputs(r,n.requiredInputSelector,!1))&&n.fire(r,"ajax:aborted:required",[s]))return n.stopEverything(i)}else r.data("ujs:formnovalidate-button",t);if(a){if(o=n.nonBlankInputs(r,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(r)},13);var l=n.fire(r,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(r)},13),l}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.on("click.rails",n.formInputClickSelector,function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var s=i.attr("name"),o=s?{name:s,value:i.val()}:null,r=i.closest("form");0===r.length&&(r=e("#"+i.attr("form"))),r.data("ujs:submit-button",o),r.data("ujs:formnovalidate-button",i.attr("formnovalidate")),r.data("ujs:submit-button-formaction",i.attr("formaction")),r.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.on("ajax:send.rails",n.formSubmitSelector,function(t){this===t.target&&n.disableFormElements(e(this))}),i.on("ajax:complete.rails",n.formSubmitSelector,function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),jQuery.extend({debounce:function(e,t,n,i){var s;return 3==arguments.length&&"boolean"!=typeof n&&(i=n,n=!1),function(){var o=arguments;i=i||this,n&&!s&&e.apply(i,o),clearTimeout(s),s=setTimeout(function(){n||e.apply(i,o),s=null},t)}},throttle:function(e,t,n){var i,s,o;return function(){s=arguments,o=!0,n=n||this,i||function(){o?(e.apply(n,s),o=!1,i=setTimeout(arguments.callee,t)):i=null}()}}}),
/*
 * jQuery Easing v1.3 - http://gsgd.co.uk/sandbox/jquery/easing/
 *
 * Uses the built in easing capabilities added In jQuery 1.1
 * to offer multiple easing options
 *
 * TERMS OF USE - jQuery Easing
 * 
 * Open source under the BSD License. 
 * 
 * Copyright  2008 George McGinley Smith
 * All rights reserved.
 * 
 * Redistribution and use in source and binary forms, with or without modification, 
 * are permitted provided that the following conditions are met:
 * 
 * Redistributions of source code must retain the above copyright notice, this list of 
 * conditions and the following disclaimer.
 * Redistributions in binary form must reproduce the above copyright notice, this list 
 * of conditions and the following disclaimer in the documentation and/or other materials 
 * provided with the distribution.
 * 
 * Neither the name of the author nor the names of contributors may be used to endorse 
 * or promote products derived from this software without specific prior written permission.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY 
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE
 *  COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 *  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE
 *  GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED 
 * AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 *  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED 
 * OF THE POSSIBILITY OF SUCH DAMAGE. 
 *
*/
jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,s){return jQuery.easing[jQuery.easing.def](e,t,n,i,s)},easeInQuad:function(e,t,n,i,s){return i*(t/=s)*t+n},easeOutQuad:function(e,t,n,i,s){return-i*(t/=s)*(t-2)+n},easeInOutQuad:function(e,t,n,i,s){return(t/=s/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,s){return i*(t/=s)*t*t+n},easeOutCubic:function(e,t,n,i,s){return i*((t=t/s-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,s){return(t/=s/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,s){return i*(t/=s)*t*t*t+n},easeOutQuart:function(e,t,n,i,s){return-i*((t=t/s-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,s){return(t/=s/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,s){return i*(t/=s)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,s){return i*((t=t/s-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,s){return(t/=s/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,s){return-i*Math.cos(t/s*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,s){return i*Math.sin(t/s*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,s){return-i/2*(Math.cos(Math.PI*t/s)-1)+n},easeInExpo:function(e,t,n,i,s){return 0==t?n:i*Math.pow(2,10*(t/s-1))+n},easeOutExpo:function(e,t,n,i,s){return t==s?n+i:i*(1-Math.pow(2,-10*t/s))+n},easeInOutExpo:function(e,t,n,i,s){return 0==t?n:t==s?n+i:(t/=s/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(2-Math.pow(2,-10*--t))+n},easeInCirc:function(e,t,n,i,s){return-i*(Math.sqrt(1-(t/=s)*t)-1)+n},easeOutCirc:function(e,t,n,i,s){return i*Math.sqrt(1-(t=t/s-1)*t)+n},easeInOutCirc:function(e,t,n,i,s){return(t/=s/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,s){var o=1.70158,r=0,a=i;if(0==t)return n;if(1==(t/=s))return n+i;if(r||(r=.3*s),a<Math.abs(i)){a=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/a);return-a*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/r)+n},easeOutElastic:function(e,t,n,i,s){var o=1.70158,r=0,a=i;if(0==t)return n;if(1==(t/=s))return n+i;if(r||(r=.3*s),a<Math.abs(i)){a=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/a);return a*Math.pow(2,-10*t)*Math.sin((t*s-o)*(2*Math.PI)/r)+i+n},easeInOutElastic:function(e,t,n,i,s){var o=1.70158,r=0,a=i;if(0==t)return n;if(2==(t/=s/2))return n+i;if(r||(r=s*(.3*1.5)),a<Math.abs(i)){a=i;o=r/4}else o=r/(2*Math.PI)*Math.asin(i/a);return t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/r)*-.5+n:a*Math.pow(2,-10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/r)*.5+i+n},easeInBack:function(e,t,n,i,s,o){return o==undefined&&(o=1.70158),i*(t/=s)*t*((o+1)*t-o)+n},easeOutBack:function(e,t,n,i,s,o){return o==undefined&&(o=1.70158),i*((t=t/s-1)*t*((o+1)*t+o)+1)+n},easeInOutBack:function(e,t,n,i,s,o){return o==undefined&&(o=1.70158),(t/=s/2)<1?i/2*(t*t*((1+(o*=1.525))*t-o))+n:i/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+n},easeInBounce:function(e,t,n,i,s){return i-jQuery.easing.easeOutBounce(e,s-t,0,i,s)+n},easeOutBounce:function(e,t,n,i,s){return(t/=s)<1/2.75?i*(7.5625*t*t)+n:t<2/2.75?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,s){return t<s/2?.5*jQuery.easing.easeInBounce(e,2*t,0,i,s)+n:.5*jQuery.easing.easeOutBounce(e,2*t-s,0,i,s)+.5*i+n}}),function(){var e,t,n,i,s,o,r,a,l,c,u,d,h,f,p,m,g,v,y,b=[].slice,E=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};(e=jQuery).payment={},e.payment.fn={},e.fn.payment=function(){var t,n;return n=arguments[0],t=2<=arguments.length?b.call(arguments,1):[],e.payment.fn[n].apply(this,t)},i=[{type:"maestro",pattern:/^(5018|5020|5038|6304|6759|676[1-3])/,format:s=/(\d{1,4})/g,length:[12,13,14,15,16,17,18,19],cvcLength:[3],luhn:!0},{type:"dinersclub",pattern:/^(36|38|30[0-5])/,format:s,length:[14],cvcLength:[3],luhn:!0},{type:"laser",pattern:/^(6706|6771|6709)/,format:s,length:[16,17,18,19],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^35/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"unionpay",pattern:/^62/,format:s,length:[16,17,18,19],cvcLength:[3],luhn:!1},{type:"discover",pattern:/^(6011|65|64[4-9]|622)/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^5[1-5]/,format:s,length:[16],cvcLength:[3],luhn:!0},{type:"amex",pattern:/^3[47]/,format:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,length:[15],cvcLength:[3,4],luhn:!0},{type:"visa",pattern:/^4/,format:s,length:[13,14,15,16],cvcLength:[3],luhn:!0}],t=function(e){var t,n,s;for(e=(e+"").replace(/\D/g,""),n=0,s=i.length;n<s;n++)if((t=i[n]).pattern.test(e))return t},n=function(e){var t,n,s;for(n=0,s=i.length;n<s;n++)if((t=i[n]).type===e)return t},h=function(e){var t,n,i,s,o,r;for(i=!0,s=0,o=0,r=(n=(e+"").split("").reverse()).length;o<r;o++)t=n[o],t=parseInt(t,10),(i=!i)&&(t*=2),t>9&&(t-=9),s+=t;return s%10==0},d=function(e){var t;return null!=e.prop("selectionStart")&&e.prop("selectionStart")!==e.prop("selectionEnd")||!("undefined"==typeof document||null===document||null==(t=document.selection)||"function"!=typeof t.createRange||!t.createRange().text)},f=function(t){return setTimeout(function(){var n,i;return i=(n=e(t.currentTarget)).val(),i=e.payment.formatCardNumber(i),n.val(i)})},a=function(n){var i,s,o,r,a,l,c;if(o=String.fromCharCode(n.which),/^\d+$/.test(o)&&(c=(i=e(n.currentTarget)).val(),s=t(c+o),r=(c.replace(/\D/g,"")+o).length,l=16,s&&(l=s.length[s.length.length-1]),!(r>=l||null!=i.prop("selectionStart")&&i.prop("selectionStart")!==c.length)))return(a=s&&"amex"===s.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/).test(c)?(n.preventDefault(),i.val(c+" "+o)):a.test(c+o)?(n.preventDefault(),i.val(c+o+" ")):void 0},o=function(t){var n,i;if(i=(n=e(t.currentTarget)).val(),!t.meta&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length))return 8===t.which&&/\s\d?$/.test(i)?(t.preventDefault(),n.val(i.replace(/\s\d?$/,""))):void 0},l=function(t){var n,i,s;if(i=String.fromCharCode(t.which),/^\d+$/.test(i))return s=(n=e(t.currentTarget)).val()+i,/^\d$/.test(s)&&"0"!==s&&"1"!==s?(t.preventDefault(),n.val("0"+s+" / ")):/^\d\d$/.test(s)?(t.preventDefault(),n.val(s+" / ")):void 0},c=function(t){var n,i,s;if(i=String.fromCharCode(t.which),/^\d+$/.test(i))return s=(n=e(t.currentTarget)).val(),/^\d\d$/.test(s)?n.val(s+" / "):void 0},u=function(t){var n,i;if("/"===String.fromCharCode(t.which))return i=(n=e(t.currentTarget)).val(),/^\d$/.test(i)&&"0"!==i?n.val("0"+i+" / "):void 0},r=function(t){var n,i;if(!t.meta&&(i=(n=e(t.currentTarget)).val(),8===t.which&&(null==n.prop("selectionStart")||n.prop("selectionStart")===i.length)))return/\s\/\s?\d?$/.test(i)?(t.preventDefault(),n.val(i.replace(/\s\/\s?\d?$/,""))):void 0},v=function(e){var t;return!(!e.metaKey&&!e.ctrlKey)||32!==e.which&&(0===e.which||(e.which<33||(t=String.fromCharCode(e.which),!!/[\d\s]/.test(t))))},m=function(n){var i,s,o,r;if(i=e(n.currentTarget),o=String.fromCharCode(n.which),/^\d+$/.test(o)&&!d(i))return r=(i.val()+o).replace(/\D/g,""),(s=t(r))?r.length<=s.length[s.length.length-1]:r.length<=16},g=function(t){var n,i;if(n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i)&&!d(n))return!((n.val()+i).replace(/\D/g,"").length>6)&&void 0},p=function(t){var n,i;if(n=e(t.currentTarget),i=String.fromCharCode(t.which),/^\d+$/.test(i))return(n.val()+i).length<=4},y=function(t){var n,s,o,r,a;if(a=(n=e(t.currentTarget)).val(),r=e.payment.cardType(a)||"unknown",!n.hasClass(r))return s=function(){var e,t,n;for(n=[],e=0,t=i.length;e<t;e++)o=i[e],n.push(o.type);return n}(),n.removeClass("unknown"),n.removeClass(s.join(" ")),n.addClass(r),n.toggleClass("identified","unknown"!==r),n.trigger("payment.cardType",r)},e.payment.fn.formatCardCVC=function(){return this.payment("restrictNumeric"),this.on("keypress",p),this},e.payment.fn.formatCardExpiry=function(){return this.payment("restrictNumeric"),this.on("keypress",g),this.on("keypress",l),this.on("keypress",u),this.on("keypress",c),this.on("keydown",r),this},e.payment.fn.formatCardNumber=function(){return this.payment("restrictNumeric"),this.on("keypress",m),this.on("keypress",a),this.on("keydown",o),this.on("keyup",y),this.on("paste",f),this},e.payment.fn.restrictNumeric=function(){return this.on("keypress",v),this},e.payment.fn.cardExpiryVal=function(){return e.payment.cardExpiryVal(e(this).val())},e.payment.cardExpiryVal=function(e){var t,n,i;return t=(i=(e=e.replace(/\s/g,"")).split("/",2))[0],2===(null!=(n=i[1])?n.length:void 0)&&/^\d+$/.test(n)&&(n=(new Date).getFullYear().toString().slice(0,2)+n),{month:t=parseInt(t,10),year:n=parseInt(n,10)}},e.payment.validateCardNumber=function(e){var n,i;return e=(e+"").replace(/\s+|-/g,""),!!/^\d+$/.test(e)&&(!!(n=t(e))&&(i=e.length,E.call(n.length,i)>=0&&(!1===n.luhn||h(e))))},e.payment.validateCardExpiry=function(t,n){var i,s,o;return"object"==typeof t&&"month"in t&&(t=(o=t).month,n=o.year),!(!t||!n)&&(t=e.trim(t),n=e.trim(n),!!/^\d+$/.test(t)&&(!!/^\d+$/.test(n)&&(parseInt(t,10)<=12&&(2===n.length&&(n=(new Date).getFullYear().toString().slice(0,2)+n),s=new Date(n,t),i=new Date,s.setMonth(s.getMonth()-1),s.setMonth(s.getMonth()+1,1),s>i))))},e.payment.validateCardCVC=function(t,i){var s,o;return t=e.trim(t),!!/^\d+$/.test(t)&&(i?(s=t.length,E.call(null!=(o=n(i))?o.cvcLength:void 0,s)>=0):t.length>=3&&t.length<=4)},e.payment.cardType=function(e){var n;return e&&(null!=(n=t(e))?n.type:void 0)||null},e.payment.formatCardNumber=function(e){var n,i,s,o;return(n=t(e))?(s=n.length[n.length.length-1],e=(e=e.replace(/\D/g,"")).slice(0,+s+1||9e9),n.format.global?null!=(o=e.match(n.format))?o.join(" "):void 0:(null!=(i=n.format.exec(e))&&i.shift(),null!=i?i.join(" "):void 0)):e}}.call(this),function(e){e.fn.changeElementType=function(t){this.each(function(n,i){var s={};e.each(i.attributes,function(e,t){s[t.nodeName]=t.nodeValue});var o=e("<"+t+"/>",s).append(e(i).contents());return e(i).replaceWith(o),o})}}(jQuery),
/*!
 * jQuery Mobile Virtual Mouse @VERSION
 * http://jquerymobile.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){for(;e&&"undefined"!=typeof e.originalEvent;)e=e.originalEvent;return e}function n(n,i){var s,o,r,a,l,c,u,d,h,f=n.type;if((n=e.Event(n)).type=i,s=n.originalEvent,o=L,f.search(/^(mouse|click)/)>-1&&(o=A),s)for(u=o.length;u;)n[a=o[--u]]=s[a];if(f.search(/mouse(down|up)|click/)>-1&&!n.which&&(n.which=1),-1!==f.search(/^touch/)&&(f=(r=t(s)).touches,l=r.changedTouches,c=f&&f.length?f[0]:l&&l.length?l[0]:undefined))for(d=0,h=T.length;d<h;d++)n[a=T[d]]=c[a];return n}function i(t){for(var n,i,s={};t;){for(i in n=e.data(t,_))n[i]&&(s[i]=s.hasVirtualBinding=!0);t=t.parentNode}return s}function s(t,n){for(var i;t;){if((i=e.data(t,_))&&(!n||i[n]))return t;t=t.parentNode}return null}function o(){P=!1}function r(){P=!0}function a(){F=0,R.length=0,N=!1,r()}function l(){o()}function c(){I&&(clearTimeout(I),I=0)}function u(){c(),I=setTimeout(function(){I=0,a()},e.vmouse.resetTimerDuration)}function d(t,i,o){var r;return(o&&o[t]||!o&&s(i.target,t))&&(r=n(i,t),e(i.target).trigger(r)),r}function h(t){var n,i=e.data(t.target,w);"click"===t.type&&"touchstart"===e.data(t.target,"lastTouchType")&&setTimeout(function(){"touchstart"===e.data(t.target,"lastTouchType")&&(a(),delete e.data(t.target).lastTouchType,h(t))},e.vmouse.maximumTimeBetweenTouches),N||F&&F===i||(n=d("v"+t.type,t))&&(n.isDefaultPrevented()&&t.preventDefault(),n.isPropagationStopped()&&t.stopPropagation(),n.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}function f(n){var s,o,r,a=t(n).touches;a&&1===a.length&&(o=i(s=n.target),e.data(n.target,"lastTouchType",n.type),o.hasVirtualBinding&&(F=H++,e.data(s,w,F),c(),l(),M=!1,r=t(n).touches[0],x=r.pageX,O=r.pageY,d("vmouseover",n,o),d("vmousedown",n,o)))}function p(t){P||(M||d("vmousecancel",t,i(t.target)),e.data(t.target,"lastTouchType",t.type),M=!0,u())}function m(n){if(!P){var s=t(n).touches[0],o=M,r=e.vmouse.moveDistanceThreshold,a=i(n.target);e.data(n.target,"lastTouchType",n.type),(M=M||Math.abs(s.pageX-x)>r||Math.abs(s.pageY-O)>r)&&!o&&d("vmousecancel",n,a),d("vmousemove",n,a),u()}}function g(n){if(!P&&e.data(n.target,"lastTouchType")!==undefined){r(),delete e.data(n.target).lastTouchType;var s,o,a=i(n.target);d("vmouseup",n,a),M||(s=d("vclick",n,a))&&s.isDefaultPrevented()&&(o=t(n).changedTouches[0],R.push({touchID:F,x:o.clientX,y:o.clientY}),N=!0),d("vmouseout",n,a),M=!1,u()}}function v(t){var n,i=e.data(t,_);if(i)for(n in i)if(i[n])return!0;return!1}function y(){}function b(t){var n=t.substr(1);return{setup:function(){v(this)||e.data(this,_,{}),e.data(this,_)[t]=!0,D[t]=(D[t]||0)+1,1===D[t]&&j.bind(n,h),e(this).bind(n,y),U&&(D.touchstart=(D.touchstart||0)+1,1===D.touchstart&&j.bind("touchstart",f).bind("touchend",g).bind("touchmove",m).bind("scroll",p))},teardown:function(){--D[t],D[t]||j.unbind(n,h),U&&(--D.touchstart,D.touchstart||j.unbind("touchstart",f).unbind("touchmove",m).unbind("touchend",g).unbind("scroll",p));var i=e(this),s=e.data(this,_);s&&(s[t]=!1),i.unbind(n,y),v(this)||i.removeData(_)}}}var E,S,_="virtualMouseBindings",w="virtualTouchID",T="clientX clientY pageX pageY screenX screenY".split(" "),k="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),L="altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),C=e.event.mouseHooks?e.event.mouseHooks.props:[],A=L.concat(C),D={},I=0,x=0,O=0,M=!1,R=[],N=!1,P=!1,U="addEventListener"in document,j=e(document),H=1,F=0;for(e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500,maximumTimeBetweenTouches:100},S=0;S<k.length;S++)e.event.special[k[S]]=b(k[S]);U&&document.addEventListener("click",function(t){var n,i,s,o,r,a=R.length,l=t.target;if(a)for(n=t.clientX,i=t.clientY,E=e.vmouse.clickDistanceThreshold,s=l;s;){for(o=0;o<a;o++)if(r=R[o],0,s===l&&Math.abs(r.x-n)<E&&Math.abs(r.y-i)<E||e.data(s,w)===r.touchID)return t.preventDefault(),void t.stopPropagation();s=s.parentNode}},!0)}),
/*
 * jQuery Highlight plugin
 *
 * Based on highlight v3 by Johann Burkard
 * http://johannburkard.de/blog/programming/javascript/highlight-javascript-text-higlighting-jquery-plugin.html
 *
 * Code a little bit refactored and cleaned (in my humble opinion).
 * Most important changes:
 *  - has an option to highlight only entire words (wordsOnly - false by default),
 *  - has an option to be case sensitive (caseSensitive - false by default)
 *  - highlight element tag and class names can be specified in options
 *
 * Usage:
 *   // wrap every occurrance of text 'lorem' in content
 *   // with <span class='highlight'> (default options)
 *   $('#content').highlight('lorem');
 *
 *   // search for and highlight more terms at once
 *   // so you can save some time on traversing DOM
 *   $('#content').highlight(['lorem', 'ipsum']);
 *   $('#content').highlight('lorem ipsum');
 *
 *   // search only for entire word 'lorem'
 *   $('#content').highlight('lorem', { wordsOnly: true });
 *
 *   // don't ignore case during search of term 'lorem'
 *   $('#content').highlight('lorem', { caseSensitive: true });
 *
 *   // wrap every occurrance of term 'ipsum' in content
 *   // with <em class='important'>
 *   $('#content').highlight('ipsum', { element: 'em', className: 'important' });
 *
 *   // remove default highlight
 *   $('#content').unhighlight();
 *
 *   // remove custom highlight
 *   $('#content').unhighlight({ element: 'em', className: 'important' });
 *
 *
 * Copyright (c) 2009 Bartek Szopka
 *
 * Licensed under MIT license.
 *
 */
jQuery.extend({highlight:function(e,t,n,i){if(3===e.nodeType){var s=e.data.match(t);if(s){var o=document.createElement(n||"span");o.className=i||"highlight";var r=e.splitText(s.index);r.splitText(s[0].length);var a=r.cloneNode(!0);return o.appendChild(a),r.parentNode.replaceChild(o,r),1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName)&&(e.tagName!==n.toUpperCase()||e.className!==i))for(var l=0;l<e.childNodes.length;l++)l+=jQuery.highlight(e.childNodes[l],t,n,i);return 0}}),jQuery.fn.unhighlight=function(e){var t={className:"highlight",element:"span"};return jQuery.extend(t,e),this.find(t.element+"."+t.className).each(function(){var e=this.parentNode;e.replaceChild(this.firstChild,this),e.normalize()}).end()},jQuery.fn.highlight=function(e,t){var n={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(n,t),e.constructor===String&&(e=[e]),e=jQuery.grep(e,function(e){return""!=e}),0==(e=jQuery.map(e,function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")})).length)return this;var i=n.caseSensitive?"":"i",s="("+e.join("|")+")";n.wordsOnly&&(s="\\b"+s+"\\b");var o=new RegExp(s,i);return this.each(function(){jQuery.highlight(this,o,n.element,n.className)})},function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var s=this.prototype;e=!0;var o=new this;for(var r in e=!1,n)o[r]="function"==typeof n[r]&&"function"==typeof s[r]&&t.test(n[r])?function(e,t){return function(){var n=this._super;this._super=s[e];var i=t.apply(this,arguments);return this._super=n,i}}(r,n[r]):n[r];return i.prototype=o,i.constructor=i,i.extend=arguments.callee,i}}(),function(e){function t(e,t,n,i,s){this._listener=t,this._isOnce=n,this.context=i,this._signal=e,this._priority=s||0}function n(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function i(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){i.prototype.dispatch.apply(e,arguments)}}t.prototype={active:!0,params:null,execute:function(e){var t,n;return this.active&&this._listener&&(n=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,n),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},i.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(e,n,i,s){var o,r=this._indexOfListener(e,i);if(-1!==r){if((o=this._bindings[r]).isOnce()!==n)throw new Error("You cannot add"+(n?"":"Once")+"() then add"+(n?"Once":"")+"() the same listener without removing the relationship first.")}else o=new t(this,e,n,i,s),this._addBinding(o);return this.memorize&&this._prevParams&&o.execute(this._prevParams),o},_addBinding:function(e){var t=this._bindings.length;do{--t}while(this._bindings[t]&&e._priority<=this._bindings[t]._priority);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var n,i=this._bindings.length;i--;)if((n=this._bindings[i])._listener===e&&n.context===t)return i;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return n(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return n(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){n(e,"remove");var i=this._indexOfListener(e,t);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(){if(this.active){var e,t=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=t),n){e=this._bindings.slice(),this._shouldPropagate=!0;do{n--}while(e[n]&&this._shouldPropagate&&!1!==e[n].execute(t))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var s=i;s.Signal=i,"function"==typeof define&&define.amd?define(function(){return s}):"undefined"!=typeof module&&module.exports?module.exports=s:e.signals=s}(this),
//! moment.js
//! version : 2.2.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
function(e){function t(e,t){return function(n){return l(e.call(this,n),t)}}function n(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function i(){}function s(e){r(this,e)}function o(e){var t=e.years||e.year||e.y||0,n=e.months||e.month||e.M||0,i=e.weeks||e.week||e.w||0,s=e.days||e.day||e.d||0,o=e.hours||e.hour||e.h||0,r=e.minutes||e.minute||e.m||0,a=e.seconds||e.second||e.s||0,l=e.milliseconds||e.millisecond||e.ms||0;this._input=e,this._milliseconds=+l+1e3*a+6e4*r+36e5*o,this._days=+s+7*i,this._months=+n+12*t,this._data={},this._bubble()}function r(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function a(e){return 0>e?Math.ceil(e):Math.floor(e)}function l(e,t){for(var n=e+"";n.length<t;)n="0"+n;return n}function c(e,t,n,i){var s,o,r=t._milliseconds,a=t._days,l=t._months;r&&e._d.setTime(+e._d+r*n),(a||l)&&(s=e.minute(),o=e.hour()),a&&e.date(e.date()+a*n),l&&e.month(e.month()+l*n),r&&!i&&U.updateOffset(e),(a||l)&&(e.minute(s),e.hour(o))}function u(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e,t){var n,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(n=0;i>n;n++)~~e[n]!=~~t[n]&&o++;return o+s}function h(e){return e?le[e]||e.toLowerCase().replace(/(.)s$/,"$1"):e}function f(e,t){return t.abbr=e,$[e]||($[e]=new i),$[e].set(t),$[e]}function p(e){delete $[e]}function m(e){if(!e)return U.fn._lang;if(!$[e]&&B)try{require("./lang/"+e)}catch(t){return U.fn._lang}return $[e]||U.fn._lang}function g(e){return e.match(/\[.*\]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function v(e){var t,n,i=e.match(V);for(t=0,n=i.length;n>t;t++)i[t]=he[i[t]]?he[i[t]]:g(i[t]);return function(s){var o="";for(t=0;n>t;t++)o+=i[t]instanceof Function?i[t].call(s,e):i[t];return o}}function y(e,t){return t=b(t,e.lang()),ce[t]||(ce[t]=v(t)),ce[t](e)}function b(e,t){function n(e){return t.longDateFormat(e)||e}for(var i=5;i--&&(W.lastIndex=0,W.test(e));)e=e.replace(W,n);return e}function E(e,t){switch(e){case"DDDD":return z;case"YYYY":return X;case"YYYYY":return J;case"S":case"SS":case"SSS":case"DDD":return q;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Q;case"a":case"A":return m(t._l)._meridiemParse;case"X":return te;case"Z":case"ZZ":return Z;case"T":return ee;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return Y;default:return new RegExp(e.replace("\\",""))}}function S(e){var t=((Z.exec(e)||[])[0]+"").match(oe)||["-",0,0],n=60*t[1]+~~t[2];return"+"===t[0]?-n:n}function _(e,t,n){var i,s=n._a;switch(e){case"M":case"MM":null!=t&&(s[1]=~~t-1);break;case"MMM":case"MMMM":null!=(i=m(n._l).monthsParse(t))?s[1]=i:n._isValid=!1;break;case"D":case"DD":null!=t&&(s[2]=~~t);break;case"DDD":case"DDDD":null!=t&&(s[1]=0,s[2]=~~t);break;case"YY":s[0]=~~t+(~~t>68?1900:2e3);break;case"YYYY":case"YYYYY":s[0]=~~t;break;case"a":case"A":n._isPm=m(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":s[3]=~~t;break;case"m":case"mm":s[4]=~~t;break;case"s":case"ss":s[5]=~~t;break;case"S":case"SS":case"SSS":s[6]=~~(1e3*("0."+t));break;case"X":n._d=new Date(1e3*parseFloat(t));break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=S(t)}null==t&&(n._isValid=!1)}function w(e){var t,n,i,s=[];if(!e._d){for(i=k(e),t=0;3>t&&null==e._a[t];++t)e._a[t]=s[t]=i[t];for(;7>t;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];s[3]+=~~((e._tzm||0)/60),s[4]+=~~((e._tzm||0)%60),n=new Date(0),e._useUTC?(n.setUTCFullYear(s[0],s[1],s[2]),n.setUTCHours(s[3],s[4],s[5],s[6])):(n.setFullYear(s[0],s[1],s[2]),n.setHours(s[3],s[4],s[5],s[6])),e._d=n}}function T(e){var t=e._i;e._d||(e._a=[t.years||t.year||t.y,t.months||t.month||t.M,t.days||t.day||t.d,t.hours||t.hour||t.h,t.minutes||t.minute||t.m,t.seconds||t.second||t.s,t.milliseconds||t.millisecond||t.ms],w(e))}function k(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function L(e){var t,n,i,s=m(e._l),o=""+e._i;for(i=b(e._f,s).match(V),e._a=[],t=0;t<i.length;t++)(n=(E(i[t],e).exec(o)||[])[0])&&(o=o.slice(o.indexOf(n)+n.length)),he[i[t]]&&_(i[t],n,e);o&&(e._il=o),e._isPm&&e._a[3]<12&&(e._a[3]+=12),!1===e._isPm&&12===e._a[3]&&(e._a[3]=0),w(e)}function C(e){var t,n,i,o,a,l=99;for(o=0;o<e._f.length;o++)(t=r({},e))._f=e._f[o],L(t),n=new s(t),a=d(t._a,n.toArray()),n._il&&(a+=n._il.length),l>a&&(l=a,i=n);r(e,i)}function A(e){var t,n=e._i,i=ne.exec(n);if(i){for(e._f="YYYY-MM-DD"+(i[2]||" "),t=0;4>t;t++)if(se[t][1].exec(n)){e._f+=se[t][0];break}Z.exec(n)&&(e._f+=" Z"),L(e)}else e._d=new Date(n)}function D(t){var n=t._i,i=K.exec(n);n===e?t._d=new Date:i?t._d=new Date(+i[1]):"string"==typeof n?A(t):u(n)?(t._a=n.slice(0),w(t)):n instanceof Date?t._d=new Date(+n):"object"==typeof n?T(t):t._d=new Date(n)}function I(e,t,n,i,s){return s.relativeTime(t||1,!!n,e,i)}function x(e,t,n){var i=F(Math.abs(e)/1e3),s=F(i/60),o=F(s/60),r=F(o/24),a=F(r/365),l=45>i&&["s",i]||1===s&&["m"]||45>s&&["mm",s]||1===o&&["h"]||22>o&&["hh",o]||1===r&&["d"]||25>=r&&["dd",r]||45>=r&&["M"]||345>r&&["MM",F(r/30)]||1===a&&["y"]||["yy",a];return l[2]=t,l[3]=e>0,l[4]=n,I.apply({},l)}function O(e,t,n){var i,s=n-t,o=n-e.day();return o>s&&(o-=7),s-7>o&&(o+=7),i=U(e).add("d",o),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function M(e){var t=e._i,n=e._f;return null===t||""===t?null:("string"==typeof t&&(e._i=t=m().preparse(t)),U.isMoment(t)?(e=r({},t))._d=new Date(+t._d):n?u(n)?C(e):L(e):D(e),new s(e))}function R(e,t){U.fn[e]=U.fn[e+"s"]=function(e){var n=this._isUTC?"UTC":"";return null!=e?(this._d["set"+n+t](e),U.updateOffset(this),this):this._d["get"+n+t]()}}function N(e){U.duration.fn[e]=function(){return this._data[e]}}function P(e,t){U.duration.fn["as"+e]=function(){return+this/t}}for(var U,j,H="2.2.1",F=Math.round,$={},B="undefined"!=typeof module&&module.exports,K=/^\/?Date\((\-?\d+)/i,G=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)\:(\d+)\.?(\d{3})?/,V=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|SS?S?|X|zz?|ZZ?|.)/g,W=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,Y=/\d\d?/,q=/\d{1,3}/,z=/\d{3}/,X=/\d{1,4}/,J=/[+\-]?\d{1,6}/,Q=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Z=/Z|[\+\-]\d\d:?\d\d/i,ee=/T/i,te=/[\+\-]?\d+(\.\d{1,3})?/,ne=/^\s*\d{4}-\d\d-\d\d((T| )(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,ie="YYYY-MM-DDTHH:mm:ssZ",se=[["HH:mm:ss.S",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],oe=/([\+\-]|\d\d)/gi,re="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),ae={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},le={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",w:"week",W:"isoweek",M:"month",y:"year"},ce={},ue="DDD w W M D d".split(" "),de="M D H h m s w W".split(" "),he={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return l(this.year()%100,2)},YYYY:function(){return l(this.year(),4)},YYYYY:function(){return l(this.year(),5)},gg:function(){return l(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return l(this.weekYear(),5)},GG:function(){return l(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return l(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return~~(this.milliseconds()/100)},SS:function(){return l(~~(this.milliseconds()/10),2)},SSS:function(){return l(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(~~(e/60),2)+":"+l(~~e%60,2)},ZZ:function(){var e=-this.zone(),t="+";return 0>e&&(e=-e,t="-"),t+l(~~(10*e/6),4)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()}};ue.length;)j=ue.pop(),he[j+"o"]=n(he[j],j);for(;de.length;)j=de.pop(),he[j+j]=t(he[j],2);for(he.DDDD=t(he.DDD,3),r(i.prototype,{set:function(e){var t,n;for(n in e)"function"==typeof(t=e[n])?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var t,n,i;for(this._monthsParse||(this._monthsParse=[]),t=0;12>t;t++)if(this._monthsParse[t]||(n=U.utc([2e3,t]),i="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[t]=new RegExp(i.replace(".",""),"i")),this._monthsParse[t].test(e))return t},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var t,n,i;for(this._weekdaysParse||(this._weekdaysParse=[]),t=0;7>t;t++)if(this._weekdaysParse[t]||(n=U([2e3,1]).day(t),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[t]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[t].test(e))return t},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return"p"===(e+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return"function"==typeof n?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,i){var s=this._relativeTime[n];return"function"==typeof s?s(e,t,n,i):s.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return"function"==typeof n?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return O(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6}}),(U=function(e,t,n){return M({_i:e,_f:t,_l:n,_isUTC:!1})}).utc=function(e,t,n){return M({_useUTC:!0,_isUTC:!0,_l:n,_i:e,_f:t}).utc()},U.unix=function(e){return U(1e3*e)},U.duration=function(e,t){var n,i,s=U.isDuration(e),r="number"==typeof e,a=s?e._input:r?{}:e,l=G.exec(e);return r?t?a[t]=e:a.milliseconds=e:l&&(n="-"===l[1]?-1:1,a={y:0,d:~~l[2]*n,h:~~l[3]*n,m:~~l[4]*n,s:~~l[5]*n,ms:~~l[6]*n}),i=new o(a),s&&e.hasOwnProperty("_lang")&&(i._lang=e._lang),i},U.version=H,U.defaultFormat=ie,U.updateOffset=function(){},U.lang=function(e,t){return e?(e=(e=e.toLowerCase()).replace("_","-"),t?f(e,t):null===t?(p(e),e="en"):$[e]||m(e),void(U.duration.fn._lang=U.fn._lang=m(e))):U.fn._lang._abbr},U.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),m(e)},U.isMoment=function(e){return e instanceof s},U.isDuration=function(e){return e instanceof o},r(U.fn=s.prototype,{clone:function(){return U(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){return y(U(this).utc(),"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return null==this._isValid&&(this._isValid=this._a?!d(this._a,(this._isUTC?U.utc(this._a):U(this._a)).toArray()):!isNaN(this._d.getTime())),!!this._isValid},invalidAt:function(){var e,t=this._a,n=(this._isUTC?U.utc(this._a):U(this._a)).toArray();for(e=6;e>=0&&t[e]===n[e];--e);return e},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var t=y(this,e||U.defaultFormat);return this.lang().postformat(t)},add:function(e,t){return c(this,"string"==typeof e?U.duration(+t,e):U.duration(e,t),1),this},subtract:function(e,t){return c(this,"string"==typeof e?U.duration(+t,e):U.duration(e,t),-1),this},diff:function(e,t,n){var i,s,o=this._isUTC?U(e).zone(this._offset||0):U(e).local(),r=6e4*(this.zone()-o.zone());return"year"===(t=h(t))||"month"===t?(i=432e5*(this.daysInMonth()+o.daysInMonth()),s=12*(this.year()-o.year())+(this.month()-o.month()),s+=(this-U(this).startOf("month")-(o-U(o).startOf("month")))/i,s-=6e4*(this.zone()-U(this).startOf("month").zone()-(o.zone()-U(o).startOf("month").zone()))/i,"year"===t&&(s/=12)):(i=this-o,s="second"===t?i/1e3:"minute"===t?i/6e4:"hour"===t?i/36e5:"day"===t?(i-r)/864e5:"week"===t?(i-r)/6048e5:i),n?s:a(s)},from:function(e,t){return U.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!t)},fromNow:function(e){return this.from(U(),e)},calendar:function(){var e=this.diff(U().zone(this.zone()).startOf("day"),"days",!0),t=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(t,this))},isLeapYear:function(){var e=this.year();return 0==e%4&&0!=e%100||0==e%400},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?"string"==typeof e&&"number"!=typeof(e=this.lang().weekdaysParse(e))?this:this.add({d:e-t}):t},month:function(e){var t,n=this._isUTC?"UTC":"";return null!=e?"string"==typeof e&&"number"!=typeof(e=this.lang().monthsParse(e))?this:(t=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(t,this.daysInMonth())),U.updateOffset(this),this):this._d["get"+n+"Month"]()},startOf:function(e){switch(e=h(e)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoweek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e?this.weekday(0):"isoweek"===e&&this.isoWeekday(1),this},endOf:function(e){return e=h(e),this.startOf(e).add("isoweek"===e?"week":e,1).subtract("ms",1)},isAfter:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)>+U(e).startOf(t)},isBefore:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)<+U(e).startOf(t)},isSame:function(e,t){return t=void 0!==t?t:"millisecond",+this.clone().startOf(t)==+U(e).startOf(t)},min:function(e){return this>(e=U.apply(null,arguments))?this:e},max:function(e){return(e=U.apply(null,arguments))>this?this:e},zone:function(e){var t=this._offset||0;return null==e?this._isUTC?t:this._d.getTimezoneOffset():("string"==typeof e&&(e=S(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,t!==e&&c(this,U.duration(t-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},hasAlignedHourOffset:function(e){return e=e?U(e).zone():0,0==(this.zone()-e)%60},daysInMonth:function(){return U.utc([this.year(),this.month()+1,0]).date()},dayOfYear:function(e){var t=F((U(this).startOf("day")-U(this).startOf("year"))/864e5)+1;return null==e?t:this.add("d",e-t)},weekYear:function(e){var t=O(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==e?t:this.add("y",e-t)},isoWeekYear:function(e){var t=O(this,1,4).year;return null==e?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return null==e?t:this.add("d",7*(e-t))},isoWeek:function(e){var t=O(this,1,4).week;return null==e?t:this.add("d",7*(e-t))},weekday:function(e){var t=(this._d.getDay()+7-this.lang()._week.dow)%7;return null==e?t:this.add("d",e-t)},isoWeekday:function(e){return null==e?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return this[(e=h(e)).toLowerCase()]()},set:function(e,t){this[(e=h(e)).toLowerCase()](t)},lang:function(t){return t===e?this._lang:(this._lang=m(t),this)}}),j=0;j<re.length;j++)R(re[j].toLowerCase().replace(/s$/,""),re[j]);for(j in R("year","FullYear"),U.fn.days=U.fn.day,U.fn.months=U.fn.month,U.fn.weeks=U.fn.week,U.fn.isoWeeks=U.fn.isoWeek,U.fn.toJSON=U.fn.toISOString,r(U.duration.fn=o.prototype,{_bubble:function(){var e,t,n,i,s=this._milliseconds,o=this._days,r=this._months,l=this._data;l.milliseconds=s%1e3,e=a(s/1e3),l.seconds=e%60,t=a(e/60),l.minutes=t%60,n=a(t/60),l.hours=n%24,o+=a(n/24),l.days=o%30,r+=a(o/30),l.months=r%12,i=a(r/12),l.years=i},weeks:function(){return a(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*~~(this._months/12)},humanize:function(e){var t=+this,n=x(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,t){var n=U.duration(e,t);return this._milliseconds+=n._milliseconds,this._days+=n._days,this._months+=n._months,this._bubble(),this},subtract:function(e,t){var n=U.duration(e,t);return this._milliseconds-=n._milliseconds,this._days-=n._days,this._months-=n._months,this._bubble(),this},get:function(e){return this[(e=h(e)).toLowerCase()+"s"]()},as:function(e){return this["as"+(e=h(e)).charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:U.fn.lang}),ae)ae.hasOwnProperty(j)&&(P(j,ae[j]),N(j.toLowerCase()));P("Weeks",6048e5),U.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},U.lang("en",{ordinal:function(e){var t=e%10;return e+(1==~~(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),B&&(module.exports=U),"undefined"==typeof ender&&(this.moment=U),"function"==typeof define&&define.amd&&define("moment",[],function(){return U})}.call(this),
/*!
 * Copyright (c) 2011-2013 Felix Gnass
 * Licensed under the MIT license
 */
function(e,t){"object"==typeof exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Spinner=t()}(this,function(){"use strict";function e(e,t){var n,i=document.createElement(e||"div");for(n in t)i[n]=t[n];return i}function t(e){for(var t=1,n=arguments.length;t<n;t++)e.appendChild(arguments[t]);return e}function n(e,t,n,i){var s=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,r=Math.max(1-(1-e)/t*(100-o),e),a=c.substring(0,c.indexOf("Animation")).toLowerCase(),l=a&&"-"+a+"-"||"";return h[s]||(f.insertRule("@"+l+"keyframes "+s+"{0%{opacity:"+r+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+r+"}}",f.cssRules.length),h[s]=1),s}function i(e,t){var n,i,s=e.style;if(s[t]!==undefined)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<d.length;i++)if(s[n=d[i]+t]!==undefined)return n}function s(e,t){for(var n in t)e.style[i(e,n)||n]=t[n];return e}function o(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)e[i]===undefined&&(e[i]=n[i])}return e}function r(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}function a(e){if(void 0===this)return new a(e);this.opts=o(e||{},a.defaults,p)}function l(){function n(t,n){return e("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',n)}f.addRule(".spin-vml","behavior:url(#default#VML)"),a.prototype.lines=function(e,i){function o(){return s(n("group",{coordsize:c+" "+c,coordorigin:-l+" "+-l}),{width:c,height:c})}function r(e,r,a){t(d,t(s(o(),{rotation:360/i.lines*e+"deg",left:~~r}),t(s(n("roundrect",{arcsize:i.corners}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),n("fill",{color:i.color,opacity:i.opacity}),n("stroke",{opacity:0}))))}var a,l=i.length+i.width,c=2*l,u=2*-(i.width+i.length)+"px",d=s(o(),{position:"absolute",top:u,left:u});if(i.shadow)for(a=1;a<=i.lines;a++)r(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=i.lines;a++)r(a);return t(e,d)},a.prototype.opacity=function(e,t,n,i){var s=e.firstChild;i=i.shadow&&i.lines||0,s&&t+i<s.childNodes.length&&(s=(s=(s=s.childNodes[t+i])&&s.firstChild)&&s.firstChild)&&(s.opacity=n)}}var c,u,d=["webkit","Moz","ms","O"],h={},f=(u=e("style",{type:"text/css"}),t(document.getElementsByTagName("head")[0],u),u.sheet||u.styleSheet),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};a.defaults={},o(a.prototype,{spin:function(t){this.stop();var n,i,o=this,a=o.opts,l=o.el=s(e(0,{className:a.className}),{position:a.position,width:0,zIndex:a.zIndex}),u=a.radius+a.length+a.width;if(t&&(t.insertBefore(l,t.firstChild||null),i=r(t),n=r(l),s(l,{left:("auto"==a.left?i.x-n.x+(t.offsetWidth>>1):parseInt(a.left,10)+u)+"px",top:("auto"==a.top?i.y-n.y+(t.offsetHeight>>1):parseInt(a.top,10)+u)+"px"})),l.setAttribute("role","progressbar"),o.lines(l,o.opts),!c){var d,h=0,f=(a.lines-1)*(1-a.direction)/2,p=a.fps,m=p/a.speed,g=(1-a.opacity)/(m*a.trail/100),v=m/a.lines;!function e(){h++;for(var t=0;t<a.lines;t++)d=Math.max(1-(h+(a.lines-t)*v)%m*g,a.opacity),o.opacity(l,t*a.direction+f,d,a);o.timeout=o.el&&setTimeout(e,~~(1e3/p))}()}return o},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=undefined),this},lines:function(i,o){function r(t,n){return s(e(),{position:"absolute",width:o.length+o.width+"px",height:o.width+"px",background:t,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/o.lines*l+o.rotate)+"deg) translate("+o.radius+"px,0)",borderRadius:(o.corners*o.width>>1)+"px"})}for(var a,l=0,u=(o.lines-1)*(1-o.direction)/2;l<o.lines;l++)a=s(e(),{position:"absolute",top:1+~(o.width/2)+"px",transform:o.hwaccel?"translate3d(0,0,0)":"",opacity:o.opacity,animation:c&&n(o.opacity,o.trail,u+l*o.direction,o.lines)+" "+1/o.speed+"s linear infinite"}),o.shadow&&t(a,s(r("#000","0 0 4px #000"),{top:"2px"})),t(i,t(a,r(o.color,"0 0 1px rgba(0,0,0,.1)")));return i},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}});var m=s(e("group"),{behavior:"url(#default#VML)"});return!i(m,"transform")&&m.adj?l():c=i(m,"animation"),a}),
/*!
 * Ladda
 * http://lab.hakim.se/ladda
 * MIT licensed
 *
 * Copyright (C) 2015 Hakim El Hattab, http://hakim.se
 */
function(e,t){"object"==typeof exports?module.exports=t(require("spin.js")):"function"==typeof define&&define.amd?define(["spin"],t):e.Ladda=t(e.Spinner)}(this,function(e){"use strict";function t(e){if(void 0!==e){e.querySelector(".ladda-label")||(e.innerHTML='<span class="ladda-label">'+e.innerHTML+"</span>");var t,n,i=e.querySelector(".ladda-spinner");i||((i=document.createElement("span")).className="ladda-spinner"),e.appendChild(i);var s={start:function(){return t||(t=r(e)),e.setAttribute("disabled",""),e.setAttribute("data-loading",""),clearTimeout(n),t.spin(i),this.setProgress(0),this},startAfter:function(e){return clearTimeout(n),n=setTimeout(function(){s.start()},e),this},stop:function(){return e.removeAttribute("disabled"),e.removeAttribute("data-loading"),clearTimeout(n),t&&(n=setTimeout(function(){t.stop()},1e3)),this},toggle:function(){return this.isLoading()?this.stop():this.start(),this},setProgress:function(t){t=Math.max(Math.min(t,1),0);var n=e.querySelector(".ladda-progress");0===t&&n&&n.parentNode?n.parentNode.removeChild(n):(n||((n=document.createElement("div")).className="ladda-progress",e.appendChild(n)),n.style.width=(t||0)*e.offsetWidth+"px")},enable:function(){return this.stop(),this},disable:function(){return this.stop(),e.setAttribute("disabled",""),this},isLoading:function(){return e.hasAttribute("data-loading")},remove:function(){clearTimeout(n),e.removeAttribute("disabled",""),e.removeAttribute("data-loading","");var i=e.querySelector(".ladda-label");i&&(e.innerHTML=i.innerHTML),t&&(t.stop(),t=null);for(var o=0,r=l.length;o<r;o++)if(s===l[o]){l.splice(o,1);break}}};return l.push(s),s}console.warn("Ladda button target must be defined.")}function n(e,t){for(;e.parentNode&&e.tagName!==t;)e=e.parentNode;return t===e.tagName?e:undefined}function i(e){for(var t=["input","textarea","select"],n=[],i=0;i<t.length;i++)for(var s=e.getElementsByTagName(t[i]),o=0;o<s.length;o++)s[o].hasAttribute("required")&&n.push(s[o]);return n}function s(e,s){s=s||{};var o=[];"string"==typeof e?o=a(document.querySelectorAll(e)):"object"==typeof e&&"string"==typeof e.nodeName&&(o=[e]);for(var r=0,l=o.length;r<l;r++)!function(){var e=o[r];if("function"==typeof e.addEventListener){var a=t(e),l=-1;e.addEventListener("click",function(){var t=!0,o=n(e,"FORM");if(void 0!==o)for(var r=i(o),c=0;c<r.length;c++)""===r[c].value.replace(/^\s+|\s+$/g,"")&&(t=!1),"checkbox"!==r[c].type&&"radio"!==r[c].type||r[c].checked||(t=!1);t&&(a.startAfter(1),"number"==typeof s.timeout&&(clearTimeout(l),l=setTimeout(a.stop,s.timeout)),"function"==typeof s.callback&&s.callback.apply(null,[a]))},!1)}}()}function o(){for(var e=0,t=l.length;e<t;e++)l[e].stop()}function r(t){var n,i=t.offsetHeight;0===i&&(i=parseFloat(window.getComputedStyle(t).height)),i>32&&(i*=.8),t.hasAttribute("data-spinner-size")&&(i=parseInt(t.getAttribute("data-spinner-size"),10)),t.hasAttribute("data-spinner-color")&&(n=t.getAttribute("data-spinner-color"));var s=.2*i;return new e({color:n||"#fff",lines:12,radius:s,length:.6*s,width:s<7?2:3,zIndex:"auto",top:"auto",left:"auto",className:""})}function a(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}var l=[];return{bind:s,create:t,stopAll:o}}),
/**
 * Copyright 2013 Craig Campbell
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 * Mousetrap is a simple keyboard shortcut library for Javascript with
 * no external dependencies
 *
 * @version 1.4.6
 * @url craig.is/killing/mice
 */
function(e,t){function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function i(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return T[e.which]?T[e.which]:k[e.which]?k[e.which]:String.fromCharCode(e.which).toLowerCase()}function s(e,t){return e.sort().join(",")===t.sort().join(",")}function o(e){e=e||{};var t,n=!1;for(t in I)e[t]?n=!0:I[t]=0;n||(M=!1)}function r(e,t,n,i,o,r){var a,l,c=[],u=n.type;if(!A[e])return[];for("keyup"==u&&f(e)&&(t=[e]),a=0;a<A[e].length;++a)if(l=A[e][a],(i||!l.seq||I[l.seq]==l.level)&&u==l.action&&("keypress"==u&&!n.metaKey&&!n.ctrlKey||s(t,l.modifiers))){var d=!i&&l.combo==o,h=i&&l.seq==i&&l.level==r;(d||h)&&A[e].splice(a,1),c.push(l)}return c}function a(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function l(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function c(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function u(e,t,n,i){N.stopCallback(t,t.target||t.srcElement,n,i)||!1===e(t,n)&&(l(t),c(t))}function d(e,t,n){var i,s=r(e,t,n),a={},l=0,c=!1;for(i=0;i<s.length;++i)s[i].seq&&(l=Math.max(l,s[i].level));for(i=0;i<s.length;++i)if(s[i].seq){if(s[i].level!=l)continue;c=!0,a[s[i].seq]=1,u(s[i].callback,n,s[i].combo,s[i].seq)}else c||u(s[i].callback,n,s[i].combo);var d="keypress"==n.type&&O;n.type!=M||f(e)||d||o(a),O=c&&"keydown"==n.type}function h(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t=i(e);t&&("keyup"!=e.type||x!==t?N.handleKey(t,a(e),e):x=!1)}function f(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function p(){clearTimeout(w),w=setTimeout(o,1e3)}function m(){if(!_)for(var e in _={},T)e>95&&e<112||T.hasOwnProperty(e)&&(_[T[e]]=e);return _}function g(e,t,n){return n||(n=m()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function v(e,t,n,s){function r(t){return function(){M=t,++I[e],p()}}function a(t){u(n,t,e),"keyup"!==s&&(x=i(t)),setTimeout(o,10)}I[e]=0;for(var l=0;l<t.length;++l){var c=l+1===t.length?a:r(s||b(t[l+1]).action);E(t[l],c,s,e,l)}}function y(e){return"+"===e?["+"]:e.split("+")}function b(e,t){var n,i,s,o=[];for(n=y(e),s=0;s<n.length;++s)i=n[s],C[i]&&(i=C[i]),t&&"keypress"!=t&&L[i]&&(i=L[i],o.push("shift")),f(i)&&o.push(i);return{key:i,modifiers:o,action:t=g(i,o,t)}}function E(e,t,n,i,s){D[e+":"+n]=t;var o,a=(e=e.replace(/\s+/g," ")).split(" ");a.length>1?v(e,a,t,n):(o=b(e,n),A[o.key]=A[o.key]||[],r(o.key,o.modifiers,{type:o.action},i,e,s),A[o.key][i?"unshift":"push"]({callback:t,modifiers:o.modifiers,action:o.action,seq:i,level:s,combo:e}))}function S(e,t,n){for(var i=0;i<e.length;++i)E(e[i],t,n)}for(var _,w,T={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},k={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},L={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},C={option:"alt",command:"meta","return":"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},A={},D={},I={},x=!1,O=!1,M=!1,R=1;R<20;++R)T[111+R]="f"+R;for(R=0;R<=9;++R)T[R+96]=R;n(t,"keypress",h),n(t,"keydown",h),n(t,"keyup",h);var N={bind:function(e,t,n){return S(e=e instanceof Array?e:[e],t,n),this},unbind:function(e,t){return N.bind(e,function(){},t)},trigger:function(e,t){return D[e+":"+t]&&D[e+":"+t]({},e),this},reset:function(){return A={},D={},this},stopCallback:function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},handleKey:d};e.Mousetrap=N,"function"==typeof define&&define.amd&&define(N)}(window,document);var CryptoJS=CryptoJS||function(e,t){var n={},i=n.lib={},s=function(){},o=i.Base={extend:function(e){s.prototype=this;var t=new s;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},r=i.WordArray=o.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var s=0;s<e;s++)t[i+s>>>2]|=(n[s>>>2]>>>24-s%4*8&255)<<24-(i+s)%4*8;else if(65535<n.length)for(s=0;s<e;s+=4)t[i+s>>>2]=n[s>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new r.init(n,t)}}),a=n.enc={},l=a.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var s=t[i>>>2]>>>24-i%4*8&255;n.push((s>>>4).toString(16)),n.push((15&s).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new r.init(n,t/2)}},c=a.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new r.init(n,t)}},u=a.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(d){throw Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},d=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=u.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,s=n.sigBytes,o=this.blockSize,a=s/(4*o);if(t=(a=t?e.ceil(a):e.max((0|a)-this._minBufferSize,0))*o,s=e.min(4*t,s),t){for(var l=0;l<t;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=s}return new r.init(l,s)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=d.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new h.HMAC.init(e,n).finalize(t)}}});var h=n.algo={};return n}(Math);!function(e){function t(e,t,n,i,s,o,r){return((e=e+(t&n|~t&i)+s+r)<<o|e>>>32-o)+t}function n(e,t,n,i,s,o,r){return((e=e+(t&i|n&~i)+s+r)<<o|e>>>32-o)+t}function i(e,t,n,i,s,o,r){return((e=e+(t^n^i)+s+r)<<o|e>>>32-o)+t}function s(e,t,n,i,s,o,r){return((e=e+(n^(t|~i))+s+r)<<o|e>>>32-o)+t}for(var o=CryptoJS,r=(l=o.lib).WordArray,a=l.Hasher,l=o.algo,c=[],u=0;64>u;u++)c[u]=4294967296*e.abs(e.sin(u+1))|0;l=l.MD5=a.extend({_doReset:function(){this._hash=new r.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var r=0;16>r;r++){var a=e[d=o+r];e[d]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8)}r=this._hash.words;var l,u,d=e[o+0],h=(a=e[o+1],e[o+2]),f=e[o+3],p=e[o+4],m=e[o+5],g=e[o+6],v=e[o+7],y=e[o+8],b=e[o+9],E=e[o+10],S=e[o+11],_=e[o+12],w=e[o+13],T=e[o+14],k=e[o+15],L=r[0],C=s(C=s(C=s(C=s(C=i(C=i(C=i(C=i(C=n(C=n(C=n(C=n(C=t(C=t(C=t(C=t(C=r[1],u=t(u=r[2],l=t(l=r[3],L=t(L,C,u,l,d,7,c[0]),C,u,a,12,c[1]),L,C,h,17,c[2]),l,L,f,22,c[3]),u=t(u,l=t(l,L=t(L,C,u,l,p,7,c[4]),C,u,m,12,c[5]),L,C,g,17,c[6]),l,L,v,22,c[7]),u=t(u,l=t(l,L=t(L,C,u,l,y,7,c[8]),C,u,b,12,c[9]),L,C,E,17,c[10]),l,L,S,22,c[11]),u=t(u,l=t(l,L=t(L,C,u,l,_,7,c[12]),C,u,w,12,c[13]),L,C,T,17,c[14]),l,L,k,22,c[15]),u=n(u,l=n(l,L=n(L,C,u,l,a,5,c[16]),C,u,g,9,c[17]),L,C,S,14,c[18]),l,L,d,20,c[19]),u=n(u,l=n(l,L=n(L,C,u,l,m,5,c[20]),C,u,E,9,c[21]),L,C,k,14,c[22]),l,L,p,20,c[23]),u=n(u,l=n(l,L=n(L,C,u,l,b,5,c[24]),C,u,T,9,c[25]),L,C,f,14,c[26]),l,L,y,20,c[27]),u=n(u,l=n(l,L=n(L,C,u,l,w,5,c[28]),C,u,h,9,c[29]),L,C,v,14,c[30]),l,L,_,20,c[31]),u=i(u,l=i(l,L=i(L,C,u,l,m,4,c[32]),C,u,y,11,c[33]),L,C,S,16,c[34]),l,L,T,23,c[35]),u=i(u,l=i(l,L=i(L,C,u,l,a,4,c[36]),C,u,p,11,c[37]),L,C,v,16,c[38]),l,L,E,23,c[39]),u=i(u,l=i(l,L=i(L,C,u,l,w,4,c[40]),C,u,d,11,c[41]),L,C,f,16,c[42]),l,L,g,23,c[43]),u=i(u,l=i(l,L=i(L,C,u,l,b,4,c[44]),C,u,_,11,c[45]),L,C,k,16,c[46]),l,L,h,23,c[47]),u=s(u,l=s(l,L=s(L,C,u,l,d,6,c[48]),C,u,v,10,c[49]),L,C,T,15,c[50]),l,L,m,21,c[51]),u=s(u,l=s(l,L=s(L,C,u,l,_,6,c[52]),C,u,f,10,c[53]),L,C,E,15,c[54]),l,L,a,21,c[55]),u=s(u,l=s(l,L=s(L,C,u,l,y,6,c[56]),C,u,k,10,c[57]),L,C,g,15,c[58]),l,L,w,21,c[59]),u=s(u,l=s(l,L=s(L,C,u,l,p,6,c[60]),C,u,S,10,c[61]),L,C,h,15,c[62]),l,L,b,21,c[63]);r[0]=r[0]+L|0,r[1]=r[1]+C|0,r[2]=r[2]+u|0,r[3]=r[3]+l|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,s=8*t.sigBytes;n[s>>>5]|=128<<24-s%32;var o=e.floor(i/4294967296);for(n[15+(s+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),n[14+(s+64>>>9<<4)]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),n=(t=this._hash).words,i=0;4>i;i++)s=n[i],n[i]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),o.MD5=a._createHelper(l),o.HmacMD5=a._createHmacHelper(l)}(Math),function(){function e(e){var n={r:0,g:0,b:0},s=1,r=!1,a=!1;return"string"==typeof e&&(e=O(e)),"object"==typeof e&&(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b")?(n=t(e.r,e.g,e.b),r=!0,a="%"===String(e.r).substr(-1)?"prgb":"rgb"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v")?(e.s=D(e.s),e.v=D(e.v),n=o(e.h,e.s,e.v),r=!0,a="hsv"):e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")&&(e.s=D(e.s),e.l=D(e.l),n=i(e.h,e.s,e.l),r=!0,a="hsl"),e.hasOwnProperty("a")&&(s=e.a)),s=_(s),{ok:r,format:e.format||a,r:j(255,H(n.r,0)),g:j(255,H(n.g,0)),b:j(255,H(n.b,0)),a:s}}function t(e,t,n){return{r:255*w(e,255),g:255*w(t,255),b:255*w(n,255)}}function n(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var i,s,o=H(e,t,n),r=j(e,t,n),a=(o+r)/2;if(o==r)i=s=0;else{var l=o-r;switch(s=a>.5?l/(2-o-r):l/(o+r),o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:s,l:a}}function i(e,t,n){function i(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var s,o,r;if(e=w(e,360),t=w(t,100),n=w(n,100),0===t)s=o=r=n;else{var a=n<.5?n*(1+t):n+t-n*t,l=2*n-a;s=i(l,a,e+1/3),o=i(l,a,e),r=i(l,a,e-1/3)}return{r:255*s,g:255*o,b:255*r}}function s(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var i,s,o=H(e,t,n),r=j(e,t,n),a=o,l=o-r;if(s=0===o?0:l/o,o==r)i=0;else{switch(o){case e:i=(t-n)/l+(t<n?6:0);break;case t:i=(n-e)/l+2;break;case n:i=(e-t)/l+4}i/=6}return{h:i,s:s,v:a}}function o(e,t,n){e=6*w(e,360),t=w(t,100),n=w(n,100);var i=P.floor(e),s=e-i,o=n*(1-t),r=n*(1-s*t),a=n*(1-(1-s)*t),l=i%6;return{r:255*[n,r,o,o,a,n][l],g:255*[a,n,n,r,o,o][l],b:255*[o,o,a,n,n,r][l]}}function r(e,t,n,i){var s=[A(U(e).toString(16)),A(U(t).toString(16)),A(U(n).toString(16))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0):s.join("")}function a(e,t,n,i){return[A(I(i)),A(U(e).toString(16)),A(U(t).toString(16)),A(U(n).toString(16))].join("")}function l(e,t){t=0===t?0:t||10;var n=$(e).toHsl();return n.s-=t/100,n.s=T(n.s),$(n)}function c(e,t){t=0===t?0:t||10;var n=$(e).toHsl();return n.s+=t/100,n.s=T(n.s),$(n)}function u(e){return $(e).desaturate(100)}function d(e,t){t=0===t?0:t||10;var n=$(e).toHsl();return n.l+=t/100,n.l=T(n.l),$(n)}function h(e,t){t=0===t?0:t||10;var n=$(e).toRgb();return n.r=H(0,j(255,n.r-U(-t/100*255))),n.g=H(0,j(255,n.g-U(-t/100*255))),n.b=H(0,j(255,n.b-U(-t/100*255))),$(n)}function f(e,t){t=0===t?0:t||10;var n=$(e).toHsl();return n.l-=t/100,n.l=T(n.l),$(n)}function p(e,t){var n=$(e).toHsl(),i=(U(n.h)+t)%360;return n.h=i<0?360+i:i,$(n)}function m(e){var t=$(e).toHsl();return t.h=(t.h+180)%360,$(t)}function g(e){var t=$(e).toHsl(),n=t.h;return[$(e),$({h:(n+120)%360,s:t.s,l:t.l}),$({h:(n+240)%360,s:t.s,l:t.l})]}function v(e){var t=$(e).toHsl(),n=t.h;return[$(e),$({h:(n+90)%360,s:t.s,l:t.l}),$({h:(n+180)%360,s:t.s,l:t.l}),$({h:(n+270)%360,s:t.s,l:t.l})]}function y(e){var t=$(e).toHsl(),n=t.h;return[$(e),$({h:(n+72)%360,s:t.s,l:t.l}),$({h:(n+216)%360,s:t.s,l:t.l})]}function b(e,t,n){t=t||6,n=n||30;var i=$(e).toHsl(),s=360/n,o=[$(e)];for(i.h=(i.h-(s*t>>1)+720)%360;--t;)i.h=(i.h+s)%360,o.push($(i));return o}function E(e,t){t=t||6;for(var n=$(e).toHsv(),i=n.h,s=n.s,o=n.v,r=[],a=1/t;t--;)r.push($({h:i,s:s,v:o})),o=(o+a)%1;return r}function S(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function _(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function w(e,t){L(e)&&(e="100%");var n=C(e);return e=j(t,H(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),P.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function T(e){return j(1,H(0,e))}function k(e){return parseInt(e,16)}function L(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)}function C(e){return"string"==typeof e&&-1!=e.indexOf("%")}function A(e){return 1==e.length?"0"+e:""+e}function D(e){return e<=1&&(e=100*e+"%"),e}function I(e){return Math.round(255*parseFloat(e)).toString(16)}function x(e){return k(e)/255}function O(e){e=e.replace(M,"").replace(R,"").toLowerCase();var t,n=!1;if(V[e])e=V[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=Y.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=Y.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Y.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=Y.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Y.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=Y.hex8.exec(e))?{a:x(t[1]),r:k(t[2]),g:k(t[3]),b:k(t[4]),format:n?"name":"hex8"}:(t=Y.hex6.exec(e))?{r:k(t[1]),g:k(t[2]),b:k(t[3]),format:n?"name":"hex"}:!!(t=Y.hex3.exec(e))&&{r:k(t[1]+""+t[1]),g:k(t[2]+""+t[2]),b:k(t[3]+""+t[3]),format:n?"name":"hex"}}var M=/^[\s,#]+/,R=/\s+$/,N=0,P=Math,U=P.round,j=P.min,H=P.max,F=P.random,$=function q(t,n){if(n=n||{},(t=t||"")instanceof q)return t;if(!(this instanceof q))return new q(t,n);var i=e(t);this._r=i.r,this._g=i.g,this._b=i.b,this._a=i.a,this._roundA=U(100*this._a)/100,this._format=n.format||i.format,this._gradientType=n.gradientType,this._r<1&&(this._r=U(this._r)),this._g<1&&(this._g=U(this._g)),this._b<1&&(this._b=U(this._b)),this._ok=i.ok,this._tc_id=N++};$.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},setAlpha:function(e){return this._a=_(e),this._roundA=U(100*this._a)/100,this},toHsv:function(){var e=s(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=s(this._r,this._g,this._b),t=U(360*e.h),n=U(100*e.s),i=U(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+i+"%)":"hsva("+t+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=n(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=n(this._r,this._g,this._b),t=U(360*e.h),i=U(100*e.s),s=U(100*e.l);return 1==this._a?"hsl("+t+", "+i+"%, "+s+"%)":"hsla("+t+", "+i+"%, "+s+"%, "+this._roundA+")"},toHex:function(e){return r(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(){return a(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:U(this._r),g:U(this._g),b:U(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+U(this._r)+", "+U(this._g)+", "+U(this._b)+")":"rgba("+U(this._r)+", "+U(this._g)+", "+U(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:U(100*w(this._r,255))+"%",g:U(100*w(this._g,255))+"%",b:U(100*w(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+U(100*w(this._r,255))+"%, "+U(100*w(this._g,255))+"%, "+U(100*w(this._b,255))+"%)":"rgba("+U(100*w(this._r,255))+"%, "+U(100*w(this._g,255))+"%, "+U(100*w(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(W[r(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+a(this._r,this._g,this._b,this._a),n=t,i=this._gradientType?"GradientType = 1, ":"";e&&(n=$(e).toHex8String());return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0;return t||!i||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(d,arguments)},brighten:function(){return this._applyModification(h,arguments)},darken:function(){return this._applyModification(f,arguments)},desaturate:function(){return this._applyModification(l,arguments)},saturate:function(){return this._applyModification(c,arguments)},greyscale:function(){return this._applyModification(u,arguments)},spin:function(){return this._applyModification(p,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(b,arguments)},complement:function(){return this._applyCombination(m,arguments)},monochromatic:function(){return this._applyCombination(E,arguments)},splitcomplement:function(){return this._applyCombination(y,arguments)},triad:function(){return this._applyCombination(g,arguments)},tetrad:function(){return this._applyCombination(v,arguments)}},$.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[i]="a"===i?e[i]:D(e[i]));e=n}return $(e,t)},$.equals=function(e,t){return!(!e||!t)&&$(e).toRgbString()==$(t).toRgbString()},$.random=function(){return $.fromRatio({r:F(),g:F(),b:F()})},$.mix=function(e,t,n){n=0===n?0:n||50;var i,s=$(e).toRgb(),o=$(t).toRgb(),r=n/100,a=2*r-1,l=o.a-s.a,c=1-(i=((i=a*l==-1?a:(a+l)/(1+a*l))+1)/2),u={r:o.r*i+s.r*c,g:o.g*i+s.g*c,b:o.b*i+s.b*c,a:o.a*r+s.a*(1-r)};return $(u)},$.readability=function(e,t){var n=$(e),i=$(t),s=n.toRgb(),o=i.toRgb(),r=n.getBrightness(),a=i.getBrightness(),l=Math.max(s.r,o.r)-Math.min(s.r,o.r)+Math.max(s.g,o.g)-Math.min(s.g,o.g)+Math.max(s.b,o.b)-Math.min(s.b,o.b);return{brightness:Math.abs(r-a),color:l}},$.isReadable=function(e,t){var n=$.readability(e,t);return n.brightness>125&&n.color>500},$.mostReadable=function(e,t){for(var n=null,i=0,s=!1,o=0;o<t.length;o++){var r=$.readability(e,t[o]),a=r.brightness>125&&r.color>500,l=r.brightness/125*3+r.color/500;(a&&!s||a&&s&&l>i||!a&&!s&&l>i)&&(s=a,i=l,n=$(t[o]))}return n};var B,K,G,V=$.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},W=$.hexNames=S(V),Y=(K="[\\s|\\(]+("+(B="(?:"+"[-\\+]?\\d*\\.\\d+%?"+")|(?:"+"[-\\+]?\\d+%?"+")")+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",G="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",{rgb:new RegExp("rgb"+K),rgba:new RegExp("rgba"+G),hsl:new RegExp("hsl"+K),hsla:new RegExp("hsla"+G),hsv:new RegExp("hsv"+K),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});"undefined"!=typeof module&&module.exports?module.exports=$:"function"==typeof define&&define.amd?define(function(){return $}):window.tinycolor=$}(),function(e,t){function n(e){return e.call.apply(e.bind,arguments)}function i(e,t){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function s(){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:i).apply(null,arguments)}function o(e,t){this.J=e,this.t=t||e,this.C=this.t.document}function r(e,n,i){(e=e.C.getElementsByTagName(n)[0])||(e=t.documentElement),e&&e.lastChild&&e.insertBefore(i,e.lastChild)}function a(e,t){function n(){e.C.body?t():setTimeout(n,0)}n()}function l(e,t,n){t=t||[],n=n||[];for(var i=e.className.split(/\s+/),s=0;s<t.length;s+=1){for(var o=!1,r=0;r<i.length;r+=1)if(t[s]===i[r]){o=!0;break}o||i.push(t[s])}for(t=[],s=0;s<i.length;s+=1){for(o=!1,r=0;r<n.length;r+=1)if(i[s]===n[r]){o=!0;break}o||t.push(i[s])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function c(e,t){for(var n=e.className.split(/\s+/),i=0,s=n.length;i<s;i++)if(n[i]==t)return!0;return!1}function u(e){if("string"==typeof e.ma)return e.ma;var t=e.t.location.protocol;return"about:"==t&&(t=e.J.location.protocol),"https:"==t?"https:":"http:"}function d(e,t){var n=e.createElement("link",{rel:"stylesheet",href:t}),i=!1;n.onload=function(){i||(i=!0)},n.onerror=function(){i||(i=!0)},r(e,"head",n)}function h(t,n,i,s){var o=t.C.getElementsByTagName("head")[0];if(o){var r=t.createElement("script",{src:n}),a=!1;return r.onload=r.onreadystatechange=function(){a||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(a=!0,i&&i(null),r.onload=r.onreadystatechange=null,"HEAD"==r.parentNode.tagName&&o.removeChild(r))},o.appendChild(r),e.setTimeout(function(){a||(a=!0,i&&i(Error("Script load timeout")))},s||5e3),r}return null}function f(e,t){this.X=e,this.fa=t}function p(e,t,n,i){this.c=null!=e?e:null,this.g=null!=t?t:null,this.A=null!=n?n:null,this.e=null!=i?i:null}function m(e){var t=null,n=null,i=null,s=null;return(e=J.exec(e))&&(null!==e[1]&&e[1]&&(t=parseInt(e[1],10)),null!==e[2]&&e[2]&&(n=parseInt(e[2],10)),null!==e[3]&&e[3]&&(i=parseInt(e[3],10)),null!==e[4]&&e[4]&&(s=/^[0-9]+$/.test(e[4])?parseInt(e[4],10):e[4])),new p(t,n,i,s)}function g(e,t,n,i,s,o,r,a){this.M=e,this.k=a}function v(e){this.a=e}function y(e){var t=S(e.a,/(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/,1);return""!=t?(/BB\d{2}/.test(t)&&(t="BlackBerry"),t):""!=(e=S(e.a,/(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/,1))?("Mac_PowerPC"==e?e="Macintosh":"PlayStation"==e&&(e="Linux"),e):"Unknown"}function b(e){if((t=S(e.a,/(OS X|Windows NT|Android) ([^;)]+)/,2))||(t=S(e.a,/Windows Phone( OS)? ([^;)]+)/,2))||(t=S(e.a,/(iPhone )?OS ([\d_]+)/,2)))return t;if(t=S(e.a,/(?:Linux|CrOS|CrKey) ([^;)]+)/,1))for(var t=t.split(/\s/),n=0;n<t.length;n+=1)if(/^[\d\._]+$/.test(t[n]))return t[n];return(e=S(e.a,/(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/,2))?e:"Unknown"}function E(e){var t=y(e),n=m(b(e)),i=m(S(e.a,/AppleWeb(?:K|k)it\/([\d\.\+]+)/,1)),s="Unknown",o=new p;o="Unknown";return/OPR\/[\d.]+/.test(e.a)?s="Opera":-1!=e.a.indexOf("Chrome")||-1!=e.a.indexOf("CrMo")||-1!=e.a.indexOf("CriOS")?s="Chrome":/Silk\/\d/.test(e.a)?s="Silk":"BlackBerry"==t||"Android"==t?s="BuiltinBrowser":-1!=e.a.indexOf("PhantomJS")?s="PhantomJS":-1!=e.a.indexOf("Safari")?s="Safari":-1!=e.a.indexOf("AdobeAIR")?s="AdobeAIR":-1!=e.a.indexOf("PlayStation")&&(s="BuiltinBrowser"),"BuiltinBrowser"==s?o="Unknown":"Silk"==s?o=S(e.a,/Silk\/([\d\._]+)/,1):"Chrome"==s?o=S(e.a,/(Chrome|CrMo|CriOS)\/([\d\.]+)/,2):-1!=e.a.indexOf("Version/")?o=S(e.a,/Version\/([\d\.\w]+)/,1):"AdobeAIR"==s?o=S(e.a,/AdobeAIR\/([\d\.]+)/,1):"Opera"==s?o=S(e.a,/OPR\/([\d.]+)/,1):"PhantomJS"==s&&(o=S(e.a,/PhantomJS\/([\d.]+)/,1)),o=m(o),new g(s,0,0,0,0,0,0,new f("AdobeAIR"==s?2<o.c||2==o.c&&5<=o.g:"BlackBerry"==t?10<=n.c:"Android"==t?2<n.c||2==n.c&&1<n.g:526<=i.c||525<=i.c&&13<=i.g,536>i.c||536==i.c&&11>i.g))}function S(e,t,n){return(e=e.match(t))&&e[n]?e[n]:""}function _(e){this.la=e||"-"}function w(e,t){this.M=e,this.Y=4,this.N="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.N=n[1],this.Y=parseInt(n[2],10))}function T(e){return e.N+e.Y}function k(e){var t=4,n="n",i=null;return e&&((i=e.match(/(normal|oblique|italic)/i))&&i[1]&&(n=i[1].substr(0,1).toLowerCase()),(i=e.match(/([1-9]00|normal|bold)/i))&&i[1]&&(/bold/i.test(i[1])?t=7:/[1-9]00/.test(i[1])&&(t=parseInt(i[1].substr(0,1),10)))),n+t}function L(e,t){this.d=e,this.p=e.t.document.documentElement,this.P=t,this.j="wf",this.h=new _("-"),this.ga=!1!==t.events,this.B=!1!==t.classes}function C(e){if(e.B){var t=c(e.p,e.h.e(e.j,"active")),n=[],i=[e.h.e(e.j,"loading")];t||n.push(e.h.e(e.j,"inactive")),l(e.p,n,i)}A(e,"inactive")}function A(e,t,n){e.ga&&e.P[t]&&(n?e.P[t](n.getName(),T(n)):e.P[t]())}function D(){this.w={}}function I(e,t){this.d=e,this.G=t,this.m=this.d.createElement("span",{"aria-hidden":"true"},this.G)}function x(e){r(e.d,"body",e.m)}function O(e){var t;t=[];for(var n=e.M.split(/,\s*/),i=0;i<n.length;i++){var s=n[i].replace(/['"]/g,"");-1==s.indexOf(" ")?t.push(s):t.push("'"+s+"'")}return t=t.join(","),n="normal","o"===e.N?n="oblique":"i"===e.N&&(n="italic"),"display:block;position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+t+";font-style:"+n+";font-weight:"+e.Y+"00;"}function M(e,t,n,i,s,o,r,a){for(var l in this.Z=e,this.ja=t,this.d=n,this.s=i,this.G=a||"BESbswy",this.k=s,this.I={},this.W=o||3e3,this.ba=r||null,this.F=this.D=null,x(e=new I(this.d,this.G)),Z)Z.hasOwnProperty(l)&&(t=O(t=new w(Z[l],T(this.s))),e.m.style.cssText=t,this.I[Z[l]]=e.m.offsetWidth);e.remove()}function R(e,t,n){for(var i in Z)if(Z.hasOwnProperty(i)&&t===e.I[Z[i]]&&n===e.I[Z[i]])return!0;return!1}function N(e){var t=e.D.m.offsetWidth,n=e.F.m.offsetWidth;t===e.I.serif&&n===e.I["sans-serif"]||e.k.fa&&R(e,t,n)?X()-e.na>=e.W?e.k.fa&&R(e,t,n)&&(null===e.ba||e.ba.hasOwnProperty(e.s.getName()))?U(e,e.Z):U(e,e.ja):P(e):U(e,e.Z)}function P(e){setTimeout(s(function(){N(this)},e),25)}function U(e,t){e.D.remove(),e.F.remove(),t(e.s)}function j(e,t,n,i){this.d=t,this.u=n,this.R=0,this.da=this.aa=!1,this.W=i,this.k=e.k}function H(e,t,n,i,o){if(n=n||{},0===t.length&&o)C(e.u);else for(e.R+=t.length,o&&(e.aa=o),o=0;o<t.length;o++){var r=t[o],a=n[r.getName()],c=e.u,u=r;c.B&&l(c.p,[c.h.e(c.j,u.getName(),T(u).toString(),"loading")]),A(c,"fontloading",u),c=null,(c=new M(s(e.ha,e),s(e.ia,e),e.d,r,e.k,e.W,i,a)).start()}}function F(e){0==--e.R&&e.aa&&(e.da?((e=e.u).B&&l(e.p,[e.h.e(e.j,"active")],[e.h.e(e.j,"loading"),e.h.e(e.j,"inactive")]),A(e,"active")):C(e.u))}function $(e){this.J=e,this.v=new D,this.oa=new v(e.navigator.userAgent),this.a=this.oa.parse(),this.T=this.U=0,this.Q=this.S=!0}function B(e,t,n,i,s){var o=0==--e.U;(e.Q||e.S)&&setTimeout(function(){H(t,n,i||null,s||null,o)},0)}function K(e,t,n){this.O=e||t+ee,this.q=[],this.V=[],this.ea=n||""}function G(e){this.q=e,this.ca=[],this.L={}}function V(e,t){this.a=new v(navigator.userAgent).parse(),this.d=e,this.f=t}function W(e,t){this.d=e,this.f=t,this.o=[]}function Y(e,t){this.d=e,this.f=t,this.o=[]}function q(e,t){this.d=e,this.f=t,this.o=[]}function z(e,t){this.d=e,this.f=t}var X=Date.now||function(){return+new Date};o.prototype.createElement=function(e,t,n){if(e=this.C.createElement(e),t)for(var i in t)t.hasOwnProperty(i)&&("style"==i?e.style.cssText=t[i]:e.setAttribute(i,t[i]));return n&&e.appendChild(this.C.createTextNode(n)),e};var J=/^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;p.prototype.compare=function(e){return this.c>e.c||this.c===e.c&&this.g>e.g||this.c===e.c&&this.g===e.g&&this.A>e.A?1:this.c<e.c||this.c===e.c&&this.g<e.g||this.c===e.c&&this.g===e.g&&this.A<e.A?-1:0},p.prototype.toString=function(){return[this.c,this.g||"",this.A||"",this.e||""].join("")},g.prototype.getName=function(){return this.M};var Q=new g("Unknown",0,0,0,0,0,0,new f(!1,!1));v.prototype.parse=function(){var e;if(-1!=this.a.indexOf("MSIE")||-1!=this.a.indexOf("Trident/")){e=y(this);var t=m(b(this)),n=null,i=S(this.a,/Trident\/([\d\w\.]+)/,1);n=-1!=this.a.indexOf("MSIE")?m(S(this.a,/MSIE ([\d\w\.]+)/,1)):m(S(this.a,/rv:([\d\w\.]+)/,1));""!=i&&m(i),e=new g("MSIE",0,0,0,0,0,0,new f("Windows"==e&&6<=n.c||"Windows Phone"==e&&8<=t.c,!1))}else if(-1!=this.a.indexOf("Opera"))e:if(e=m(S(this.a,/Presto\/([\d\w\.]+)/,1)),m(b(this)),null!==e.c||m(S(this.a,/rv:([^\)]+)/,1)),-1!=this.a.indexOf("Opera Mini/"))e=m(S(this.a,/Opera Mini\/([\d\.]+)/,1)),e=new g("OperaMini",0,0,0,y(this),0,0,new f(!1,!1));else{if(-1!=this.a.indexOf("Version/")&&null!==(e=m(S(this.a,/Version\/([\d\.]+)/,1))).c){e=new g("Opera",0,0,0,y(this),0,0,new f(10<=e.c,!1));break e}e=null!==(e=m(S(this.a,/Opera[\/ ]([\d\.]+)/,1))).c?new g("Opera",0,0,0,y(this),0,0,new f(10<=e.c,!1)):new g("Opera",0,0,0,y(this),0,0,new f(!1,!1))}else/OPR\/[\d.]+/.test(this.a)?e=E(this):/AppleWeb(K|k)it/.test(this.a)?e=E(this):-1!=this.a.indexOf("Gecko")?(e="Unknown",t=new p,m(b(this)),t=!1,-1!=this.a.indexOf("Firefox")?(e="Firefox",t=3<=(t=m(S(this.a,/Firefox\/([\d\w\.]+)/,1))).c&&5<=t.g):-1!=this.a.indexOf("Mozilla")&&(e="Mozilla"),n=m(S(this.a,/rv:([^\)]+)/,1)),
t||(t=1<n.c||1==n.c&&9<n.g||1==n.c&&9==n.g&&2<=n.A),e=new g(e,0,0,0,y(this),0,0,new f(t,!1))):e=Q;return e},_.prototype.e=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t].replace(/[\W_]+/g,"").toLowerCase());return e.join(this.la)},w.prototype.getName=function(){return this.M},I.prototype.remove=function(){var e=this.m;e.parentNode&&e.parentNode.removeChild(e)};var Z={ra:"serif",qa:"sans-serif",pa:"monospace"};M.prototype.start=function(){this.D=new I(this.d,this.G),x(this.D),this.F=new I(this.d,this.G),x(this.F),this.na=X();var e=O(e=new w(this.s.getName()+",serif",T(this.s)));this.D.m.style.cssText=e,e=O(e=new w(this.s.getName()+",sans-serif",T(this.s))),this.F.m.style.cssText=e,N(this)},j.prototype.ha=function(e){var t=this.u;t.B&&l(t.p,[t.h.e(t.j,e.getName(),T(e).toString(),"active")],[t.h.e(t.j,e.getName(),T(e).toString(),"loading"),t.h.e(t.j,e.getName(),T(e).toString(),"inactive")]),A(t,"fontactive",e),this.da=!0,F(this)},j.prototype.ia=function(e){var t=this.u;if(t.B){var n=c(t.p,t.h.e(t.j,e.getName(),T(e).toString(),"active")),i=[],s=[t.h.e(t.j,e.getName(),T(e).toString(),"loading")];n||i.push(t.h.e(t.j,e.getName(),T(e).toString(),"inactive")),l(t.p,i,s)}A(t,"fontinactive",e),F(this)},$.prototype.load=function(e){this.d=new o(this.J,e.context||this.J),this.S=!1!==e.events,this.Q=!1!==e.classes;var t=new L(this.d,e),n=[],i=e.timeout;t.B&&l(t.p,[t.h.e(t.j,"loading")]),A(t,"loading");n=this.v;var r,a=this.d,c=[];for(r in e)if(e.hasOwnProperty(r)){var u=n.w[r];u&&c.push(u(e[r],a))}for(n=c,this.T=this.U=n.length,e=new j(this.a,this.d,t,i),i=0,r=n.length;i<r;i++)(a=n[i]).K(this.a,s(this.ka,this,a,t,e))},$.prototype.ka=function(e,t,n,i){var s=this;i?e.load(function(e,t,i){B(s,n,e,t,i)}):(e=0==--this.U,this.T--,e&&0==this.T?C(t):(this.Q||this.S)&&H(n,[],{},null,e))};var ee="//fonts.googleapis.com/css";K.prototype.e=function(){if(0==this.q.length)throw Error("No fonts to load!");if(-1!=this.O.indexOf("kit="))return this.O;for(var e=this.q.length,t=[],n=0;n<e;n++)t.push(this.q[n].replace(/ /g,"+"));return e=this.O+"?family="+t.join("%7C"),0<this.V.length&&(e+="&subset="+this.V.join(",")),0<this.ea.length&&(e+="&text="+encodeURIComponent(this.ea)),e};var te={latin:"BESbswy",cyrillic:"&#1081;&#1103;&#1046;",greek:"&#945;&#946;&#931;",khmer:"&#x1780;&#x1781;&#x1782;",Hanuman:"&#x1780;&#x1781;&#x1782;"},ne={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ie={i:"i",italic:"i",n:"n",normal:"n"},se=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;G.prototype.parse=function(){for(var e=this.q.length,t=0;t<e;t++){var n=this.q[t].split(":"),i=n[0].replace(/\+/g," "),s=["n4"];if(2<=n.length){var o;if(o=[],r=n[1])for(var r,a=(r=r.split(",")).length,l=0;l<a;l++){var c;if((c=r[l]).match(/^[\w-]+$/)){var u=void 0;if(null==(c=se.exec(c.toLowerCase())))u="";else{if(u=void 0,null==(u=c[1])||""==u)u="4";else{var d=ne[u];u=d||(isNaN(u)?"4":u.substr(0,1))}u=[null==(c=c[2])||""==c?"n":ie[c],u].join("")}c=u}else c="";c&&o.push(c)}0<o.length&&(s=o),3==n.length&&(o=[],0<(n=(n=n[2])?n.split(","):o).length&&(n=te[n[0]])&&(this.L[i]=n))}for(this.L[i]||(n=te[i])&&(this.L[i]=n),n=0;n<s.length;n+=1)this.ca.push(new w(i,s[n]))}};var oe={Arimo:!0,Cousine:!0,Tinos:!0};V.prototype.K=function(e,t){t(e.k.X)},V.prototype.load=function(e){var t=this.d;"MSIE"==this.a.getName()&&1!=this.f.blocking?a(t,s(this.$,this,e)):this.$(e)},V.prototype.$=function(e){for(var t=this.d,n=new K(this.f.api,u(t),this.f.text),i=this.f.families,s=i.length,o=0;o<s;o++){var r=i[o].split(":");3==r.length&&n.V.push(r.pop());var a="";2==r.length&&""!=r[1]&&(a=":"),n.q.push(r.join(a))}(i=new G(i)).parse(),d(t,n.e()),e(i.ca,i.L,oe)},W.prototype.H=function(e){var t=this.d;return u(this.d)+(this.f.api||"//f.fontdeck.com/s/css/js/")+(t.t.location.hostname||t.J.location.hostname)+"/"+e+".js"},W.prototype.K=function(e,t){var n=this.f.id,i=this.d.t,s=this;n?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[n]=function(e,n){for(var i=0,o=n.fonts.length;i<o;++i){var r=n.fonts[i];s.o.push(new w(r.name,k("font-weight:"+r.weight+";font-style:"+r.style)))}t(e)},h(this.d,this.H(n),function(e){e&&t(!1)})):t(!1)},W.prototype.load=function(e){e(this.o)},Y.prototype.H=function(e){var t=u(this.d);return(this.f.api||t+"//use.typekit.net")+"/"+e+".js"},Y.prototype.K=function(e,t){var n=this.f.id,i=this.d.t,s=this;n?h(this.d,this.H(n),function(e){if(e)t(!1);else{if(i.Typekit&&i.Typekit.config&&i.Typekit.config.fn){e=i.Typekit.config.fn;for(var n=0;n<e.length;n+=2)for(var o=e[n],r=e[n+1],a=0;a<r.length;a++)s.o.push(new w(o,r[a]));try{i.Typekit.load({events:!1,classes:!1})}catch(l){}}t(!0)}},2e3):t(!1)},Y.prototype.load=function(e){e(this.o)},q.prototype.K=function(e,t){var n=this,i=n.f.projectId,s=n.f.version;if(i){var o=n.d.t;h(this.d,n.H(i,s),function(s){if(s)t(!1);else{if(o["__mti_fntLst"+i]&&(s=o["__mti_fntLst"+i]()))for(var r=0;r<s.length;r++)n.o.push(new w(s[r].fontfamily));t(e.k.X)}}).id="__MonotypeAPIScript__"+i}else t(!1)},q.prototype.H=function(e,t){return u(this.d)+"//"+(this.f.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,"")+"/"+e+".js"+(t?"?v="+t:"")},q.prototype.load=function(e){e(this.o)},z.prototype.load=function(e){var t,n,i=this.f.urls||[],s=this.f.families||[],o=this.f.testStrings||{};for(t=0,n=i.length;t<n;t++)d(this.d,i[t]);for(i=[],t=0,n=s.length;t<n;t++){var r=s[t].split(":");if(r[1])for(var a=r[1].split(","),l=0;l<a.length;l+=1)i.push(new w(r[0],a[l]));else i.push(new w(r[0]))}e(i,o)},z.prototype.K=function(e,t){return t(e.k.X)};var re=new $(this);re.v.w.custom=function(e,t){return new z(t,e)},re.v.w.fontdeck=function(e,t){return new W(t,e)},re.v.w.monotype=function(e,t){return new q(t,e)},re.v.w.typekit=function(e,t){return new Y(t,e)},re.v.w.google=function(e,t){return new V(t,e)},this.WebFont||(this.WebFont={},this.WebFont.load=s(re.load,re),this.WebFontConfig&&re.load(this.WebFontConfig))}(this,document),window.SL=function(e){e=e.split(".");for(var t=SL;e.length;){var n=e.shift();t[n]||(t[n]={}),t=t[n]}return t},function(){function e(){s||(s=!0,t(),SL.helpers&&SL.helpers.PageLoader.hide(),SL.settings.init(),SL.keyboard.init(),SL.pointer.init(),SL.draganddrop.init(),SL.fonts.init(),SL.visibility.init(),"undefined"==typeof SLConfig&&(window.SLConfig={}),n(),i(),SL.warnings.init(),SL.promotions.init(),SL.deckthumbs.init())}function t(){var e=$("html");e.addClass("loaded"),SL.util.device.HAS_TOUCH&&e.addClass("touch"),SL.util.device.isMac()?e.addClass("ua-mac"):SL.util.device.isWindows()?e.addClass("ua-windows"):SL.util.device.isLinux()&&e.addClass("ua-linux"),SL.util.device.isiPhone()&&e.addClass("ua-iphone"),SL.util.device.isChrome()?e.addClass("ua-chrome"):SL.util.device.isSafari()?e.addClass("ua-safari"):SL.util.device.isFirefox()?e.addClass("ua-firefox"):SL.util.device.isIE()&&e.addClass("ua-ie"),window.navigator.standalone&&e.addClass("ua-standalone"),SL.util.device.getScrollBarWidth()>0&&e.addClass("has-visible-scrollbars")}function n(){"object"==typeof window.SLConfig&&(SLConfig.deck&&!SLConfig.deck.notes&&(SLConfig.deck.notes={}),SL.current_user=new SL.models.User(SLConfig.current_user),"object"==typeof SLConfig.deck&&(SL.current_deck=new SL.models.Deck(SLConfig.deck)),"object"==typeof SLConfig.theme&&(SL.current_theme=new SL.models.Theme(SLConfig.theme)),"object"==typeof SLConfig.team&&(SL.current_team=new SL.models.Team(SLConfig.team)))}function i(){var e=$("html");SL.util.hideAddressBar(),e.hasClass("home index")?new SL.views.home.Index:e.hasClass("home explore")?new SL.views.home.Explore:e.hasClass("home features")?new SL.views.home.Features:e.hasClass("users show")?new SL.views.users.Show:e.hasClass("users confirm")?new SL.views.users.Confirm:e.hasClass("decks show")?new SL.views.decks.Show:e.hasClass("decks edit")?new SL.editor.Editor:e.hasClass("decks access-requires-upgrade")?new SL.views.decks.RequiresUpgrade:e.hasClass("decks embed")?new SL.views.decks.Embed:e.is(".decks.presenter-view")?new SL.views.decks.Presenter:e.is(".decks.kiosk")?new SL.views.decks.Kiosk:e.is(".decks.live-client")?new SL.views.decks.LiveClient:e.is(".decks.live-server")?new SL.views.decks.LiveServer:e.hasClass("speaker-view")?new SL.views.decks.Speaker:e.hasClass("decks export")?new SL.views.decks.Export:e.hasClass("decks print")?new SL.views.decks.Print:e.hasClass("decks fullscreen")?new SL.views.decks.Fullscreen:e.hasClass("decks review")?new SL.views.decks.Review:e.hasClass("decks password")?new SL.views.decks.Password:e.hasClass("teams-subscriptions-show")?new SL.views.teams.subscriptions.Show:e.hasClass("registrations")&&(e.hasClass("edit")||e.hasClass("update"))?new SL.views.devise.Edit:e.hasClass("registrations")||e.hasClass("team_registrations")||e.hasClass("sessions")||e.hasClass("passwords")||e.hasClass("invitations show")?new SL.views.devise.All:e.hasClass("subscriptions new")||e.hasClass("subscriptions edit")?new SL.views.subscriptions.New:e.hasClass("subscriptions show")?new SL.views.subscriptions.Show:e.hasClass("subscriptions edit_period")?new SL.views.subscriptions.EditPeriod:e.hasClass("teams-reactivate")?new SL.views.teams.subscriptions.Reactivate:e.hasClass("teams-signup")?new SL.views.teams.New:e.hasClass("teams edit")?new SL.views.teams.teams.Edit:e.hasClass("teams edit_members")?new SL.views.teams.teams.EditMembers:e.hasClass("teams show")?new SL.views.teams.teams.Show:e.hasClass("themes edit")?new SL.views.themes.Edit:e.hasClass("themes preview")?new SL.views.themes.Preview:e.hasClass("pricing")?new SL.views.statik.Pricing:e.hasClass("static")?new SL.views.statik.All:e.hasClass("funnels")?new SL.views.funnels.All:new SL.views.Base}var s=!1;"complete"===document.readyState?setTimeout(e,1):"interactive"===document.readyState?(document.onreadystatechange=function(){"complete"==document.readyState&&setTimeout(e,1)},window.addEventListener("load",e)):(document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",e))}(),SL.activity={init:function(){this.initialized||(this.initialized=!0,this.history=[Date.now()],this.listeners=[],this.bind(),setInterval(this.checkListeners.bind(this),500))},bind:function(){this.onUserInput=$.throttle(this.onUserInput.bind(this),100),document.addEventListener("mousedown",this.onUserInput),document.addEventListener("mousemove",this.onUserInput),document.addEventListener("touchstart",this.onUserInput),document.addEventListener("touchmove",this.onUserInput),document.addEventListener("keydown",this.onUserInput),window.addEventListener("scroll",this.onUserInput),window.addEventListener("mousewheel",this.onUserInput)},checkListeners:function(){this.listeners.forEach(function(e){this.hasBeenInactiveFor(e.duration)?!0===e.active&&(e.active=!1,"function"==typeof e.inactiveCallback&&e.inactiveCallback()):!1===e.active&&(e.active=!0,"function"==typeof e.activeCallback&&e.activeCallback())},this)},hasBeenInactiveFor:function(e){return Date.now()-this.history[0]>e},register:function(e,t,n){this.initialized||this.init(),this.listeners.push({active:!this.hasBeenInactiveFor(e),duration:e,activeCallback:t,inactiveCallback:n})},onUserInput:function(){this.history.unshift(Date.now()),this.history.splice(1e3)}},SL.analytics={CONTEXT_DECK:"deck",CONTEXT_EDITOR:"editor",CONTEXT_THEMING:"theming",CONTEXT_PRESENTING:"presenting",CONTEXT_DECK_SHARING:"deck_share",CONTEXT_PROFILE_PAGE:"profile_page",CONTEXT_COLLABORATION:"collaboration",CONTEXT_DECK_TEMPLATES:"deck_templates",_track:function(e,t,n,i){SL.util.getDebugLevel()>2&&console.log("SL.analytics.track",e+"_"+t,n),"undefined"!=typeof window.gtag&&this.getMeasurementIds(i).forEach(i=>{gtag("event",e+"_"+t,$.extend({send_to:i},n))})},_trackPageView:function(e,t,n){t=t||document.title,SL.util.getDebugLevel()>2&&console.log("SL.analytics.trackPageView",{path:e,title:t}),"undefined"!=typeof window.gtag&&(n||this.getMeasurementIds(!0)).forEach(n=>{gtag("event","page_view",{page_title:t,page_path:"https://"+window.location.host+e,send_to:n})})},trackDeck:function(e,t,n){this._track(SL.analytics.CONTEXT_DECK,e,t,n)},trackEditor:function(e,t,n){this._track(SL.analytics.CONTEXT_EDITOR,e,t,n)},trackTheming:function(e,t,n){this._track(SL.analytics.CONTEXT_THEMING,e,t,n)},trackPresenting:function(e,t,n){this._track(SL.analytics.CONTEXT_PRESENTING,e,t,n)},trackDeckSharing:function(e,t,n){this._track(SL.analytics.CONTEXT_DECK_SHARING,e,t,n)},trackProfilePage:function(e,t,n){this._track(SL.analytics.CONTEXT_PROFILE_PAGE,e,t,n)},trackCollaboration:function(e,t,n){this._track(SL.analytics.CONTEXT_COLLABORATION,e,t,n)},trackDeckTemplates:function(e,t,n){this._track(SL.analytics.CONTEXT_DECK_TEMPLATES,e,t,n)},trackCurrentSlide:function(){if(window.Reveal){if("string"==typeof window.customMeasurementId){var e,t=Reveal.getCurrentSlide(),n=window.location.pathname;if(t&&t.hasAttribute("id"))n+="/#/"+t.getAttribute("id");else{var i=window.Reveal.getIndices();n+="/#/"+i.h,"number"==typeof i.v&&i.v>0&&(n+="/"+i.v)}t&&t.hasAttribute("id")&&(e=t.getAttribute("id")),(!e||e.length<2)&&(e=$(Reveal.getCurrentSlide()).find("h1, h2, h3").first().text().trim()),(!e||e.length<2)&&(e="Untitled slide"),"string"==typeof SLConfig.deck.title&&(e=SLConfig.deck.title+" | "+e),this._trackPageView(n,e,[window.customMeasurementId])}this.trackCurrentSlideUA()}},trackCurrentSlideUA:function(){if("undefined"!=typeof window.ga){var e=Reveal.getCurrentSlide(),t=window.location.pathname+"/";if(e&&e.hasAttribute("id"))t+=e.getAttribute("id");else{var n=window.Reveal.getIndices();t+=n.h,"number"==typeof n.v&&n.v>0&&(t+="/"+n.v)}var i=$(Reveal.getCurrentSlide()).find("h1, h2, h3").first().text().trim();(!i||i.length<2)&&(i="Untitled"),ga(function(){for(var e=ga.getAll(),n=0;n<e.length;++n)e[n].send("pageview",{page:t,title:i||document.title})})}},getMeasurementIds:function(e){let t=[window.slidesMeasurementId];return e&&"string"==typeof window.customMeasurementId&&t.push(window.customMeasurementId),t}},SL.config={DEFAULT_SLIDE_WIDTH:960,DEFAULT_SLIDE_HEIGHT:700,DEFAULT_SLIDE_MARGIN:.05,DEFAULT_SLIDE_TRANSITION_DURATION:800,DEFAULT_SLIDE_IMAGE_BACKGROUND_SIZE:"cover",DEFAULT_SLIDE_IMAGE_BACKGROUND_POSITION:"50% 50%",DEFAULT_THEME_COLOR:"white-blue",DEFAULT_THEME_FONT:"montserrat",DEFAULT_THEME_TRANSITION:"slide",DEFAULT_THEME_BACKGROUND_TRANSITION:"slide",EDITOR_MIN_SCALE:.15,EDITOR_MAX_SCALE:1,EDITOR_PASTE_OFFSET:10,AUTO_ANIMATE_EASING_DEFAULT:"ease",AUTO_ANIMATE_UNMATCHED_DEFAULT:!0,AUTO_ANIMATE_DURATION_DEFAULT:1e3,AUTO_ANIMATE_DURATION_MIN:0,AUTO_ANIMATE_DURATION_MAX:1e4,AUTO_ANIMATE_DELAY_DEFAULT:0,AUTO_ANIMATE_DELAY_MIN:0,AUTO_ANIMATE_DELAY_MAX:1e4,MAX_GROUP_NESTING:6,SLIDE_SIZES:[{label:"960x700 \u2014 Default",width:960,height:700},{label:"1024x576 \u2014 16:9",width:1024,height:576},{label:"1280x720 \u2014 16:9",width:1280,height:720},{label:"960x720 \u2014 4:3",width:960,height:720},{label:"600x800 \u2014 3:4",width:600,height:800}],BLOCK_MIN_SIZE:1,AUTH_STATUS_INTERVAL:6e4,UNSAVED_CHANGES_INTERVAL:1500,AUTOSAVE_INTERVAL:4e3,DECK_SAVE_TIMEOUT:25e3,DECK_TITLE_MAXLENGTH:200,DECK_TITLE_DEFAULT:"deck",MEDIA_LABEL_MAXLENGTH:200,SPEAKER_NOTES_MAXLENGTH:1e4,EDITOR_FLOATING_ACTION_RADIUS:50,COLLABORATION_IDLE_TIMEOUT:24e4,COLLABORATION_RESET_WRITING_TIMEOUT:15e3,COLLABORATION_SEND_WRITING_INTERVAL:5e3,COLLABORATION_COMMENT_MAXLENGTH:1e3,STREAM_POINTER_UPDATE_FREQUENCY:50,STREAM_ENGINE_HOST:window.location.protocol+"//stream2.slides.com",STREAM_ENGINE_LIVE_NAMESPACE:"live",STREAM_ENGINE_EDITOR_NAMESPACE:"editor",APP_HOST:"slides.com",APP_ENV:"production",S3_HOST:"https://s3.amazonaws.com/media-p.slid.es",CDN_HOST:"https://media.slid.es",DOUBLE_CLICK_THRESHOLD:400,INLINE_SVG_MAX_LENGTH:1e6,MAX_IMPORT_UPLOAD_SIZE:104857600,EXPORT_PDF_TIMEOUT:6e5,EXPORT_ZIP_TIMEOUT:3e5,EXPORT_PPT_TIMEOUT:6e5,IMAGE_UPLOAD_TIMEOUT:12e4,VIDEO_UPLOAD_TIMEOUT:6e5,VIDEO_TRANSCODE_TIMEOUT:6e5,IMPORT_SOCKET_TIMEOUT:24e4,PRESENT_CONTROLS_DEFAULT:!0,PRESENT_UPSIZING_DEFAULT:!0,PRESENT_UPSIZING_MAX_SCALE:10,KIOSK_AUTOSLIDE_DEFAULT:8e3,KIOSK_CHANGE_PING_INTERVAL:3e5,DEFAULT_EXPORT_CONTROLS:!0,DEFAULT_EXPORT_SEPARATE_FRAGMENTS:!1,DEFAULT_EDITOR_FIXED_NOTES:!1,DEFAULT_EXPORT_MARGIN:0,AUTO_SLIDE_OPTIONS:[2,4,6,8,10,15,20,30,40,60,120,180],DECK_TIME_LIMIT:[5,10,15,20,25,30,40,50,60],RESERVED_SLIDE_CLASSES:["past","present","future","disabled","overflowing","selected","focused","in-view","drag-target","has-dark-background","has-light-background"],FRAGMENT_STYLES:[{id:"",title:"Fade in"},{id:"fade-down",title:"Fade in from above"},{id:"fade-up",title:"Fade in from below"},{id:"fade-right",title:"Fade in from left"},{id:"fade-left",title:"Fade in from right"},{id:"fade-out",title:"Fade out"},{id:"semi-fade-out",title:"Fade out 50%"},{id:"current-visible",title:"Fade in then out"},{id:"fade-in-then-semi-out",title:"Fade in then obfuscate"}],THEME_COLORS:[{id:"white-blue"},{id:"sand-blue"},{id:"beige-brown"},{id:"silver-green"},{id:"silver-blue"},{id:"sky-blue"},{id:"blue-yellow"},{id:"cobalt-orange"},{id:"asphalt-orange"},{id:"forest-yellow"},{id:"mint-beige"},{id:"sea-yellow"},{id:"yellow-black"},{id:"coral-blue"},{id:"grey-blue"},{id:"black-blue"},{id:"black-mint"},{id:"black-orange"}],THEME_FONTS:[{id:"montserrat",title:"Montserrat"},{id:"league",title:"League"},{id:"opensans",title:"Open Sans"},{id:"josefine",title:"Josefine"},{id:"palatino",title:"Palatino"},{id:"news",title:"News"},{id:"helvetica",title:"Helvetica"},{id:"merriweather",title:"Merriweather"},{id:"asul",title:"Asul"},{id:"sketch",title:"Sketch"},{id:"quicksand",title:"Quicksand"},{id:"overpass",title:"Overpass v1",deprecated:!0},{id:"overpass2",title:"Overpass"}],THEME_TRANSITIONS:[{id:"slide",title:"Slide"},{id:"linear",title:"Linear",deprecated:!0},{id:"default",title:"Convex"},{id:"concave",title:"Concave"},{id:"fade",title:"Fade"},{id:"none",title:"None"},{id:"zoom",title:"Zoom"},{id:"cube",title:"Cube",deprecated:!0},{id:"page",title:"Page",deprecated:!0}],THEME_BACKGROUND_TRANSITIONS:[{id:"slide",title:"Slide"},{id:"convex",title:"Convex"},{id:"concave",title:"Concave"},{id:"fade",title:"Fade"},{id:"none",title:"None"},{id:"zoom",title:"Zoom"}],EASING_EQUATIONS:[{value:"linear",title:"Linear",path:"M0 100 L100 0"},{value:"ease",title:"Ease",path:"M0 100 C25 100 25 10  100 0"},{value:"ease-out",title:"Ease out",path:"M0 100 C0 100 58 0 100 0"},{value:"ease-in",title:"Ease in",path:"M0 100 C42 100 100 0 100 0"},{value:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",title:"Back out",path:"M0 100 C17.5 12 25 -25 100 0"},{value:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",title:"Back in",path:"M0 100 C40 112 73.5 95.5 100 0"},{value:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",title:"Back in & out",path:"M0 100 C68 145 26.5 -45 100 0"},{value:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",title:"Quint out",path:"M0 100 C23 0 32 0 100 0"},{value:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",title:"Quint in",path:"M0 100 C75.5 95 85.5 94 100 0"},{value:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",title:"Quint in & out",path:"M0 100 C86 100 7 0 100 0"}],BLOCKS:[{type:"text",factory:"Text",label:"Text",icon:"type"},{type:"image",factory:"Image",label:"Image",icon:"picture"},{type:"video",factory:"Video",label:"Video",icon:"video-camera"},{type:"shape",factory:"Shape",label:"Shape",icon:"shapes"},{type:"drawing",factory:"Drawing",label:"Drawing",icon:"pen-alt2",toolbarLabel:"Pen"},{type:"line",factory:"Line",label:"Line",icon:""},{type:"iframe",factory:"Iframe",label:"Iframe",icon:"browser"},{type:"table",factory:"Table",label:"Table",icon:"table"},{type:"code",factory:"Code",label:"Code",icon:"code"},{type:"math",factory:"Math",label:"Math",icon:"divide"},{type:"snippet",factory:"Snippet",label:"snippet",icon:"file-xml",hidden:!0},{type:"group",factory:"Group",label:"Group",icon:"",hidden:!0}],CODE_LANGUAGES:[{value:"none",title:"Automatic"},{value:"1c",title:"1C"},{value:"actionscript",title:"ActionScript"},{value:"apache",title:"Apache"},{value:"applescript",title:"AppleScript"},{value:"asciidoc",title:"AsciiDoc"},{value:"autohotkey",title:"AutoHotkey"},{value:"avrasm",title:"AVR Assembler"},{value:"axapta",title:"Axapta"},{value:"bash",title:"Bash"},{value:"clojure",title:"Clojure"},{value:"cmake",title:"CMake"},{value:"coffeescript",title:"CoffeeScript"},{value:"cpp",title:"C++"},{value:"cs",title:"C#"},{value:"css",title:"CSS",mime:"text/css"},{value:"d",title:"D"},{value:"dart",title:"Dart"},{value:"delphi",title:"Delphi"},{value:"diff",title:"Diff"},{value:"django",title:"Django "},{value:"dockerfile",title:"Dockerfile"},{value:"dos",title:"DOS"},{value:"elixir",title:"Elixir"},{value:"elm",title:"Elm"},{value:"erlang",title:"Erlang"},{value:"fix",title:"FIX"},{value:"fsharp",title:"F#"},{value:"gherkin",title:"gherkin"},{value:"glsl",title:"GLSL"},{value:"go",title:"Go"},{value:"haml",title:"Haml"},{value:"handlebars",title:"Handlebars"},{value:"haskell",title:"Haskell"},{value:"xml",title:"HTML",mime:"text/html"},{value:"http",title:"HTTP"},{value:"ini",title:"Ini file"},{value:"java",title:"Java"},{value:"javascript",title:"JavaScript",mime:"text/javascript"},{value:"json",title:"JSON",mime:"application/json"},{value:"julia",title:"Julia"},{value:"julia-repl",title:"Julia REPL"},{value:"kotlin",title:"Kotlin"},{value:"lasso",title:"Lasso"},{value:"less",title:"LESS",mime:"text/x-less"},{value:"lisp",title:"Lisp"},{value:"livecodeserver",title:"LiveCode Server"},{value:"lua",title:"Lua"},{value:"makefile",title:"Makefile"},{value:"markdown",title:"Markdown"},{value:"mathematica",title:"Mathematica"},{value:"matlab",title:"Matlab"},{value:"mel",title:"MEL"},{value:"mizar",title:"Mizar"},{value:"monkey",title:"Monkey"},{value:"nginx",title:"nginx"},{value:"objectivec",title:"Objective C"},{value:"ocaml",title:"OCaml"},{value:"oxygene",title:"Oxygene"},{value:"parser3",title:"Parser 3"},{value:"perl",title:"Perl"},{value:"php",title:"PHP"},{value:"plaintext",title:"Plaintext"},{value:"profile",title:"Profile"},{value:"python",title:"Python",mime:"text/x-python"},{value:"r",title:"R"},{value:"rib",title:"RenderMan RIB"},{value:"rsl",title:"RenderMan RSL"},{value:"ruby",title:"Ruby",mime:"text/x-ruby"},{value:"ruleslanguage",title:"Oracle Rules Language"},{value:"rust",title:"Rust"},{value:"scala",title:"Scala"},{value:"scilab",title:"Scilab"},{value:"scss",title:"SCSS",mime:"text/x-scss"},{value:"smalltalk",title:"SmallTalk"},{value:"sql",title:"SQL"},{value:"stata",title:"Stata"},{value:"stylus",title:"Stylus"},{value:"swift",title:"Swift",mime:"text/x-swift"},{value:"tex",title:"TeX",mime:"text/x-stex"},{value:"twig",title:"Twig"},{value:"typescript",title:"TypeScript",mime:"text/typescript"},{value:"vala",title:"Vala"},{value:"vbnet",title:"VB.NET"},{value:"vbscript",title:"VBScript"},{value:"vhdl",title:"VHDL"},{value:"vim",title:"vim"},{value:"xml",title:"XML"},{value:"yaml",title:"YAML"}],CODE_BASE_SIZE:16,CODE_BASE_LINE_HEIGH:1.2,DEFAULT_DECK_THUMBNAIL:"https://static.slid.es/images/default-deck-thumbnail.png",DEFAULT_USER_THUMBNAIL:"https://static.slid.es/images/default-profile-picture.png",GOOGLE_FONTS_LIST:"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyAD1SV55vtPn4d37DWGvPg8iUKhMj2Epzo",REVEAL_NOTES_URL:"/reveal/notes.html",ASSET_URLS:{"offline-v2.css":"//assets-v2.slid.es/assets/offline-v2-69da8c9d624da4f16718fbcb5b2f32498b6685123953792db5ad5f9616909e50.css","homepage-background.jpg":"//assets-v2.slid.es/homepage-background.jpg","reveal-plugins/zoom/zoom.js":"//assets-v2.slid.es/assets/reveal-plugins/zoom/zoom-e1f94838c054500b9ea32c1cdb27173f7796522bc2af1b0c8efe98c65a4c57b7.js","reveal-plugins/markdown/marked.js":"//assets-v2.slid.es/reveal-plugins/markdown/marked.js","reveal-plugins/markdown/markdown.js":"//assets-v2.slid.es/assets/reveal-plugins/markdown/markdown-1d7855cfa49bce490cc64cb46d12ad13af2c2bb17bbd37da99eae37ce57b468a.js","reveal-plugins/highlight/highlight.js":"//assets-v2.slid.es/assets/reveal-plugins/highlight/highlight-0adde8531514527653fdb445e29c1cca3687dc50684c4b8f624246a318dc706a.js"}},SL.config.V1={DEFAULT_THEME_COLOR:"grey-blue",DEFAULT_THEME_FONT:"league",DEFAULT_THEME_TRANSITION:"linear",DEFAULT_THEME_BACKGROUND_TRANSITION:"fade",THEME_COLORS:[{id:"grey-blue"},{id:"black-mint"},{id:"black-orange"},{id:"forest-yellow"},{id:"lila-yellow"},{id:"asphalt-orange"},{id:"sky-blue"},{id:"beige-brown"},{id:"sand-grey"},{id:"silver-green"},{id:"silver-blue"},{id:"cobalt-orange"},{id:"white-blue"},{id:"mint-beige"},{id:"sea-yellow"},{id:"coral-blue"}],THEME_FONTS:[{id:"league",title:"League"},{id:"opensans",title:"Open Sans"},{id:"josefine",title:"Josefine"},{id:"palatino",title:"Palatino"},{id:"news",title:"News"},{id:"montserrat",title:"Montserrat"},{id:"helvetica",title:"Helvetica"},{id:"asul",title:"Asul"},{id:"merriweather",title:"Merriweather"},{id:"sketch",title:"Sketch"},{id:"quicksand",title:"Quicksand"},{id:"overpass",title:"Overpass v1",deprecated:!0},{id:"overpass2",title:"Overpass"}]},SL.deckthumbs={PREVIEW_CONTROLS_TEMPLATE:'<div class="deck-preview-controls"><button class="button preview-button black-30 icon i-visibility_on hide-in-preview" data-tooltip="Preview"></button><button class="button open-deck-button black-30 icon i-launch show-in-preview hide-in-fullscreen" data-tooltip="Open"></button><button class="button fullscreen-button black-30 icon i-fullscreen show-in-preview hide-in-fullscreen" data-tooltip="Fullscreen"></button><button class="button exit-fullscreen-button black-30 icon i-fullscreen-exit show-in-fullscreen" data-tooltip="Exit fullscreen"></button><button class="button exit-preview-button black-30 icon i-visibility_off show-in-preview hide-in-fullscreen" data-tooltip="Stop preview"></button></div>',init:function(){SL.util.device.IS_PHONE||SL.util.device.IS_TABLET||$("html").on("mouseover",".sl-deck-thumbnail[data-preview-url]:not(.has-preview-controls)",this.onPreviewableThumbHover.bind(this)).on("vclick",".sl-deck-thumbnail[data-preview-url] .preview-button",this.onPreviewClicked.bind(this)).on("vclick",".sl-deck-thumbnail[data-preview-url] .exit-preview-button",this.onPreviewClicked.bind(this)).on("vclick",".sl-deck-thumbnail[data-preview-url] .fullscreen-button",this.onPreviewFullscreenClicked.bind(this)).on("vclick",".sl-deck-thumbnail[data-preview-url] .exit-fullscreen-button",this.onPreviewFullscreenClicked.bind(this)).on("vclick",".sl-deck-thumbnail[data-preview-url] .open-deck-button",this.onOpenDeckClicked.bind(this)),$("html").on("vclick",".sl-deck-thumbnail[data-template-preview-url]",this.onTemplatePreviewClicked.bind(this))},create:function(e,t){var n=e.getURL(),i="<"+(t=$.extend({nodeName:"div",context:"default",link:!0,preview:!0,statusLabel:null},t)).nodeName+' class="sl-deck-thumbnail">'+(!0===typeof t.link?'<a class="deck-link" href="${DECK_URL}"></a>':'<div class="deck-link"></div>')+'<div class="deck-thumb"><img class="deck-thumb-image" src="${DECK_THUMB_URL}" loading="lazy" /></div><footer class="deck-details"><div class="top"><div class="title">${DECK_TITLE}</div></div>';if("default"===t.context)i+='<div class="bottom"><a class="author" href="${USER_URL}"><span class="picture" style="background-image: url(${USER_THUMB_URL})"></span><span class="name">${USER_FULL_NAME}</span></a><div class="stats"><div>${DECK_VIEWS}<span class="icon i-eye"></span></div></div></div>';else if("template"===t.context){i+='<div class="bottom seamless"><div class="stats"><div>${DECK_SLIDES} slides</div></div><button class="button light-grey select-button">'+("string"==typeof t.selectButtonText?t.selectButtonText:"Select")+' <span class="icon i-chevron-right"></span></button></div>'}else"template-blank"===t.context&&(i+='<div class="bottom seamless">'+(t.statusLabel?'<div class="status-label">'+t.statusLabel+"</div>":"")+'<button class="button light-grey select-button">Select <span class="icon i-chevron-right"></span></button></div>');i+="</footer>",i+="</"+t.nodeName+">";var s={DECK_URL:n,DECK_TITLE:SL.util.escapeHTMLEntities(e.get("title")),DECK_VIEWS:SL.util.string.viewCount(e.get("view_count")),DECK_SLIDES:e.get("slide_count"),DECK_THUMB_URL:e.get("thumbnail_url"),USER_URL:e.user.getProfileURL(),USER_FULL_NAME:e.user.getNameOrSlug(),USER_THUMB_URL:e.user.getProfilePictureURL()};for(var o in s)i=i.replace("${"+o+"}",s[o]);var r=$(i);return!0===t.preview&&r.attr("data-preview-url",n),r.attr("data-context",t.context),r},createFromTheme:function(e,t){return t=t||{},$('<div class="sl-deck-thumbnail" data-context="theme"><div class="deck-link"></div><div class="deck-thumb">'+(e.hasThumbnail()?'<img class="deck-thumb-image" src="'+e.get("thumbnail_url")+'" loading="lazy" />':"")+'</div><footer class="deck-details"><div class="top"><div class="title">'+e.get("name")+'</div></div><div class="bottom seamless">'+(t.statusLabel?'<div class="status-label">'+t.statusLabel+"</div>":"")+'<button class="button light-grey select-button">Select <span class="icon i-chevron-right"></span></button></div></footer></div>')},toggleInlinePreview:function(e){var t="preview"===e.attr("data-state");if(this.stopAllDeckPreviews(),!t){var n=e.attr("data-preview-url")+"/fullscreen?showNotes=false&autoSlide=0&autoPlayMedia=false&fragments=false&postMessage=true&postMessageEvents=true";e.attr("data-state","preview"),e.find(".deck-thumb").append(['<div class="deck-preview">','<div class="deck-preloader">','<div class="spinner centered" data-spinner-color="#333"></div>',"</div>",'<iframe src="'+n+'"></iframe>',"</div>"].join(""));var i=e.find(".deck-preloader"),s=e.find(".deck-preview iframe");SL.util.html.generateSpinners(),s.on("load",function(){i.remove()}),s.on("error",function(){i.remove()})}},openPreviewPopup:function(e){this.stopAllDeckPreviews();var t=e.attr("data-template-preview-url")+"/fullscreen?showNotes=false&autoPlayMedia=false&fragments=false&postMessage=true&postMessageEvents=true&autoSlide=3500&loop=true",n=e.attr("data-id"),i=e.find(".title").text();SL.popup.openOne(SL.components.popup.PreviewTemplate,{title:i,deckID:n,deckURL:t})},stopAllDeckPreviews:function(){$('.sl-deck-thumbnail[data-state="preview"]').removeAttr("data-state"),$(".sl-deck-thumbnail .deck-preview iframe").off("load error"),$(".sl-deck-thumbnail .deck-preview, .deck-item .deck-preloader").remove()},onTemplatePreviewClicked:function(e){this.openPreviewPopup($(e.target).closest(".sl-deck-thumbnail")),e.preventDefault(),e.stopImmediatePropagation()},onPreviewableThumbHover:function(e){$(e.target).closest(".sl-deck-thumbnail").append(SL.deckthumbs.PREVIEW_CONTROLS_TEMPLATE).addClass("has-preview-controls")},onPreviewClicked:function(e){this.toggleInlinePreview($(e.target).closest(".sl-deck-thumbnail")),e.preventDefault(),e.stopImmediatePropagation()},onPreviewFullscreenClicked:function(e){if(SL.helpers.Fullscreen.isActive())SL.helpers.Fullscreen.exit();else{var t=$(e.target).closest('.sl-deck-thumbnail[data-state="preview"]');t.length&&(t.toggleClass("has-deck-details",t.find(".deck-details").length>0),SL.helpers.Fullscreen.enter(t.get(0)))}e.preventDefault(),e.stopImmediatePropagation()},onOpenDeckClicked:function(e){var t=$(e.target).closest(".sl-deck-thumbnail"),n=t.find(".deck-preview iframe").get(0),i=t.attr("data-preview-url");n?(window.addEventListener("message",function(e){var t=JSON.parse(e.data);"reveal"===t.namespace&&"callback"===t.eventName&&"getIndices"===t.method&&(window.location=i+"#/"+t.result.h+"/"+t.result.v)}),n.contentWindow.postMessage(JSON.stringify({method:"getIndices"}),"*")):window.location=i}},SL.draganddrop={init:function(){this.listeners=new SL.collections.Collection,this.onDragStart=this.onDragStart.bind(this),this.onDragOver=this.onDragOver.bind(this),this.onDragOut=this.onDragOut.bind(this),this.onDrop=this.onDrop.bind(this),this.isListening=!1,this.isInternalDrag=!1},subscribe:function(e){this.listeners.push(e),this.bind()},unsubscribe:function(e){this.listeners.remove(e),this.listeners.isEmpty()&&this.unbind()},dispatch:function(e,t){var n=this.listeners.last();n&&n[e](t)},bind:function(){!1===this.isListening&&(this.isListening=!0,$(document.documentElement).on("dragstart",this.onDragStart).on("dragover dragenter",this.onDragOver).on("dragleave",this.onDragOut).on("drop",this.onDrop))},unbind:function(){!0===this.isListening&&(this.isListening=!1,$(document.documentElement).off("dragstart",this.onDragStart).off("dragover dragenter",this.onDragOver).off("dragleave",this.onDragOut).off("drop",this.onDrop))},onDragStart:function(e){e.preventDefault(),this.isInternalDrag=!0},onDragOver:function(e){
this.isInternalDrag||(e.preventDefault(),this.dispatch("onDragOver",e))},onDragOut:function(e){this.isInternalDrag||(e.preventDefault(),this.dispatch("onDragOut",e))},onDrop:function(e){if(!this.isInternalDrag)return e.stopPropagation(),e.preventDefault(),this.isInternalDrag=!1,this.dispatch("onDrop",e),!1}},SL.endpoints={SEARCH:"/api/v1/search.json",SEARCH_TEAM:"/api/v1/team/search.json",SEARCH_MEDIA:"/api/v1/media/search.json",DECK_LIST:function(){return"/api/v1/decks.json"},GET_DECK:function(e){return"/api/v1/decks/"+e+".json"},CREATE_DECK:function(){return"/api/v1/decks.json"},UPDATE_DECK:function(e){return"/api/v1/decks/"+e+".json"},PUBLISH_DECK:function(e){return"/api/v1/decks/"+e+"/publish.json"},MAKE_DECK_COLLABORATIVE:function(e){return"/api/v1/decks/"+e+"/make_collaborative.json"},GET_DECK_JSON:function(e,t){return"/"+e+"/"+t+".json"},GET_DECK_DATA:function(e){return"/api/v1/decks/"+e+"/data.json"},GET_DECK_UPDATED_AT:function(e){return"/api/v1/decks/"+e+"/updated_at.json"},GET_DECKS_HTML:function(e){return"/"+e+"/decks.html"},GET_DECKS_TRASHED_HTML:function(e){return"/"+e+"/decks_trashed.html"},GET_DECKS_SHARED_WITH_ME_HTML:function(e){return"/"+e+"/decks_shared_with_me.html"},GET_DECK_LIMIT_REACHED_HTML:function(e){return"/"+e+"/deck_limit_reached.html"},TRASH_DECK:function(e){return"/api/v1/decks/"+e+"/trash.json"},RECOVER_DECK:function(e){return"/api/v1/decks/"+e+"/recover.json"},DESTROY_DECK:function(e){return"/api/v1/decks/"+e+".json"},GET_DECK_VERSIONS:function(e){return"/api/v1/decks/"+e+"/revisions.json"},PREVIEW_DECK_VERSION:function(e,t,n){return"/"+e+"/"+t+"/preview?revision="+n},RESTORE_DECK_VERSION:function(e,t){return"/api/v1/decks/"+e+"/revisions/"+t+"/restore.json"},EXPORT_DECK:function(e,t){return"/"+e+"/"+t+"/export"},THUMBNAIL_DECK:function(e){return"/api/v1/decks/"+e+"/thumbnails.json"},FORK_DECK:function(e){return"/api/v1/decks/"+e+"/fork.json"},FORK_TEMPLATE:function(e){return"/api/v1/decks/"+e+"/fork_template.json"},SHARE_DECK_VIA_EMAIL:function(e){return"/api/v1/decks/"+e+"/deck_shares.json"},SMS_DECK:function(e){return"/api/v1/decks/"+e+"/sms.json"},DECK_STREAM_GET:function(e,t){return"/api/v1/decks/"+e+"/stream.json?deck_token="+t},DECK_STREAM:function(e){return"/api/v1/decks/"+e+"/stream.json"},DECK_STREAM_ADD_SLIDE_DATUM:function(e){return"/api/v1/decks/"+e+"/stream/add_slide_datum.json"},DECK_STREAM_CLEAR_SLIDE_DATA:function(e){return"/api/v1/decks/"+e+"/stream/clear_slide_data.json"},KUDO_DECK:function(e){return"/api/v1/decks/"+e+"/kudos/kudo.json"},UNKUDO_DECK:function(e){return"/api/v1/decks/"+e+"/kudos/unkudo.json"},EXPORT_START:function(e){return"/api/v1/decks/"+e+"/exports.json"},EXPORT_LIST:function(e){return"/api/v1/decks/"+e+"/exports.json"},EXPORT_STATUS:function(e,t){return"/api/v1/decks/"+e+"/exports/"+t+".json"},FILE_IMPORT_NEW:"/api/v1/imports.json",FILE_IMPORT_UPLOADED:function(e){return"/api/v1/imports/"+e+".json"},DROPBOX_CONNECT:function(){return window.location.protocol+"//"+SL.config.APP_HOST+"/settings/dropbox/authorize"},DROPBOX_DISCONNECT:function(){return"https://www.dropbox.com/account/connected_apps"},DROPBOX_SYNC_DECK:function(e){return"/api/v1/decks/"+e+"/export.json"},GET_CURRENT_TEAM:"/api/v1/team.json",UPDATE_TEAM:"/api/v1/team.json",LOOKUP_TEAM:"/api/v1/team/lookup.json",REMOVE_TEAM_LOGO:"/api/v1/team/remove_logo.json",TEAM_MEMBER_SEARCH:"/api/v1/team/users/search.json",TEAM_DECKS_LIST:"/api/v1/team/decks.json",TEAM_MEMBERS_LIST:"/api/v1/team/users.json",TEAM_MEMBER_CREATE:"/api/v1/team/users.json",TEAM_MEMBER_UPDATE:function(e){return"/api/v1/team/users/"+e+".json"},TEAM_MEMBER_DELETE:function(e){return"/api/v1/team/users/"+e+".json"},TEAM_MEMBER_REACTIVATE:function(e){return"/api/v1/team/users/"+e+"/reactivate.json"},TEAM_MEMBER_DEACTIVATE:function(e){return"/api/v1/team/users/"+e+"/deactivate.json"},TEAM_MEMBER_ABSORB_DECKS:function(e){return"/api/v1/team/users/"+e+"/absorb_decks.json"},TEAM_INVITATIONS_LIST:"/api/v1/team/invitations.json",TEAM_INVITATIONS_CREATE:"/api/v1/team/invitations.json",TEAM_INVITATIONS_DELETE:function(e){return"/api/v1/team/invitations/"+e+".json"},TEAM_INVITATIONS_RESEND:function(e){return"/api/v1/team/invitations/"+e+"/resend.json"},THEMES_LIST:"/api/v1/themes.json",THEMES_CREATE:"/api/v1/themes.json",THEMES_READ:function(e){return"/api/v1/themes/"+e+".json"},THEMES_UPDATE:function(e){return"/api/v1/themes/"+e+".json"},THEMES_DELETE:function(e){return"/api/v1/themes/"+e+".json"},DECK_THEME:function(e){return"/api/v1/decks/"+e+"/theme.json"},THEME_ADD_SLIDE_TEMPLATE:function(e){return"/api/v1/themes/"+e+"/add_slide_template.json"},THEME_REMOVE_SLIDE_TEMPLATE:function(e){return"/api/v1/themes/"+e+"/remove_slide_template.json"},ACCESS_TOKENS_LIST:function(e){return"/api/v1/decks/"+e+"/access_tokens.json"},ACCESS_TOKENS_CREATE:function(e){return"/api/v1/decks/"+e+"/access_tokens.json"},ACCESS_TOKENS_UPDATE:function(e,t){return"/api/v1/decks/"+e+"/access_tokens/"+t+".json"},ACCESS_TOKENS_DELETE:function(e,t){return"/api/v1/decks/"+e+"/access_tokens/"+t+".json"},ACCESS_TOKENS_PASSWORD_AUTH:function(e){return"/access_tokens/"+e},SLIDE_TEMPLATES_LIST:"/api/v1/slide_templates.json",SLIDE_TEMPLATES_CREATE:"/api/v1/slide_templates.json",SLIDE_TEMPLATES_UPDATE:function(e){return"/api/v1/slide_templates/"+e+".json"},SLIDE_TEMPLATES_DELETE:function(e){return"/api/v1/slide_templates/"+e+".json"},TEAM_SLIDE_TEMPLATES_LIST:"/api/v1/team/slide_templates.json",TEAM_SLIDE_TEMPLATES_CREATE:"/api/v1/team/slide_templates.json",TEAM_SLIDE_TEMPLATES_UPDATE:function(e){return"/api/v1/team/slide_templates/"+e+".json"},TEAM_SLIDE_TEMPLATES_DELETE:function(e){return"/api/v1/team/slide_templates/"+e+".json"},DECK_TEMPLATES_LIST:function(){return"/api/v1/deck_templates.json"},GET_USER:function(e){return"/api/v1/users/"+e+".json"},LOOKUP_USER:"/api/v1/users/lookup.json",SERVICES_USER:"/api/v1/users/services.json",REMOVE_USER_AVATAR:"/api/v1/users/remove_avatar.json",UPDATE_USER:"/users.json",GET_USER_SETTINGS:"/api/v1/user_settings.json",UPDATE_USER_SETTINGS:"/api/v1/user_settings.json",CONFIRM_USER:"/api/v1/users/confirm.json",SEND_CONFIRMATION_EMAIL:"/api/v1/users/send_confirmation_email.json",SUBSCRIPTIONS:"/subscriptions",ACCOUNT_DETAILS:"/account/details.json",SUBSCRIPTION_DETAILS:"/account/subscription.json",SUBSCRIPTIONS_PRINT_RECEIPT:function(e){return"/account/receipts/"+e},SUBSCRIPTIONS_PRINT_INVOICE:function(e){return"/account/invoices/"+e},SUBSCRIPTIONS_REACTIVATE:"/subscriptions/reactivate",TEAMS_CREATE:"/teams.json",TEAMS_REACTIVATE:"/subscriptions/reactivate.json",CHECK_STATUS:"/api/v1/status.json",CHECK_URL:"/api/v1/urls",MEDIA_LIST:"/api/v1/media.json",MEDIA_HIDDEN_LIST:"/api/v1/media/hidden.json",MEDIA_CREATE:"/api/v1/media.json",MEDIA_READ:function(e){return"/api/v1/media/"+e+".json"},MEDIA_UPDATE:function(e){return"/api/v1/media/"+e+".json"},MEDIA_DELETE:function(e){return"/api/v1/media/"+e+".json"},MEDIA_USAGE:"/api/v1/media/usage.json",TAG_LIST:function(e){return"/api/v1/tags.json?tag_type="+e},TAG_CREATE:"/api/v1/tags.json",TAG_UPDATE:function(e){return"/api/v1/tags/"+e+".json"},TAG_DELETE:function(e){return"/api/v1/tags/"+e+".json"},TAG_ADD_MEDIA:function(e){return"/api/v1/tags/"+e+"/add_media.json"},TAG_REMOVE_MEDIA:function(e){return"/api/v1/tags/"+e+"/remove_media.json"},TAG_ADD_DECK:function(e){return"/api/v1/tags/"+e+"/add_decks.json"},TAG_REMOVE_DECK:function(e){return"/api/v1/tags/"+e+"/remove_decks.json"},TEAM_MEDIA_LIST:"/api/v1/team/media.json",TEAM_MEDIA_HIDDEN_LIST:"/api/v1/team/media/hidden.json",TEAM_MEDIA_CREATE:"/api/v1/team/media.json",TEAM_MEDIA_READ:function(e){return"/api/v1/team/media/"+e+".json"},TEAM_MEDIA_UPDATE:function(e){return"/api/v1/team/media/"+e+".json"},TEAM_MEDIA_DELETE:function(e){return"/api/v1/team/media/"+e+".json"},TEAM_MEDIA_TAG_LIST:"/api/v1/team/tags.json",TEAM_MEDIA_TAG_CREATE:"/api/v1/team/tags.json",TEAM_MEDIA_TAG_UPDATE:function(e){return"/api/v1/team/tags/"+e+".json"},TEAM_MEDIA_TAG_DELETE:function(e){return"/api/v1/team/tags/"+e+".json"},TEAM_MEDIA_TAG_ADD_MEDIA:function(e){return"/api/v1/team/tags/"+e+"/add_media.json"},TEAM_MEDIA_TAG_REMOVE_MEDIA:function(e){return"/api/v1/team/tags/"+e+"/remove_media.json"},DECKUSER_LIST:function(e){return"/api/v1/decks/"+e+"/users.json"},DECKUSER_READ:function(e,t){return"/api/v1/decks/"+e+"/users/"+t+".json"},DECKUSER_CREATE:function(e){return"/api/v1/decks/"+e+"/users/invite.json"},DECKUSER_UPDATE:function(e,t){return"/api/v1/decks/"+e+"/users/"+t+".json"},DECKUSER_DELETE:function(e,t){return"/api/v1/decks/"+e+"/users/"+t+".json"},DECKUSER_BECOME_EDITOR:function(e,t){return"/api/v1/decks/"+e+"/users/"+t+"/become_editor.json"},DECKUSER_UPDATE_LAST_SEEN_AT:function(e){return"/api/v1/decks/"+e+"/users/update_last_seen_at.json"},DECKUSER_LEAVE_DECK:function(e){return"/api/v1/decks/"+e+"/users/leave_deck.json"},COMMENTS_LIST:function(e,t){return"/api/v1/decks/"+e+"/comments.json"+(t?"?slide_hash="+t:"")},COMMENTS_CREATE:function(e){return"/api/v1/decks/"+e+"/comments.json"},COMMENTS_UPDATE:function(e,t){return"/api/v1/decks/"+e+"/comments/"+t+".json"},COMMENTS_DELETE:function(e,t){return"/api/v1/decks/"+e+"/comments/"+t+".json"}},SL.fonts={INIT_TIMEOUT:5e3,FONTS_URL:SLConfig.fonts_url||"https://static.slid.es/fonts/v3/",FAMILIES:{montserrat:{id:"montserrat",name:"Montserrat",path:"montserrat/montserrat.css"},opensans:{id:"opensans",name:"Open Sans",path:"opensans/opensans.css"},lato:{id:"lato",name:"Lato",path:"lato/lato.css"},asul:{id:"asul",name:"Asul",path:"asul/asul.css"},josefinsans:{id:"josefinsans",name:"Josefin Sans",path:"josefinsans/josefinsans.css"},league:{id:"league",name:"League Gothic",path:"league/league_gothic.css"},merriweathersans:{id:"merriweathersans",name:"Merriweather Sans",path:"merriweathersans/merriweathersans.css"},overpass:{id:"overpass",name:"Overpass",path:"overpass/overpass.css"},overpass2:{id:"overpass2",name:"Overpass 2",path:"overpass2/overpass2.css"},quicksand:{id:"quicksand",name:"Quicksand",path:"quicksand/quicksand.css"},cabinsketch:{id:"cabinsketch",name:"Cabin Sketch",path:"cabinsketch/cabinsketch.css"},newscycle:{id:"newscycle",name:"News Cycle",path:"newscycle/newscycle.css"},oxygen:{id:"oxygen",name:"Oxygen",path:"oxygen/oxygen.css"}},PACKAGES:{asul:["asul"],helvetica:[],josefine:["josefinsans","lato"],league:["league","lato"],merriweather:["merriweathersans","oxygen"],news:["newscycle","lato"],montserrat:["montserrat","opensans"],opensans:["opensans"],overpass:["overpass"],overpass2:["overpass2"],palatino:[],quicksand:["quicksand","opensans"],sketch:["cabinsketch","oxygen"]},init:function(){if(this._isReady=!1,this.ready=new signals.Signal,this.loaded=new signals.Signal,this.fontactive=new signals.Signal,this.fontinactive=new signals.Signal,this.debugMode=!!/debug/gi.test(location.search),[].slice.call(document.querySelectorAll("link[data-application-font]")).forEach(function(e){var t=e.getAttribute("data-application-font");SL.fonts.FAMILIES[t]&&(SL.fonts.FAMILIES[t].loaded=!0)}),SLConfig&&SLConfig.deck){var e=SL.config?SL.config.DEFAULT_THEME_FONT:"montserrat";this.loadDeckFont([SLConfig.deck.theme_font||e],{active:this.onInitialFontsActive.bind(this),inactive:this.onInitialFontsInactive.bind(this)})?this.initTimeout=setTimeout(function(){this.debugMode&&console.log("SL.fonts","timed out"),this.finishLoading()}.bind(this),SL.fonts.INIT_TIMEOUT):this.finishLoading()}else this.finishLoading()},load:function(e,t){var n={classes:!1,fontactive:this.onFontActive.bind(this),fontinactive:this.onFontInactive.bind(this),custom:{families:[],urls:[]}};for(var i in t)n[i]=t[i];SLConfig&&SLConfig.deck&&(SLConfig.deck.font_typekit&&(n.typekit={id:SLConfig.deck.font_typekit}),SLConfig.deck.font_google&&(n.google=n.google||{families:[]},n.google.families=n.google.families.concat(SL.fonts.parseGoogleFontFamilies(SLConfig.deck.font_google)))),SLConfig&&SLConfig.theme&&(SLConfig.theme.font_typekit&&(n.typekit={id:SLConfig.theme.font_typekit}),SLConfig.theme.font_google&&(n.google=n.google||{families:[]},n.google.families=n.google.families.concat(SL.fonts.parseGoogleFontFamilies(SLConfig.theme.font_google))));var s=[];return n.google&&n.google.families&&(s=n.google.families.map(function(e){return e.split(":")[0]})),e.forEach(function(e){var t=SL.fonts.FAMILIES[e];t?t.loaded||-1!==s.indexOf(t.name)?"function"==typeof n.fontactive&&n.fontactive(t.name):(t.loaded=!0,n.custom.families.push(t.name),n.custom.urls.push(SL.fonts.FONTS_URL+t.path)):console.warn('Could not find font family with id "'+e+'"')}),this.debugMode&&console.log("SL.fonts.load",n.custom.families),!!(n.custom.families.length||n.typekit||n.google)&&(WebFont.load(n),!0)},loadAll:function(e){var t=[];for(var n in SL.fonts.FAMILIES)t.push(n);this.load(t,e)},loadDeckFont:function(e,t){var n=SL.fonts.PACKAGES[e];return n?SL.fonts.load(n,t):SL.fonts.load([],t)},loadGoogleFont:function(e){WebFont.load({google:{families:SL.fonts.parseGoogleFontFamilies(e)}})},loadTypekitFont:function(e){WebFont.load({typekit:{id:e}})},parseGoogleFontFamilies:function(e){return e=(e=(e=(e||"").trim().split(", ")).map(function(e){return e.trim().replace(/(^,)|(,$)/gi,"")})).filter(function(e){return"string"==typeof e&&e.length>0})},unload:function(e){e.forEach(function(e){var t=SL.fonts.FAMILIES[e];t&&(t.loaded=!1,[].slice.call(document.querySelectorAll('link[href="'+SL.fonts.FONTS_URL+t.path+'"]')).forEach(function(e){e.parentNode.removeChild(e)}))})},finishLoading:function(){clearTimeout(this.initTimeout),document.documentElement.classList.add("fonts-are-ready"),!1===this._isReady&&(this._isReady=!0,this.ready.dispatch()),this.loaded.dispatch()},getPackageIDs:function(){return Object.keys(SL.fonts.PACKAGES)},getFamilyByName:function(e){for(var t in SL.fonts.FAMILIES){var n=SL.fonts.FAMILIES[t];if(e===n.name)return n}},isPackageLoaded:function(e){var t=SL.fonts.PACKAGES[e];return!t||(0===t.length||t.every(function(e){var t=SL.fonts.FAMILIES[e];return t.active||t.inactive}))},isReady:function(){return this._isReady},onFontActive:function(e){var t=SL.fonts.getFamilyByName(e);t&&(t.active=!0),this.fontactive.dispatch(t)},onFontInactive:function(e){var t=SL.fonts.getFamilyByName(e);t&&(t.inactive=!0),this.fontinactive.dispatch(t)},onInitialFontsActive:function(){this.finishLoading()},onInitialFontsInactive:function(){this.finishLoading()}},SL.form={setupGoogleAnalyticsDeprecationWarning:function(){let e=document.querySelector('[data-validate="google_analytics_id"]');if(e){let t=e.querySelector("input");if(t){let e=document.createElement("div");e.innerHTML='Universal Analytics IDs (starting with "UA-") are deprecated and will no longer work after July 1, 2023. <a href="https://help.slides.com/knowledgebase/articles/441401">Learn how to migrate to Google Analytics 4</a>.',e.className="deprecation-warning";let n=()=>{/\bUA-[a-zA-Z0-9-]{1,}\b/gi.test(t.value)?t.parentNode.insertBefore(e,t):e.parentNode&&e.parentNode.removeChild(e)};t.addEventListener("input",n),n()}}}},SL.keyboard={init:function(){this.keyupConsumers=new SL.collections.Collection,this.keydownConsumers=new SL.collections.Collection,$(document).on("keydown",this.onDocumentKeyDown.bind(this)),$(document).on("keyup",this.onDocumentKeyUp.bind(this))},keydown:function(e){this.keydownConsumers.push(e)},keyup:function(e){this.keyupConsumers.push(e)},release:function(e){this.keydownConsumers.remove(e),this.keyupConsumers.remove(e)},onDocumentKeyDown:function(e){for(var t,n=this.keydownConsumers.size(),i=!1;t=this.keydownConsumers.at(--n);)if(!t(e)){i=!0;break}if(i)return e.preventDefault(),e.stopImmediatePropagation(),!1},onDocumentKeyUp:function(e){for(var t,n=this.keyupConsumers.size(),i=!1;t=this.keyupConsumers.at(--n);)if(!t(e)){i=!0;break}if(i)return e.preventDefault(),e.stopImmediatePropagation(),!1},getShortcut:function(e){this.globalShortcuts||(this.globalShortcuts={PRESENT_TOGGLE_CONTROLS:{label:"Back to menu",shortcut:SL.util.getKeyboardShortcutName("P",{meta:!0})},PRESENT_TOGGLE_POINTER:{label:"Show cursor to live viewers",shortcut:SL.util.getKeyboardShortcutName("C",{meta:!1})},PRESENT_TOGGLE_ANNOTATION:{label:"Live annotation",shortcut:SL.util.getKeyboardShortcutName("A",{meta:!1})},PRESENT_CLEAR_ALL_ANNOTATIONS:{label:"Clear all annotations",shortcut:SL.util.getKeyboardShortcutName("&#9003",{meta:!1})},PRESENT_CLEAR_CURRENT_ANNOTATION:{label:"Clear current annotation",shortcut:SL.util.getKeyboardShortcutName("&#9003",{meta:!0})}});var t=this.globalShortcuts[e];return"string"!=typeof t.tooltip&&(t.tooltip=t.label+' <span class="keyboard-shortcut">'+t.shortcut+"</span>"),t},getEditorShortcut:function(e){this.editorShortcuts||(this.editorShortcuts={EDITOR_PREVIEW:{label:"Preview",shortcut:SL.util.getKeyboardShortcutName("F",{meta:!0})},EDITOR_PRESENT:{label:"Present",shortcut:SL.util.getKeyboardShortcutName("E",{meta:!0})},EDITOR_UNDO:{label:"Undo",shortcut:SL.util.getKeyboardShortcutName("Z",{meta:!0})},EDITOR_DRAW:{label:"Freehand drawing",shortcut:SL.util.getKeyboardShortcutName("P",{meta:!1})},COPY:{label:"Copy",shortcut:SL.util.getKeyboardShortcutName("C",{meta:!0})},PASTE:{label:"Paste",shortcut:SL.util.getKeyboardShortcutName("L",{meta:!0,shift:!0})},DELETE:{label:"Delete",shortcut:SL.util.getKeyboardShortcutName("&#9003")},DUPLICATE:{label:"Duplicate",shortcut:SL.util.getKeyboardShortcutName("D",{meta:!0})},LOCK:{label:"Lock",shortcut:SL.util.getKeyboardShortcutName("L",{meta:!0,shift:!0})},GROUP:{label:"Group",shortcut:SL.util.getKeyboardShortcutName("G",{meta:!0})},UNGROUP:{label:"Ungroup",shortcut:SL.util.getKeyboardShortcutName("G",{meta:!0,shift:!0})},BRING_TO_FRONT:{label:"Bring to front",shortcut:SL.util.getKeyboardShortcutName("]",{meta:!0})},SEND_TO_BACK:{label:"Send to back",shortcut:SL.util.getKeyboardShortcutName("[",{meta:!0})},MOVE_CENTER:{label:"Move to center",shortcut:SL.util.getKeyboardShortcutName("C",{alt:!0})},MOVE_TOP:{label:"Move to top edge",shortcut:SL.util.getKeyboardShortcutName("&#8593",{alt:!0})},MOVE_RIGHT:{label:"Move to right edge",shortcut:SL.util.getKeyboardShortcutName("&#8594",{alt:!0})},MOVE_BOTTOM:{label:"Move to bottom edge",shortcut:SL.util.getKeyboardShortcutName("&#8595",{alt:!0})},MOVE_LEFT:{label:"Move to left edge",shortcut:SL.util.getKeyboardShortcutName("&#8592",{alt:!0})},ARRANGE_SLIDES:{label:"Arrange slides",shortcut:SL.util.getKeyboardShortcutName("ESC")},REMOVE_SLIDE:{label:"Remove slide",shortcut:SL.util.getKeyboardShortcutName("&#9003",{meta:!0})},SHOW_SLIDE:{label:"Show slide",shortcut:SL.util.getKeyboardShortcutName("H",{meta:!0})},HIDE_SLIDE:{label:"Hide slide",shortcut:SL.util.getKeyboardShortcutName("H",{meta:!0})},SLIDE_SETTINGS:{label:"Slide settings",shortcut:SL.util.getKeyboardShortcutName("S",{shift:!0,alt:!0})},SLIDE_EDIT_HTML:{label:"Edit HTML",shortcut:SL.util.getKeyboardShortcutName("H",{shift:!0,alt:!0})},FRAGMENT_MODE:{label:"Create fragments",shortcut:SL.util.getKeyboardShortcutName("F",{shift:!0,alt:!0})},SPEAKER_NOTES:{label:"Speaker Notes",shortcut:SL.util.getKeyboardShortcutName("N",{shift:!0,alt:!0})},AUTO_ANIMATE:{label:"Auto-Animate",shortcut:SL.util.getKeyboardShortcutName("A",{shift:!0,alt:!0})}});var t=this.editorShortcuts[e];return"string"!=typeof t.tooltip&&(t.tooltip=t.label+' <span class="keyboard-shortcut">'+t.shortcut+"</span>"),t}},SL.locale={GENERIC_ERROR:["Oops, something went wrong","We ran into an unexpected error","Something's wong, can you try that again?"],WARN_UNSAVED_CHANGES:"You have unsaved changes, save first?",CLOSE:"Close",PREVIOUS:"Previous",NEXT:"Next",DECK_SAVE_SUCCESS:"Saved successfully",DECK_SAVE_ERROR:"Failed to save",NEW_SLIDE_TITLE:"Title",LEAVE_UNSAVED_DECK:"You will lose your unsaved changes.",LEAVE_UNSAVED_THEME:"You will lose your unsaved changes.",DOWNGRADE_TO_FREE_CONFIRM:"You'll remain upgraded for the time you have already paid for.",DOWNGRADE_TO_FREE_SUCCESS:"Subscription canceled",DECK_RESTORE_CONFIRM:"Are you sure you want to revert the deck to this version from {#time}?",SLIDE_RESTORE_CONFIRM:"Are you sure you want to roll back to this version?",SLIDE_DUPLICATED:"Duplicated slide",SLIDE_VISIBILITY_ON:"Slide is now visible",SLIDE_VISIBILITY_OFF:"Slide is now hidden",DECK_TRASH_CONFIRM:'Are you sure you want to delete "{#title}"?',DECK_TRASH_CONFIRM_MULTIPLE:"Are you sure you want to delete these decks?",DECK_TRASH_SUCCESS:"Moved to trash",DECK_TRASH_ERROR:"Failed to delete",DECK_LEAVE_CONFIRM:"Are you sure? You will no longer be able to access or collaborate on this deck.",DECK_LEAVE_SUCCESS:"You left the deck",DECK_DESTROY_CONFIRM:'Are you sure you want to permanently delete "{#title}"?',DECK_DESTROY_SUCCESS:"Deck deleted",DECK_DESTROY_ERROR:"Failed to delete",DECK_RECOVER_CONFIRM:'Are you sure you want to recover "{#title}"?',DECK_RECOVER_SUCCESS:"Deck recovered",DECK_RECOVER_ERROR:"Failed to recover",DECK_VISIBILITY_CHANGE_SELF:'<div><span class="icon i-lock-stroke"></span></div><h3>Private</h3><p>Only visible to you</p>',DECK_VISIBILITY_CHANGE_TEAM:'<div><span class="icon i-users"></span></div><h3>Internal</h3><p>Visible to your team</p>',DECK_VISIBILITY_CHANGE_ALL:'<div><span class="icon i-globe"></span></div><h3>Public</h3><p>Visible to the world</p>',DECK_VISIBILITY_SHARE_LINK:'<div><span class="icon i-link"></span></div><h3>Create link</h3><p>For external sharing</p>',DECK_VISIBILITY_CHANGED_SELF:"Your deck is now private",DECK_VISIBILITY_CHANGED_TEAM:"Your deck is now internal",DECK_VISIBILITY_CHANGED_ALL:"Your deck is now public",DECK_VISIBILITY_CHANGED_ERROR:"Failed to change visibility",DECK_EDIT_INVALID_TITLE:"Please enter a valid title",DECK_EDIT_INVALID_SLUG:"Please enter a valid URL",DECK_DELETE_SLIDE_CONFIRM:"Are you sure you want to remove this slide?",DECK_IMPORT_HTML_CONFIRM:"All existing content will be replaced, continue?",EXPORT_PDF_BUTTON:"Download PDF",EXPORT_PDF_BUTTON_WORKING:"Exporting...",EXPORT_PDF_ERROR:"An error occured while exporting your PDF.",EXPORT_PPT_BUTTON:"Download PPTX",EXPORT_PPT_BUTTON_WORKING:"Exporting...",EXPORT_PPT_ERROR:"An error occured while exporting to PowerPoint.",EXPORT_ZIP_BUTTON:"Download ZIP",EXPORT_ZIP_BUTTON_WORKING:"Exporting...",EXPORT_ZIP_ERROR:"An error occured while exporting your ZIP.",FORM_ERROR_REQUIRED:"Required",FORM_ERROR_USERNAME_TAKEN:["That one's already taken :(","Sorry, that's taken too"],FORM_ERROR_ORGANIZATION_SLUG_TAKEN:["That one's already taken :(","Sorry, that's taken too"],BILLING_DETAILS_ERROR:"An error occured while fetching your billing details, please try again.",BILLING_DETAILS_NOHISTORY:"You haven't made any payments yet.",THEME_CREATE:"New theme",THEME_CREATE_ERROR:"Failed to create theme",THEME_SAVE_SUCCESS:"Theme saved",THEME_SAVE_ERROR:"Failed to save theme",THEME_REMOVE_CONFIRM:"Are you sure you want to delete this theme?",THEME_REMOVE_SUCCESS:"Theme removed successfully",THEME_REMOVE_ERROR:"Failed to remove theme",THEME_LIST_LOAD_ERROR:"Failed to load themes",THEME_LIST_EMPTY:"Once you have created one or more themes they'll be listed here. Click the New Theme button to get started with your first theme.",THEME_DEFAULT_SAVE_SUCCESS:"Default theme was changed",THEME_DEFAULT_SAVE_ERROR:"Failed to change default theme",THEME_DELETE_TOOLTIP:"Delete",THEME_EDIT_TOOLTIP:"Edit",THEME_MAKE_DEFAULT_TOOLTIP:"Make this the default theme",THEME_IS_DEFAULT_TOOLTIP:"This is the default theme",THEME_SNIPPET_DELETE_CONFIRM:"Are you sure you want to delete this snippet?",TEMPLATE_LOAD_ERROR:"Failed to load slide templates",TEMPLATE_CREATE_SUCCESS:"Template saved!",TEMPLATE_CREATE_ERROR:"Failed to save template",TEMPLATE_DELETE_CONFIRM:"Are you sure you want to delete this template?",TEMPLATE_SAVE_SLIDE_LABEL:"Save current slide",TEMPLATE_PERSONAL_TEMPLATES_LABEL:"My Saved Slides",TEMPLATE_PERSONAL_DECKS_LABEL:"My Decks",TEMPLATE_TEAM_TEMPLATES_LABEL:"Team Slides",TEMPLATE_TEAM_DECKS_LABEL:"Internal Decks",SEARCH_PAGINATION_PAGE:"Page",SEARCH_NO_RESULTS_FOR:'No results for "{#term}"',SEARCH_SERVER_ERROR:"Failed to fetch search results",SEARCH_NO_TERM_ERROR:"Please enter a search term",TAG_DELETE_CONFIRM:"Are you sure you want to delete this tag?",TAG_DELETE_SUCCESS:"Tag deleted",TAG_DELETE_ERROR:"Failed to delete",TAG_DEFAULT_CONFIRM:"This tag will be selected by default when visiting your profile page. Are you sure you want to continue?",COLLABORATOR_REMOVE_CONFIRM:"Are you sure you want to remove this user?",ARRANGE_CANT_DELETE_ALL_SLIDES:"You can't delete all slides in the deck.",BLOCKED_BY_X_FRAME_OPTIONS:"Embedding of this URL is prevented by the site owner (X-Frame-Options).",FRAGMENT_TOOLTIP_STYLE:"Fragment animation style",FRAGMENT_TOOLTIP_INDEX:"The order in which the fragment will appear, relative to other fragments.",FRAGMENT_TOOLTIP_REMOVE:"Remove this fragment effect",SET_NATURAL_IMAGE_SIZE:"Set original image size ({#width}x{#height})",NOTES_PUBLIC:'Your notes are <a href="http://help.slides.com/knowledgebase/articles/729753" target="_blank">publicly visible</a>.',NOTES_PRIVATE:'Your notes are private, learn how to <a href="http://help.slides.com/knowledgebase/articles/729753" target="_blank">share them</a>.',OPEN_DECK_IN:"Open deck...",counter:{},get:function(e,t){var n=SL.locale[e];if("object"==typeof n&&n.length&&("number"==typeof this.counter[e]?this.counter[e]=(this.counter[e]+1)%n.length:this.counter[e]=0,n=n[this.counter[e]]),"object"==typeof t)for(var i in t)n=n.replace("{#"+i+"}",t[i]);return"string"==typeof n?n:""}},SL.pointer={DIRECTION_TO_RESIZE_CURSOR:{n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nw-resize",ne:"ne-resize",se:"se-resize",sw:"sw-resize"},down:!1,downTimeout:-1,init:function(){$(document).on("mousedown",this.onMouseDown.bind(this)),$(document).on("mouseleave",this.onMouseLeave.bind(this)),$(document).on("mouseup",this.onMouseUp.bind(this))},isDown:function(){return this.down},setActiveCursor:function(e){$("html").attr("data-active-cursor",e)},clearActiveCursor:function(){$("html").removeAttr("data-active-cursor")},onMouseDown:function(){clearTimeout(this.downTimeout),this.down=!0,this.downTimeout=setTimeout(function(){this.down=!1}.bind(this),3e4)},onMouseLeave:function(){clearTimeout(this.downTimeout),this.down=!1},onMouseUp:function(){clearTimeout(this.downTimeout),this.down=!1}},SL.promotions={STORAGE_KEY:"slides-last-promotion-id",MESSAGE_ID:4,MESSAGE_CONDITION:function(){return SL.current_user&&SL.current_user.isFree()&&(!$("html").is(".decks")||$("html").is(".decks.edit"))},MESSAGE_EXPIRY:"Jan 28 2020 23:00:00 PST",init:function(){this.showMessage()},showMessage:function(){this.hasMessage()&&!this.hasExpired()&&SL.util.user.isLoggedIn()&&Modernizr.localstorage&&(("function"!=typeof this.MESSAGE_CONDITION||this.MESSAGE_CONDITION())&&(parseInt(localStorage.getItem(this.STORAGE_KEY),10)||0)<this.MESSAGE_ID&&SL.notify(this.MESSAGE_TEXT,{optional:!1,buttons:this.MESSAGE_BUTTONS,type:"white-shadow"}).destroyed.add(this.hideMessage.bind(this)))},hideMessage:function(){Modernizr.localstorage&&localStorage.setItem(this.STORAGE_KEY,this.MESSAGE_ID)},hasMessage:function(){return!!this.MESSAGE_TEXT},hasExpired:function(){return!!this.MESSAGE_EXPIRY&&moment().diff(moment(this.MESSAGE_EXPIRY))>0}},SL.routes={PRICING:"/pricing",CHANGELOG:"/changelog",SIGN_IN:"/users/sign_in",SIGN_OUT:"/users/sign_out",NEW_TEAM:"/teams/new",BRAND_KIT:"/about#brand",SECURITY_COOKIES:"/security/cookies",SUBSCRIPTIONS_NEW:"/account/upgrade",SUBSCRIPTIONS_EDIT_CARD:"/account/update_billing",SUBSCRIPTIONS_EDIT_PERIOD:"/account/update_billing_period",USER:function(e){return"/"+e},USER_EDIT:"/users/edit",DECK:function(e,t){return"/"+e+"/"+t},DECK_NEW:function(e){return"/"+e+"/new"},DECK_EDIT:function(e,t){return"/"+e+"/"+t+"/edit"},DECK_REVIEW:function(e,t){return"/"+e+"/"+t+"/review"},DECK_EMBED:function(e,t){return"/"+e+"/"+t+"/embed"},DECK_LIVE:function(e,t){return"/"+e+"/"+t+"/live"},DECK_KIOSK:function(e,t){return"/"+e+"/"+t+"/kiosk"},DECK_FULLSCREEN:function(e,t){return"/"+e+"/"+t+"/fullscreen"},DECK_TAG:function(e,t){return"/"+e+"/decks/"+t},FORK_TEMPLATE:function(e){return"/decks/fork/"+e},THEME_EDITOR:"/themes",BILLING_DETAILS:"/account/billing",TEAM:function(e){return window.location.protocol+"//"+e.get("slug")+"."+SL.config.APP_HOST},TEAM_EDIT:function(e){return SL.routes.TEAM(e)+"/edit"},TEAM_EDIT_MEMBERS:function(e){return SL.routes.TEAM(e)+"/edit_members"},STREAM:function(e){return"/d/"+e+"/live"},STREAM_SPEAKER:function(e,t){return"/d/"+e+"/speaker/"+t},isDeckView:function(){return $("html").hasClass("decks")}},SL.session={enforce:function(){this.enforced||(this.enforced=!0,this.hasLoggedOut=!1,this.loginInterval=setInterval(this.check.bind(this),SL.config.AUTH_STATUS_INTERVAL))},check:function(){$.get(SL.endpoints.CHECK_STATUS).done(function(e){e&&e.user_signed_in?this.onLoggedIn():this.onLoggedOut()}.bind(this))},onLoggedIn:function(){this.hasLoggedOut&&(this.hasLoggedOut=!1,SL.popup.close(SL.components.popup.SessionExpired))},onLoggedOut:function(){this.hasLoggedOut||(this.hasLoggedOut=!0,SL.popup.open(SL.components.popup.SessionExpired))}},SL.settings={STORAGE_KEY:"slides-settings",STORAGE_VERSION:1,EDITOR_AUTO_HIDE:"editorAutoHide",EDITOR_AUTO_SAVE:"editorAutoSave",EDITOR_CSS_WIDTH:"editorCSSWidth",SPEAKER_AUTOPLAY:"speakerAutoplayMedia",SPEAKER_MUTE:"speakerMuteMedia",init:function(){this.settings={version:this.STORAGE_VERSION},this.changed=new signals.Signal,this.restore()},setDefaults:function(){"undefined"==typeof this.settings[this.EDITOR_AUTO_HIDE]&&(this.settings[this.EDITOR_AUTO_HIDE]=!1),"undefined"==typeof this.settings[this.EDITOR_AUTO_SAVE]&&(this.settings[this.EDITOR_AUTO_SAVE]=!0)},setValue:function(e,t){"object"==typeof e?$.extend(this.settings,e):this.settings[e]=t,this.save(),this.changed.dispatch([e])},getValue:function(e){return this.settings[e]},removeValue:function(e){"object"==typeof e&&e.length?e.forEach(function(e){delete this.settings[e]}.bind(this)):delete this.settings[e],this.save(),this.changed.dispatch([e])},restore:function(){if(Modernizr.localstorage&&localStorage.getItem(this.STORAGE_KEY)){var e=JSON.parse(localStorage.getItem(this.STORAGE_KEY));e&&e.version===this.STORAGE_VERSION?(this.settings=e,this.setDefaults(),this.changed.dispatch()):(this.setDefaults(),this.save())}this.setDefaults()},save:function(){Modernizr.localstorage&&localStorage.setItem(this.STORAGE_KEY,JSON.stringify(this.settings))}},SL.util={noop:function(){},getQuery:function(){var e={};return location.search.replace(/[A-Z0-9\-\_]+?=([\w%\-]*)/gi,function(t){var n=t.split("=");e[n[0]]=decodeURIComponent(n[1])}),e},getDebugLevel:function(){return"number"!=typeof this.debugLevel&&(this.debugLevel=parseInt(SL.util.getQuery().debug,10),isNaN(this.debugLevel)&&(this.debugLevel=0)),this.debugLevel},getMetaKeyName:function(){return SL.util.device.isMac()?"&#8984":"CTRL"},getKeyboardShortcutName:function(e,t){t=t||{},this._metaKey=this._metaKey||(SL.util.device.isMac()?"&#8984":"Ctrl+");var n=[];return"string"==typeof e&&e.length>0&&(t.alt&&n.push("&#8997"),t.shift&&n.push("&#8679"),t.meta&&n.push(this._metaKey),t.ctrl&&n.push("&#8963"),t.casesensitive||(e=e.toUpperCase()),n.push(e)),!0===t.span&&(n.unshift('<span class="sl-keyboard-shortcut">'),n.push("</span>")),n.join("")},escapeHTMLEntities:function(e,t){return t=t||{},e=(e=(e=(e=e||"").split("<").join("&lt;")).split(">").join("&gt;")).split('"').join("&quot;")},unescapeHTMLEntities:function(e){return(e||"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&cent;/g,"\xa2").replace(/&pound;/g,"\xa3").replace(/&yen;/g,"\xa5").replace(/&euro;/g,"\u20ac").replace(/&copy;/g,"\xa9").replace(/&reg;/g,"\xae").replace(/&nbsp;/g," ")},toArray:function(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t},parseCSSTransform:function(e){var t={};return(e||"").replace(/\s/g,"").split(")").forEach(function(e){var n=(e=e.trim().split("("))[0],i=e[1];i&&(i=i.split(",").map(function(e){return parseFloat(e.trim()||"0")})),n&&i&&(n=n.trim(),1===i.length?t[n]=i[0]:t[n]=i)}),t},skipCSSTransitions:function(e,t,n){e=e?$(e):$("html"),"function"!=typeof t||n||(n=t);var i=typeof e.get(0);"undefined"!==i&&"number"!==i||console.warn("Bad target for skipCSSTransitions."),e.addClass("no-transition"),setTimeout(function(){e.removeClass("no-transition"),"function"==typeof n&&n()},t||1)},setupReveal:function(e){if("undefined"!=typeof Reveal){var t={controls:!0,progress:!0,hash:!0,fragmentInURL:!0,mouseWheel:!1,pause:!1,hideInactiveCursor:!1,margin:SL.config.DEFAULT_SLIDE_MARGIN,autoSlideStoppable:!0,autoAnimateMatcher:SL.deck.AutoAnimate.matcher,highlight:{escapeHTML:!1},dependencies:[{src:SL.config.ASSET_URLS["reveal-plugins/zoom/zoom.js"],async:!0,callback:function(){Reveal.registerPlugin(RevealZoom)}},{
src:SL.config.ASSET_URLS["reveal-plugins/markdown/markdown.js"],condition:function(){return!!document.querySelector(".reveal [data-markdown]")},callback:function(){Reveal.registerPlugin(RevealMarkdown)}},{src:SL.config.ASSET_URLS["reveal-plugins/highlight/highlight.js"],condition:function(){return!!document.querySelector(".reveal pre code")},callback:function(){Reveal.registerPlugin(RevealHighlight)}}]};SLConfig&&SLConfig.deck&&(t.width=SLConfig.deck.width,t.height=SLConfig.deck.height,t.margin=SLConfig.deck.margin,t.autoSlide=SLConfig.deck.auto_slide_interval||0,t.rollingLinks=SLConfig.deck.rolling_links,t.shuffle=SLConfig.deck.shuffle,t.center=SLConfig.deck.center,t.loop=SLConfig.deck.should_loop,t.rtl=SLConfig.deck.rtl,t.showNotes=SLConfig.deck.share_notes,t.slideNumber=SLConfig.deck.slide_number,t.navigationMode=SLConfig.deck.navigation_mode,t.transition=SLConfig.deck.transition||"default",t.backgroundTransition=SLConfig.deck.background_transition),$.extend(t,e),SLConfig&&SLConfig.deck&&!1===SLConfig.deck.upsizing_enabled&&(t.maxScale=1),SL.deck.util.injectNotes(),SL.deck.util.injectCodeCopyButtons(),Reveal.initialize(t).then(function(){window.STATUS=window.STATUS||{},window.STATUS.REVEAL_IS_READY=!0,$("html").addClass("reveal-is-ready");var e=$(".reveal .controls .navigate-right").css("color"),t=$(".reveal .controls .navigate-right").css("border-left-color");t&&"rgb(0, 0, 0)"!==t&&t!==e&&$(".reveal .controls").css("color",t)}),SL.deck.Controller.init({mode:t.presentationMode});var n=document.querySelector(".reveal .slides");if(e&&e.openLinksInTabs&&this.openLinksInTabs($(n)),!SL.util.user.isLoggedInDeckOwner()&&n.querySelectorAll("section").length<3&&this.preventPhishing(n),e&&e.preventMediaDownloads&&this.preventMediaDownloads(n),e&&e.trackEvents){var i=[];Reveal.addEventListener("slidechanged",function(){var e=Reveal.getProgress();e>=.5&&!i[0]&&(i[0]=!0,SL.analytics.trackDeck("progress_50",null,!0)),e>=1&&!i[1]&&(i[1]=!0,SL.analytics.trackDeck("progress_100",null,!0)),SL.analytics.trackCurrentSlide()})}SL.deck.util.renderMath(n),SL.deck.util.injectTranslationRules()}},setupFloatingAd:function(){var e=$(".reveal-viewport #carbonads").length>0;if(e){var t=function(){$("html").toggleClass("hide-reveal-ad",!Reveal.isFirstSlide())};Reveal.addEventListener("slidechanged",t),Reveal.isReady()?t():Reveal.addEventListener("ready",t),$('<button class="carbon-dismiss white icon i-x" data-tooltip="Hide ad">').on("vclick",function(){$("#carbonads").remove()}).appendTo("#carbonads")}return e},openLinksInTabs:function(e){e&&e.find("a").each(function(){var e=$(this),t=e.attr("href");!0===/^#/gi.test(t)||this.hasAttribute("download")?e.removeAttr("target"):/http|www/gi.test(t)?"_self"!==e.attr("target")&&e.attr("target","_blank"):/^mailto:/gi.test(t)?e.attr("target","_blank"):e.attr("target","_top")})},preventPhishing:function(e){let t;e.querySelectorAll('a:not([href^="#"])').forEach(e=>{e.addEventListener("click",n=>{n.preventDefault(),(t=SL.prompt({title:"Leaving Slides",subtitle:'You are leaving slides.com and going to <a href="'+e.getAttribute("href")+'">'+e.getAttribute("href")+"</a>",type:"select",overlayOpacity:.8,data:[{html:"<h3>Cancel</h3>"},{html:"<h3>Continue to website</h3>",selected:!0,className:"positive",callback:()=>{window.location.href=e.getAttribute("href")}}]})).destroyed.add(function(){t=null}.bind(this))})})},preventMediaDownloads:function(e){$(e).find("video").attr("controlsList","nodownload"),e.addEventListener("contextmenu",function(e){var t=e.target.tagName;if("VIDEO"===t||"IMG"===t)return e.preventDefault(),!1},!0)},openPopupWindow:function(e,t,n,i){var s=window.innerWidth/2-n/2,o=window.innerHeight/2-i/2;"number"==typeof window.screenX&&(s+=window.screenX,o+=window.screenY);var r=window.open(e,t,"toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=no, resizable=no, copyhistory=no, width="+n+", height="+i+", top="+o+", left="+s);return r.moveTo(s,o),r},prefixSelectorsInStyle:function(e,t){var n=[];SL.util.toArray(e.sheet.cssRules).forEach(function(e){if(1===e.type&&e.selectorText&&e.cssText){var i=e.cssText;i=(i=(i=(i=(i=i.replace(e.selectorText,"")).trim()).slice(1,i.length-1)).trim()).split(";").map(function(e){return""===(e=e.trim())?"":"\n\t"+e}).join(";");var s=e.selectorText.split(",").map(function(e){return 0===(e=e.trim()).indexOf(t)?e:t+e}).join(", ");n.push(s+" {"+i+"\n}")}else 7===e.type&&e.cssText&&n.push(e.cssText)}),e.innerHTML="\n"+n.join("\n\n")+"\n"},layoutReveal:function(e,t){if(clearInterval(this.revealLayoutInterval),clearTimeout(this.revealLayoutTimeout),1===arguments.length)this.revealLayoutTimeout=setTimeout(Reveal.layout,e);else{if(2!==arguments.length)throw"Illegal arguments, expected (duration[, fps])";this.revealLayoutInterval=setInterval(Reveal.layout,t),this.revealLayoutTimeout=setTimeout(function(){clearInterval(this.revealLayoutInterval)}.bind(this),e)}},getRevealSlideBounds:function(e,t){var n=(e=e||SL.editor.controllers.Markup.getCurrentSlide()).offset(),i=Reveal.getScale(),s=n.left*i,o=n.top*i;if(t){var r=$(".projector").offset();r&&(s-=r.left,o-=r.top)}return{x:s,y:o,width:e.get(0).offsetWidth*i,height:e.get(0).offsetHeight*i}},getRevealSlidesBounds:function(e){var t=$(".reveal .slides"),n=t.offset(),i=Reveal.getScale(),s=n.left*i,o=n.top*i;if(e){var r=$(".projector").offset();r&&(s-=r.left,o-=r.top)}return{x:s,y:o,width:t.get(0).offsetWidth*i,height:t.get(0).offsetHeight*i}},getRevealElementOffset:function(e,t){var n={x:0,y:0};if((e=$(e)).parents("section").length)for(;e.length&&!e.is("section");)n.x+=e.get(0).offsetLeft,n.y+=e.get(0).offsetTop,t&&(n.x-=parseInt(e.css("margin-left"),10),n.y-=parseInt(e.css("margin-top"),10)),e=$(e.get(0).offsetParent);return n},getRevealElementGlobalOffset:function(e){var t=$(e),n=t.closest(".reveal"),i={x:0,y:0};if(t.length&&n.length){var s=Reveal.getConfig(),o=Reveal.getScale(),r=n.get(0).getBoundingClientRect(),a={x:r.left+r.width/2,y:r.top+r.height/2},l=s.width*o,c=s.height*o;i.x=a.x-l/2,i.y=a.y-c/2;var u=t.closest(".slides section");u.length&&(i.y-=u.scrollTop()*o);var d=SL.util.getRevealElementOffset(t);i.x+=d.x*o,i.y+=d.y*o}return i},getRevealCounterScale:function(){return window.Reveal?2-Reveal.getScale():1},globalToRevealCoordinate:function(e,t){var n=SL.util.getRevealSlideBounds(),i=SL.util.getRevealCounterScale();return{x:(e-n.x)*i,y:(t-n.y)*i}},globalToProjectorCoordinate:function(e,t){var n={x:e,y:t},i=$(".projector").offset();return i&&(n.x-=i.left,n.y-=i.top),n},hideAddressBar:function(){if(SL.util.device.IS_PHONE&&!/crios/gi.test(navigator.userAgent)){var e=function(){setTimeout(function(){window.scrollTo(0,1)},10)};$(window).on("orientationchange",function(){e()}),e()}},callback:function(){"function"==typeof arguments[0]&&arguments[0].apply(null,[].slice.call(arguments,1))},getPlaceholderImage:function(e){var t="";return e&&"function"==typeof window.btoa&&(t=window.btoa(Math.random().toString()).replace(/=/g,"")),"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"+t},isMultiTouchEvent:function(e){if(window.TouchEvent){for(;e&&!(e instanceof window.TouchEvent);)e=e.originalEvent;if(e&&e.touches&&e.touches.length>1)return!0}return!1},isTypingEvent:function(e){return $(e.target).is('input:not([type="file"]), textarea, [contenteditable]')},isTyping:function(){var e=document.activeElement&&"inherit"!==document.activeElement.contentEditable,t=document.activeElement&&document.activeElement.tagName&&/input|textarea/i.test(document.activeElement.tagName);return e||t},createCodeEditor:function(e,t){return CodeMirror.defaults.theme="seti",CodeMirror.defaults.lineNumbers=!0,CodeMirror.defaults.continueComments=!0,CodeMirror.defaults.autoCloseBrackets=!0,CodeMirror.defaults.autoCloseTags=!0,CodeMirror.defaults.matchBrackets=!0,CodeMirror.defaults.extraKeys={"Cmd-/":"toggleComment","Ctrl-/":"toggleComment"},CodeMirror(e,t)},copyToClipboard:function(e){var t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();var n=document.execCommand("copy");return document.body.removeChild(t),n},isInIframe:function(){try{return window.self!==window.top}catch(e){return!0}},parseJSON:function(e){if("string"==typeof e&&/^\{.*\}$/.test(e))try{return JSON.parse(e)}catch(t){}return null},encodeLZW:function(e){var t,n="charCodeAt",i={},s=e.split(""),o=[],r=s[0],a=256;for(t=1;t<s.length;t++)null!=i[r+(e=s[t])]?r+=e:(o.push(1<r.length?i[r]:r[n](0)),i[r+e]=a,a++,r=e);for(o.push(1<r.length?i[r]:r[n](0)),t=0;t<o.length;t++)o[t]=String.fromCharCode(o[t]);return o.join("")},decodeLZW:function(e){var t,n={},i=e.split(""),s=f=i[0],r=[s],a=o=256;for(e=1;e<i.length;e++)t=a>(t=i[e].charCodeAt(0))?i[e]:n[t]?n[t]:f+s,r.push(t),s=t.charAt(0),n[o]=f+s,o++,f=t;return r.join("")}},SL.util.user={isLoggedIn:function(){return"object"==typeof SLConfig&&"object"==typeof SLConfig.current_user},isLoggedInDeckOwner:function(){return!!(SL.util.user.isLoggedIn()&&SLConfig.deck&&SLConfig.deck.user&&SLConfig.deck.user.id===SLConfig.current_user.id)},isPseudoLoggedIn:function(){return"object"==typeof SLConfig&&!!SLConfig.pseudo_signed_in}},SL.util.device={HAS_TOUCH:!!("ontouchstart"in window),IS_PHONE:/iphone|ipod|android|windows\sphone/gi.test(navigator.userAgent),IS_TABLET:/ipad/gi.test(navigator.userAgent),isMac:function(){return/Mac/.test(navigator.platform)},isWindows:function(){return/Win/g.test(navigator.platform)},isLinux:function(){return/Linux/g.test(navigator.platform)},isIE:function(){return/MSIE\s[0-9]/gi.test(navigator.userAgent)||/Trident\/7.0;(.*)rv:\d\d/.test(navigator.userAgent)},isChrome:function(){return/chrome/gi.test(navigator.userAgent)},isSafari:function(){return/safari/gi.test(navigator.userAgent)&&!SL.util.device.isChrome()},isiPhone:function(){return/iphone|ipod/gi.test(navigator.userAgent)},isSafariDesktop:function(){return SL.util.device.isSafari()&&!SL.util.device.isChrome()&&!SL.util.device.IS_PHONE&&!SL.util.device.IS_TABLET},isOpera:function(){return!!window.opera},isFirefox:function(){return/firefox\/\d+\.?\d+/gi.test(navigator.userAgent)},isPhantomJS:function(){return/PhantomJS/gi.test(navigator.userAgent)},supportedByEditor:function(){return Modernizr.history&&Modernizr.csstransforms&&!SL.util.device.isOpera()},supportsEyeDropperAPI:function(){return"undefined"!=typeof window.EyeDropper},getScrollBarWidth:function(){var e=$("<div>").css({width:"100px",height:"100px",overflow:"scroll",position:"absolute",top:"-9999px"});e.appendTo(document.body);var t=e.prop("offsetWidth")-e.prop("clientWidth");return e.remove(),t}},SL.util.trig={distanceBetween:function(e,t){var n=e.x-t.x,i=e.y-t.y;return Math.sqrt(n*n+i*i)},intersection:function(e,t){return{x:Math.max(e.x,t.x),y:Math.max(e.y,t.y),width:Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),height:Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y))}},intersects:function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=n);var s=SL.util.trig.intersection(e,t);return s.width>e.width*n&&s.height>e.height*i},isPointWithinRect:function(e,t,n){return e>n.x&&e<n.x+n.width&&t>n.y&&t<n.y+n.height},findLineIntersection:function(e,t,n,i){var s={x:t.x-e.x,y:t.y-e.y},o={x:i.x-n.x,y:i.y-n.y},r=(-s.y*(e.x-n.x)+s.x*(e.y-n.y))/(-o.x*s.y+s.x*o.y),a=(o.x*(e.y-n.y)-o.y*(e.x-n.x))/(-o.x*s.y+s.x*o.y);return r>=0&&r<=1&&a>=0&&a<=1?{x:e.x+a*s.x,y:e.y+a*s.y}:null},rotateAround:function(e,t,n,i,s){return s=s*Math.PI/180,{x:(e-n)*Math.cos(s)-(t-i)*Math.sin(s)+n,y:(e-n)*Math.sin(s)+(t-i)*Math.cos(s)+i}},rotateBoundingBox:function(e,t,n,i){n="number"==typeof n?n:e.x+e.width/2,i="number"==typeof i?i:e.y+e.height/2;var s=SL.util.trig.rotateAround(e.x,e.y,n,i,t),o=SL.util.trig.rotateAround(e.right,e.y,n,i,t),r=SL.util.trig.rotateAround(e.right,e.bottom,n,i,t),a=SL.util.trig.rotateAround(e.x,e.bottom,n,i,t);return SL.util.trig.cornersToBoundingBox(s,o,r,a)},cornersToBoundingBox:function(e,t,n,i){var s={};return s.x=Math.min(e.x,t.x,n.x,i.x),s.y=Math.min(e.y,t.y,n.y,i.y),s.right=Math.max(e.x,t.x,n.x,i.x),s.bottom=Math.max(e.y,t.y,n.y,i.y),s.width=s.right-s.x,s.height=s.bottom-s.y,s}},SL.util.array={shuffle:function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e}},SL.util.string={URL_REGEX:/((https?\:\/\/)|(www\.)|(^\/\/))(\S+)(\w{2,4})(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i,SCRIPT_TAG_REGEX:/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,VIMEO_ID_REGEX:/vimeo.com\/(\d+)/i,YOUTUBE_ID_REGEX:/youtube\.com\/watch\?v=([a-zA-Z0-9_-]+)/i,YOUTUBE_SHORT_ID_REGEX:/youtu\.be\/([a-zA-Z0-9_-]+)/i,VIMEO_EMBED_URL_REGEX:/player\.vimeo\.com\/video\/\d+/i,YOUTUBE_EMBED_URL_REGEX:/youtube\.com\/embed\/([a-zA-Z0-9_-]+)/i,VIMEO_EMBED_URL:"https://player.vimeo.com/video/{{VIDEO_ID}}",YOUTUBE_EMBED_URL:"https://www.youtube.com/embed/{{VIDEO_ID}}",CODEPEN_PEN_REGEX:/(\/\/codepen\.io\/[^\/]+\/)(pen)(\/.{3,})/i,uniqueIDCount:0,uniqueID:function(e){return SL.util.string.uniqueIDCount+=1,(e||"")+SL.util.string.uniqueIDCount+"-"+Date.now()},slug:function(e){return"string"==typeof e?e=(e=(e=(e=(e=(e=SL.util.string.trim(e)).toLowerCase()).replace(/-/g," ")).replace(/[^\w\s]/g,"")).replace(/\s{2,}/g," ")).replace(/\s/g,"-"):""},trim:function(e){return SL.util.string.trimRight(SL.util.string.trimLeft(e))},trimLeft:function(e){return"string"==typeof e?e.replace(/^\s+/,""):""},trimRight:function(e){return"string"==typeof e?e.replace(/\s+$/,""):""},linkify:function(e){return e&&(e=e.replace(/((https?\:\/\/)|(www\.))(\S+)(\w{2,4})(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/gi,function(e){var t=e;return t.match("^https?://")||(t="http://"+t),'<a href="'+t+'">'+e+"</a>"})),e},pluralize:function(e,t,n){return n?e+t:e},toTitleCase:function(e){return e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})},viewCount:function(e){return e<1e4?e:SL.util.math.limitDecimals(e/1e3,1)+"k"},getCustomClassesFromLESS:function(e){var t=(e||"").match(/\/\/=[a-z0-9-_ \t]{2,}(?=\n)?/gi);return t?t.map(function(e){return e=(e=(e=(e=e.replace("//=","")).trim()).toLowerCase()).replace(/\s/g,"-")}):[]},moveCSSImportsToBeginning:function(e){var t="";return e=e.replace(/@import url\(["'\s]*(http:|https:)?\/\/(.*)\);?/gi,function(e){return t+=e+"\n",""}),t+e},formatIframeSource:function(e){if(e=(e||"").trim(),/<iframe/gi.test(e)){try{var t=$(e);e=t.is("iframe")?t.attr("src"):t.find("iframe").attr("src")}catch(o){}e||(e="",SL.notify("Unable to find iframe source attribute. Please try pasting the URL directly."))}var n=e.match(SL.util.string.VIMEO_ID_REGEX);if(n&&2===n.length&&"string"==typeof n[1])return SL.util.string.VIMEO_EMBED_URL.replace(/{{VIDEO_ID}}/,n[1]);var i=e.match(SL.util.string.YOUTUBE_ID_REGEX);if(i&&2===i.length&&"string"==typeof i[1])return SL.util.string.YOUTUBE_EMBED_URL.replace("{{VIDEO_ID}}",i[1]);var s=e.match(SL.util.string.YOUTUBE_SHORT_ID_REGEX);return s&&2===s.length&&"string"==typeof s[1]?SL.util.string.YOUTUBE_EMBED_URL.replace("{{VIDEO_ID}}",s[1]):SL.util.string.CODEPEN_PEN_REGEX.test(e)?e.replace(SL.util.string.CODEPEN_PEN_REGEX,"$1embed$3"):e},isIframeVideoURL:function(e){return e=SL.util.string.formatIframeSource(e),SL.util.string.VIMEO_EMBED_URL_REGEX.test(e)||SL.util.string.YOUTUBE_EMBED_URL_REGEX.test(e)}},SL.util.math={limitDecimals:function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},bytesToMegabytes:function(e,t){return t?Math.round(e/1024/1024):e/1024/1024},fitWithin:function(e,t,n,i){var s=Math.min(n/e,i/t);return{width:e*s,height:t*s}},fitOutside:function(e,t,n,i){var s=Math.max(n/e,i/t);return{width:e*s,height:t*s}}},SL.util.validate={name:function(){return[]},slug:function(e){var t=[];return(e=e||"").length<2&&t.push("At least 2 characters"),/\s/gi.test(e)&&t.push("No spaces please"),/^[\w-_]+$/gi.test(e)||t.push("Can only contain: A-Z, 0-9, - and _"),t},username:function(e){return SL.util.validate.slug(e)},team_slug:function(e){return SL.util.validate.slug(e)},password:function(e){var t=[];return(e=e||"").length<6&&t.push("At least 6 characters"),t},email:function(e){e=e||"";var t=[];return/^[A-Z0-9._%+\-]+@[A-Z0-9.\-]+\.[A-Z]{2,}$/gi.test(e)||t.push("Please enter a valid email"),t},twitterhandle:function(e){var t=[];return(e=e||"").length>15&&t.push("15 characters max"),/\s/gi.test(e)&&t.push("No spaces please"),/^[\w-_]+$/gi.test(e)||t.push("Can only contain: A-Z, 0-9 and _"),t},url:function(e){var t=[];return(e=e||"").length<4&&t.push("Please enter a valid URL"),/\s/gi.test(e)&&t.push("No spaces please"),t},decktitle:function(e){var t=[];return 0===(e=e||"").length&&t.push("Can not be empty"),t},deckslug:function(e){var t=[];return 0===(e=e||"").length&&t.push("Can not be empty"),t},google_analytics_id:function(e){e=e||"";var t=[];return/\b(UA|G)-[a-zA-Z0-9-]{4,}\b/gi.test(e)||t.push("Please enter a valid ID"),t},google_domain:function(e){e=e||"";var t=[];return/\./gi.test(e)||t.push("Please enter a valid domain"),t},none:function(){return[]}},SL.util.dom={scrollIntoViewIfNeeded:function(e){e&&("function"==typeof e.scrollIntoViewIfNeeded?e.scrollIntoViewIfNeeded.apply(e,[].slice.call(arguments,1)):"function"==typeof e.scrollIntoView&&e.scrollIntoView())},preventTouchOverflowScrolling:function(e){var t,n,i;(e=$(e)).get(0).addEventListener("touchstart",function(e){t=this.scrollTop>0,n=this.scrollTop<this.scrollHeight-this.clientHeight,i=e.pageY}),e.get(0).addEventListener("touchmove",function(e){var s=e.pageY>i,o=!s;i=e.pageY,s&&t||o&&n?e.stopPropagation():e.preventDefault()})},insertCSRF:function(e,t){void 0===t&&(t=$('meta[name="csrf-token"]').attr("content")),t&&(e.find('input[name="authenticity_token"]').remove(),e.append('<input name="authenticity_token" type="hidden" value="'+t+'" />'))},calculateStyle:function(e){window.getComputedStyle($(e).get(0)).opacity},swapElements:function(e,t){var n=$("<div>").insertAfter(e);e.insertAfter(t),t.insertBefore(n),n.remove()}},SL.util.html={indent:function(e){return html_beautify(e)},ATTR_SRC_NORMAL:"src",ATTR_SRC_SILENCED:"data-silenced-src",ATTR_SRC_NORMAL_REGEX:" src=",ATTR_SRC_SILENCED_REGEX:" data-silenced-src=",muteSources:function(e){return(e||"").replace(new RegExp(SL.util.html.ATTR_SRC_NORMAL_REGEX,"gi"),SL.util.html.ATTR_SRC_SILENCED_REGEX)},unmuteSources:function(e){return(e||"").replace(new RegExp(SL.util.html.ATTR_SRC_SILENCED_REGEX,"gi"),SL.util.html.ATTR_SRC_NORMAL_REGEX)},trimCode:function(e){$(e).find("pre code").each(function(){var e=$(this).parent("pre"),t=e.html(),n=$.trim(t);t!==n&&e.html(n)})},removeAttributes:function(e,t){e=$(e);var n=$.map(e.get(0).attributes,function(e){return e.name});"function"==typeof t&&(n=n.filter(t)),$.each(n,function(t,n){e.removeAttr(n)})},removeClasses:function(e,t){if(e=$(e),"function"==typeof t){var n=(e.attr("class")||"").split(" ").filter(t);e.removeClass(n.join(" "))}else e.attr("class","")},findScriptTags:function(e){var t=document.createElement("div");return t.innerHTML=e,SL.util.toArray(t.getElementsByTagName("script")).map(function(e){return e.outerHTML})},removeScriptTags:function(e){var t=document.createElement("div");return t.innerHTML=e,SL.util.toArray(t.getElementsByTagName("script")).forEach(function(e){e.parentNode.removeChild(e)}),t.innerHTML},createSpinner:function(e){return e=$.extend({lines:12,radius:8,length:6,width:3,color:"#fff",zIndex:"auto",left:"0",top:"0",className:""},e),new Spinner(e)},generateSpinners:function(){$(".spinner").each(function(e,t){if(!1===t.hasAttribute("data-spinner-state")){t.setAttribute("data-spinner-state","spinning");var n={};t.hasAttribute("data-spinner-color")&&(n.color=t.getAttribute("data-spinner-color")),t.hasAttribute("data-spinner-lines")&&(n.lines=parseInt(t.getAttribute("data-spinner-lines"),10)),t.hasAttribute("data-spinner-width")&&(n.width=parseInt(t.getAttribute("data-spinner-width"),10)),t.hasAttribute("data-spinner-radius")&&(n.radius=parseInt(t.getAttribute("data-spinner-radius"),10)),t.hasAttribute("data-spinner-length")&&(n.length=parseInt(t.getAttribute("data-spinner-length"),10));var i=SL.util.html.createSpinner(n);$(t).data("spinner",i),i.spin(t)}})}},SL.util.deck={idCounter:1,sortInjectedStyles:function(){var e=$("head");$("#theme-css-output").appendTo(e),$("#user-css-output").appendTo(e)},afterSlidesChanged:function(){this.generateIdentifiers(),this.generateSlideNumbers()},generateIdentifiers:function(e){$(e||".reveal .slides section").each(function(){!1!==this.hasAttribute("data-id")&&0!==this.getAttribute("data-id").length||this.setAttribute("data-id",CryptoJS.MD5(["slide",SL.current_user.get("id"),SL.current_deck.get("id"),Date.now(),SL.util.deck.idCounter++].join("-")).toString())}),this.generateSlideNumbers()},generateSlideNumbers:function(){this.slideNumberMap={},$(".reveal .slides>section[data-id]").each(function(e,t){e+=1,(t=$(t)).hasClass("stack")?t.find(">section[data-id]").each(function(t,n){t+=1,n=$(n),this.slideNumberMap[n.attr("data-id")]=e+(t>1?"."+t:"")}.bind(this)):this.slideNumberMap[t.attr("data-id")]=e}.bind(this))},getSlideNumber:function(e){return this.slideNumberMap||this.generateSlideNumbers(),this.slideNumberMap[this.getSlideID(e)]},getSlideID:function(e){return"string"==typeof e?e:e&&"function"==typeof e.getAttribute?e.getAttribute("data-id"):e&&"function"==typeof e.attr?e.attr("data-id"):undefined},getSlideIndicesFromIdentifier:function(e){var t=$('.reveal .slides section[data-id="'+e+'"]');return t.length?Reveal.getIndices(t.get(0)):null},getBackgroundColor:function(){var e=$(".reveal-viewport");if(e.length){var t=e.css("background-color");if(window.Reveal&&window.Reveal.isReady()){var n=window.Reveal.getIndices(),i=window.Reveal.getSlideBackground(n.h,n.v);if(i){var s=i.style.backgroundColor;s&&window.tinycolor(s).getAlpha()>0&&(t=s)}}if(t)return t}return"#ffffff"},getBackgroundContrast:function(){return SL.util.color.getContrast(SL.util.deck.getBackgroundColor())},getBackgroundBrightness:function(){return SL.util.color.getBrightness(SL.util.deck.getBackgroundColor())},getSlideSize:function(){if(Reveal&&Reveal.isReady()){var e=Reveal.getConfig();return{width:e.width,height:e.height}}return window.SLConfig&&window.SLConfig.deck?{width:window.SLConfig.deck.width,height:window.SLConfig.deck.height}:{width:SL.config.DEFAULT_SLIDE_WIDTH,height:SL.config.DEFAULT_SLIDE_HEIGHT}},navigateToSlide:function(e){if(e){var t=Reveal.getIndices(e);Reveal.slide(t.h,t.v)}},replaceUserCSS:function(e){var t=$("#user-css-output");0===t.length&&(t=$('<style id="user-css-output" type="text/css"></style>').appendTo("head"),SL.util.deck.sortInjectedStyles()),t.html(e||"")},replaceHTML:function(e,t){t=t||{},SL.util.skipCSSTransitions($(".reveal"),1);var n=Reveal.getState(),i=document.querySelector(".reveal .slides");i.innerHTML=e,$('.reveal section[data-visibility="hidden"]').remove(),Reveal.setState(n),"function"==typeof t.beforeSync&&t.beforeSync(),Reveal.sync(),SL.deck.util.renderMath(i),SL.deck.Animation.sync(),this.afterSlidesChanged();var s=Reveal.getPlugin("highlight");s&&(SL.deck.util.injectCodeCopyButtons(),$(".reveal .slides pre code").each(function(){s.highlightBlock(this)}))},reloadDeck:function(e,t){return $.ajax({url:e,type:"GET"}).done(function(e){if(e&&e.data){e.width&&t.set("width",e.width),e.height&&t.set("height",e.height),e.theme_color&&t.set("theme_color",e.theme_color),e.theme_font&&t.set("theme_font",e.theme_font),e.transition&&t.set("transition",e.transition),e.notes&&t.set("notes",e.notes),"string"==typeof e.css_output&&SL.util.deck.replaceUserCSS(e.css_output);var n=SL.models.Theme.fromDeck(t.toJSON());SL.helpers.ThemeController.paint(n,{center:!1}),SL.util.deck.replaceHTML(e.data,{beforeSync:function(){e.notes&&SL.deck.util.injectNotes()}})}})},removeSlideBackground:function(e,t){["image","size","position","opacity","video","video-muted","video-loop","video-thumb","video-processing","media-id","iframe","interactive"].forEach(function(n){t&&-1!==t.indexOf(n)||e.removeAttribute("data-background-"+n)},this)},hasMediaThatRequiresUserInteraction:function(){return document.querySelectorAll(".reveal video:not([muted])").length>0}},SL.util.color={getContrast:function(e){var t=window.tinycolor(e).toRgb();return(299*t.r+587*t.g+114*t.b)/1e3/255},getBrightness:function(e){var t=window.tinycolor(e).toRgb();return(t.r/255*.3+t.g/255*.59+(t.b/255+.11))/2},getImageColor:function(e,t){return new Promise(function(n,i){var s=document.createElement("img");s.addEventListener("load",function(){var e,o=document.createElement("canvas"),r=o.getContext&&o.getContext("2d"),a={r:0,g:0,b:0,a:0};r||i();var l=o.height=s.naturalHeight||s.offsetHeight||s.height,c=o.width=s.naturalWidth||s.offsetWidth||s.width;r.drawImage(s,0,0);try{e=r.getImageData(0,0,c,l)}catch(f){i()}var u=4,d=e.data.length,h=0;if("number"!=typeof t&&(t=8,"number"==typeof d))for(;d/t>5e4;)t+=8;for(;(u+=4*t)<d;)++h,a.r+=e.data[u],a.g+=e.data[u+1],a.b+=e.data[u+2],a.a+=e.data[u+3];a.r=~~(a.r/h),a.g=~~(a.g/h),a.b=~~(a.b/h),a.a=~~(a.a/h),a.a=a.a/255,n(a)}),s.addEventListener("error",function(){i()}),s.setAttribute("crossorigin","anonymous"),s.setAttribute("src",e)})}},SL.util.anim={collapseListItem:function(e,t,n){(e=$(e)).addClass("no-transition"),e.css({overflow:"hidden"}),e.animate({opacity:0,height:0,minHeight:0,paddingTop:0,paddingBottom:0,marginTop:0,marginBottom:0},{duration:n||500,complete:t})},collapseListItemHorizontal:function(e,t,n){(e=$(e)).addClass("no-transition"),e.css({overflow:"hidden","white-space":"nowrap"}),e.animate({opacity:0,width:0,minWidth:0,paddingLeft:0,paddingRight:0,marginLeft:0,marginRight:0},{duration:n||500,complete:t})},countTo:function(e,t,n){t===n||isNaN(parseFloat(t))||isNaN(parseFloat(n))||$(e).each(function(){$(this).prop("counter",t).animate({counter:n},{duration:500,step:function(e){$(this).text(Math.round(e))},complete:function(){$(this).text(n)}})})}},SL.util.social={getFacebookShareLink:function(e,t,n,i){return"http://www.facebook.com/sharer.php?s=100&p[title]="+encodeURIComponent(t)+"&p[summary]="+encodeURIComponent(n)+"&p[url]="+e+"&p[images][0]="+i},getTwitterShareLink:function(e,t){return"http://twitter.com/share?text="+encodeURIComponent(t)+"&url="+encodeURIComponent(e)+"&via=slides"},getGoogleShareLink:function(e){return"https://plus.google.com/share?url="+encodeURIComponent(e)}},SL.util.selection={clear:function(){window.getSelection&&(window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges())},moveCursorToEnd:function(e){if(e){e.focus();var t=document.createRange();t.selectNodeContents(e),t.collapse(!1),selection=window.getSelection(),selection.removeAllRanges(),selection.addRange(t)}},selectText:function(e){var t,n;document.body.createTextRange?((t=document.body.createTextRange()).moveToElementText(e),t.select()):window.getSelection&&(n=window.getSelection(),(t=document.createRange()).selectNodeContents(e),n.removeAllRanges(),n.addRange(t))},getSelectedElement:function(){var e=window.getSelection();return e&&e.anchorNode?e.anchorNode.parentNode:null},getSelectedTags:function(){var e=SL.util.selection.getSelectedElement(),t=[];if(e)for(;e;)t.push(e.nodeName.toLowerCase()),e=e.parentNode;return t},getSelectedHTML:function(){if(document.selection&&document.selection.createRange)return document.selection.createRange().htmlText;if(window.getSelection){var e=window.getSelection();if(e.rangeCount>0){var t=e.getRangeAt(0).cloneContents(),n=document.createElement("div");return n.appendChild(t),n.innerHTML}}return""}},"undefined"!=typeof window.Spinner&&"undefined"!=typeof SL.util&&SL.util.html.generateSpinners(),SL.visibility={init:function(){this.changed=new signals.Signal,"undefined"!=typeof document.hidden?(this.hiddenProperty="hidden",this.visibilityChangeEvent="visibilitychange"):"undefined"!=typeof document.msHidden?(this.hiddenProperty="msHidden",this.visibilityChangeEvent="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(this.hiddenProperty="webkitHidden",this.visibilityChangeEvent="webkitvisibilitychange"),this.supported="boolean"==typeof document[this.hiddenProperty],this.supported&&this.bind()},isVisible:function(){return!this.supported||!document[this.hiddenProperty]},isHidden:function(){return!!this.supported&&document[this.hiddenProperty]},bind:function(){document.addEventListener(this.visibilityChangeEvent,this.onVisibilityChange.bind(this))},onVisibilityChange:function(){this.changed.dispatch()}},SL.warnings={STORAGE_KEY:"slides-last-warning-id",MESSAGE_ID:23,init:function(){this.showMessage()},showMessage:function(){this.hasMessage()&&!this.hasExpired()&&SL.util.user.isLoggedIn()&&Modernizr.localstorage&&((parseInt(localStorage.getItem(this.STORAGE_KEY),10)||0)<this.MESSAGE_ID&&SL.notify(this.MESSAGE_TEXT,{optional:!1}).destroyed.add(this.hideMessage.bind(this)))},hideMessage:function(){Modernizr.localstorage&&localStorage.setItem(this.STORAGE_KEY,this.MESSAGE_ID)},hasMessage:function(){return!!this.MESSAGE_TEXT},hasExpired:function(){return!!this.MESSAGE_EXPIRY&&moment().diff(moment(this.MESSAGE_EXPIRY))>0}},SL("collections").Collection=Class.extend({init:function(e,t,n){this.factory=t,this.crud=n||{},this.changed=new signals.Signal,this.replaced=new signals.Signal,this.setData(e)},setData:function(e){var t=!!this.data&&"undefined"!=typeof this.data;if(this.data=e||[],"function"==typeof this.factory){var n=this.data;this.data=[];for(var i=0,s=n.length;i<s;i++){n[i]instanceof this.factory?this.data.push(n[i]):this.data.push(this.createModelInstance(n[i]))}}t&&this.replaced.dispatch()},appendData:function(e){var t=this.size();return this.setData(this.data.concat(e)),this.data.slice(t)},prependData:function(e){var t=this.size();return this.setData(e.concat(this.data)),this.data.slice(0,t)},find:function(e){for(var t=0,n=this.data.length;t<n;t++){if(this.data[t]===e)return t}return-1},contains:function(e){return-1!==this.find(e)},findByProperties:function(e){for(var t=0,n=this.data.length;t<n;t++){var i=this.data[t],s=!0;for(var o in e)e.hasOwnProperty(o)&&("function"==typeof i.get?i.get(o)!=e[o]&&(s=!1):i[o]!=e[o]&&(s=!1));if(s)return t}return-1},getByProperties:function(e){return this.data[this.findByProperties(e)]},getByID:function(e){return this.getByProperties({id:e})},remove:function(e){for(var t,n=0;n<this.data.length;n++)this.data[n]===e&&(t=this.data.splice(n,1)[0],n--);void 0!==t&&this.changed.dispatch(null,[t])},removeByProperties:function(e){for(var t,n=this.findByProperties(e),i=0;-1!==n&&i++<1e3;)t=this.data.splice(n,1)[0],n=this.findByProperties(e);void 0!==t&&this.changed.dispatch(null,[t])},removeByIndex:function(e){var t=this.data.splice(e,1);return void 0!==t&&this.changed.dispatch(null,[t]),t},create:function(e,t){return new Promise(function(n,i){"function"==typeof this.factory?this.crud.create?$.ajax({type:"POST",context:this,url:t&&t.url?t.url:this.crud.create,data:e}).done(function(e){t&&t.model?(t.model.setAll(e),n(t.model)):t&&!1===t.createModel?n():n(this.createModel(e,t))}).fail(function(e){i(e)}):n(this.createModel(e,t)):i()}.bind(this))},createModel:function(e,t){if(t=$.extend({prepend:!1},t),"function"==typeof this.factory){var n=this.createModelInstance(e);return t.prepend?this.unshift(n):this.push(n),n}},createModelInstance:function(e,t){return new this.factory(e,t)},clear:function(){this.data.length=0,this.changed.dispatch()},swap:function(e,t){var n="number"==typeof e&&e>=0&&e<this.size(),i="number"==typeof t&&t>=0&&t<this.size();if(n&&i){var s=this.data[e],o=this.data[t];this.data[e]=o,this.data[t]=s}this.changed.dispatch()},shiftLeft:function(e){"number"==typeof e&&e>0&&this.swap(e,e-1)},shiftRight:function(e){"number"==typeof e&&e<this.size()-1&&this.swap(e,e+1)},at:function(e){return this.data[e]},first:function(){return this.at(0)},last:function(){return this.at(this.size()-1)},size:function(){return this.data.length},isEmpty:function(){return 0===this.size()},getUniqueName:function(e,t,n){for(var i=-1,s=0,o=this.data.length;s<o;s++){var r=this.data[s],a="function"==typeof r.get?r.get(t):r[t];if(a){var l=a.match(new RegExp("^"+e+"\\s?(\\d+)?$"));l&&2===l.length&&(i=Math.max(l[1]?parseInt(l[1],10):0,i))}}return-1===i?e+(n?" 1":""):e+" "+(i+1)},pushUnique:function(e){if(-1===this.data.indexOf(e)){var t=this.data.push(e);return this.changed.dispatch([e]),t}return this.data.length},toJSON:function(){return this.map(function(e){return"function"==typeof e.toJSON?e.toJSON():e})},destroy:function(){this.changed.dispose(),this.data=null},unshift:function(e){var t=this.data.unshift(e);return this.changed.dispatch(e),t},push:function(e){var t=this.data.push(e);return this.changed.dispatch([e]),t},pop:function(){var e=this.data.pop();return void 0!==e&&this.changed.dispatch(null,[e]),e},map:function(e,t){return this.data.map(e,t)},some:function(e,t){
return this.data.some(e,t)},filter:function(e,t){return this.data.filter(e,t)},reduce:function(e,t){return this.data.reduce(e,t)},forEach:function(e,t){return this.data.forEach(e,t)}}),SL("collections").Loadable=SL.collections.Collection.extend({init:function(){this._super.apply(this,arguments),this.loadStatus="",this.loadStarted=new signals.Signal,this.loadCompleted=new signals.Signal,this.loadFailed=new signals.Signal},load:function(){},unload:function(){this.loadXHR&&(this.loadXHR.abort(),this.loadXHR=null),this.loadStatus="",this.clear()},onLoadStarted:function(){this.loadStatus="loading",this.loadStarted.dispatch()},onLoadCompleted:function(){this.loadStatus="loaded",this.loadCompleted.dispatch()},onLoadFailed:function(){this.loadStatus="failed",this.loadFailed.dispatch()},isLoading:function(){return"loading"===this.loadStatus},isLoaded:function(){return"loaded"===this.loadStatus},destroy:function(){this.loadStarted.dispose(),this.loadCompleted.dispose(),this.loadFailed.dispose(),this._super()}}),SL("models").Model=Class.extend({init:function(e){this.watchlist={},this.setData(e)},setData:function(e){this.data=e||{}},getData:function(){return this.data},setAll:function(e){for(var t in e)this.set(t,e[t])},set:function(e,t){this.data[e]=t,this.watchlist[e]&&this.watchlist[e].dispatch(t)},get:function(e){if("string"==typeof e&&/\./.test(e)){for(var t=e.split("."),n=this.data;t.length&&n;)n=n[e=t.shift()];return n}return this.data[e]},has:function(e){var t=this.get(e);return!!t||!1===t||0===t},watch:function(e,t){this.watchlist[e]||(this.watchlist[e]=new signals.Signal),this.watchlist[e].add(t)},unwatch:function(e,t){this.watchlist[e]&&this.watchlist[e].remove(t)},toJSON:function(){return JSON.parse(JSON.stringify(this.data))},destroy:function(){for(var e in this.watchlist)this.watchlist[e].dispose(),delete this.watchlist[e]}}),SL("collections").Paginatable=SL.collections.Loadable.extend({init:function(){this._super.apply(this,arguments)},load:function(e){if(!this.isLoading())return this.listURL=e||this.crud.list,this.onLoadStarted(),new Promise(function(e,t){this.loadXHR=$.ajax({type:"GET",url:this.listURL,context:this}).done(function(t){this.totalResults=t.total,this.pagesLoaded=1,this.pagesTotal=1,t.total>t.results.length&&(this.pagesTotal=Math.ceil(t.total/t.results.length)),this.setData(t.results),this.loadXHR=null,this.onLoadCompleted(),e()}).fail(function(){this.loadXHR=null,this.onLoadFailed(),t()})}.bind(this))},hasNextPage:function(){return this.pagesLoaded<this.pagesTotal},loadNextPage:function(){return this.hasNextPage()?new Promise(function(e,t){var n=this.listURL;n+=/\?/i.test(n)?"&":"?",$.ajax({type:"GET",url:n+"page="+(this.pagesLoaded+1),context:this}).done(function(t){this.pagesLoaded+=1,e(this.appendData(t.results))}).fail(function(){t()})}.bind(this)):Promise.resolve([])},getTotalResults:function(){return this.totalResults},getLoadedResults:function(){return this.size()}}),SL("collections").Decks=SL.collections.Paginatable.extend({init:function(e,t,n){this._super(e,t||SL.models.Deck,n||{list:SL.endpoints.DECK_LIST()})}}),SL("collections").Themes=SL.collections.Paginatable.extend({init:function(e,t,n){this._super(e,t||SL.models.Theme,n||{list:SL.endpoints.THEMES_LIST})}}),SL("models").AccessToken=SL.models.Model.extend({init:function(e){this._super(e)},save:function(e){var t={access_token:{}};return e?e.forEach(function(e){t.access_token[e]=this.get(e)}.bind(this)):t.access_token=this.toJSON(),$.ajax({url:SL.endpoints.ACCESS_TOKENS_UPDATE(this.get("deck_id"),this.get("id")),type:"PUT",data:t})},destroy:function(){return $.ajax({url:SL.endpoints.ACCESS_TOKENS_DELETE(this.get("deck_id"),this.get("id")),type:"DELETE"})},clone:function(){return new SL.models.AccessToken(JSON.parse(JSON.stringify(this.data)))}}),SL("models").Deck=SL.models.Model.extend({init:function(e){this._super(e),$.extend(this,this.data),this.user=new SL.models.User(this.data.user),this.user_settings=new SL.models.UserSettings(this.data.user.settings)},isPaid:function(){return this.user.isPaid()},isPro:function(){return this.user.isPro()},isVisibilityAll:function(){return this.get("visibility")===SL.models.Deck.VISIBILITY_ALL},isVisibilitySelf:function(){return this.get("visibility")===SL.models.Deck.VISIBILITY_SELF},isVisibilityTeam:function(){return this.get("visibility")===SL.models.Deck.VISIBILITY_TEAM},belongsTo:function(e){return this.get("user.id")===e.get("id")},getURL:function(e){e=$.extend({protocol:document.location.protocol,token:null,view:null},e);var t=this.get("user.username"),n=this.get("slug")||this.get("id"),i=e.protocol+"//"+document.location.host+SL.routes.DECK(t,n);return e.view&&(i+="/"+e.view),e.token&&(i+="?token="+e.token.get("token")),i},save:function(e){var t={deck:{}};return e&&e.forEach(function(e){t.deck[e]=this.get(e)}.bind(this)),$.ajax({url:SL.endpoints.UPDATE_DECK(this.get("id")),type:"PUT",data:t})},clone:function(){return new SL.models.Deck(JSON.parse(JSON.stringify(this.data)))}}),SL("models").Deck.VISIBILITY_SELF="self",SL("models").Deck.VISIBILITY_TEAM="team",SL("models").Deck.VISIBILITY_ALL="all",SL("models").Team=SL.models.Model.extend({init:function(e){if(this._super(e),"object"==typeof this.data.themes)for(var t=0,n=this.data.themes.length;t<n;t++)this.data.themes[t]=new SL.models.Theme(this.data.themes[t]);this.set("themes",new SL.collections.Collection(this.data.themes))},hasThemes:function(){var e=this.get("themes");return e&&e.size()>0},hasDefaultTheme:function(){return this.has("default_theme_id")},getDefaultTheme:function(){return this.get("themes").getByProperties({id:this.get("default_theme_id")})},getCostPerUser:function(){var e=this.get("account_billing_period"),t=this.get("account_cost_per_user");return"yearly"===e?"$"+t+"/year":"monthly"===e?"$"+t+"/month":"N/A"},isManuallyUpgraded:function(){return!!this.get("manually_upgraded")},allowPublicDecks:function(){return!!this.get("allow_public_decks")},save:function(e){var t={team:{}};return e?e.forEach(function(e){t.team[e]=this.get(e)}.bind(this)):t.team=this.toJSON(),$.ajax({url:SL.endpoints.UPDATE_TEAM,type:"PUT",data:t})},clone:function(){return new SL.models.Team(JSON.parse(JSON.stringify(this.data)))}}),SL("models").Theme=SL.models.Model.extend({init:function(e){this._super(e),this.formatData(),this.loading=!1},load:function(e){return this.loading=!0,e="string"==typeof e?e:SL.endpoints.THEMES_READ(this.get("id")),$.ajax({type:"GET",url:e,context:this}).done(function(e){$.extend(this.data,e),this.formatData()}).always(function(){this.loading=!1})},formatData:function(){this.has("name")||this.set("name","Untitled"),this.has("width")||this.set("width",SL.config.DEFAULT_SLIDE_WIDTH),this.has("height")||this.set("height",SL.config.DEFAULT_SLIDE_HEIGHT),this.has("font")||this.set("font",SL.config.DEFAULT_THEME_FONT),this.has("color")||this.set("color",SL.config.DEFAULT_THEME_COLOR),this.has("transition")||this.set("transition",SL.config.DEFAULT_THEME_TRANSITION),this.has("background_transition")||this.set("background_transition",SL.config.DEFAULT_THEME_BACKGROUND_TRANSITION),this.data.slide_template_ids instanceof SL.collections.Collection||this.set("slide_template_ids",new SL.collections.Collection(this.data.slide_template_ids)),this.data.snippets instanceof SL.collections.Collection||("string"==typeof this.data.snippets&&this.data.snippets.length>0&&(this.data.snippets=JSON.parse(this.data.snippets)),this.set("snippets",new SL.collections.Collection(this.data.snippets,SL.models.ThemeSnippet))),this.data.palette instanceof Array||("string"==typeof this.data.palette&&this.data.palette.length>0?(this.data.palette=this.data.palette.split(","),this.data.palette=this.data.palette.map(function(e){return e.trim()})):this.data.palette=[])},hasSlideTemplate:function(e){return this.get("slide_template_ids").contains(e)},addSlideTemplate:function(e){var t=this.get("slide_template_ids");return e.forEach(function(e){t.contains(e)||t.push(e)}),$.ajax({type:"POST",url:SL.endpoints.THEME_ADD_SLIDE_TEMPLATE(this.get("id")),context:this,data:{slide_template_ids:e}})},removeSlideTemplate:function(e){var t=this.get("slide_template_ids");return e.forEach(function(e){t.remove(e)}),$.ajax({type:"DELETE",url:SL.endpoints.THEME_REMOVE_SLIDE_TEMPLATE(this.get("id")),context:this,data:{slide_template_ids:e}})},hasThumbnail:function(){return!!this.get("thumbnail_url")},hasJavaScript:function(){return!!this.get("js")},hasPalette:function(){return this.get("palette").length>0},isFontDeprecated:function(){var e=this.get("font");return SL.config.THEME_FONTS.some(function(t){return t.id===e&&!0===t.deprecated})},isTransitionDeprecated:function(){var e=this.get("transition");return SL.config.THEME_TRANSITIONS.some(function(t){return t.id===e&&!0===t.deprecated})},isBackgroundTransitionDeprecated:function(){var e=this.get("background_transition");return SL.config.THEME_BACKGROUND_TRANSITIONS.some(function(t){return t.id===e&&!0===t.deprecated})},isLoading:function(){return this.loading},loadCustomFonts:function(){SL.fonts&&(this.has("font_typekit")&&SL.fonts.loadTypekitFont(this.get("font_typekit")),this.has("font_google")&&SL.fonts.loadGoogleFont(this.get("font_google")))},clone:function(){return new SL.models.Theme(JSON.parse(JSON.stringify(this.toJSON())))},toJSON:function(){return{id:this.get("id"),name:this.get("name"),width:this.get("width"),height:this.get("height"),center:this.get("center"),rolling_links:this.get("rolling_links"),font:this.get("font"),color:this.get("color"),transition:this.get("transition"),background_transition:this.get("background_transition"),font_typekit:this.get("font_typekit"),font_google:this.get("font_google"),html:this.get("html"),less:this.get("less"),css:this.get("css"),js:this.get("js"),snippets:this.has("snippets")?JSON.stringify(this.get("snippets").toJSON()):null,palette:this.has("palette")?this.get("palette").join(","):null}}}),SL("models").Theme.fromDeck=function(e){return new SL.models.Theme({id:e.theme_id,name:"",width:e.width,height:e.height,center:e.center,rolling_links:e.rolling_links,font:e.theme_font,color:e.theme_color,transition:e.transition,background_transition:e.background_transition,font_typekit:e.font_typekit,font_google:e.font_google,snippets:"",palette:[]})},SL("models.collab").DeckUser=SL.models.Model.extend({init:function(e){this._super(e),this.has("status")||this.set("status",SL.models.collab.DeckUser.STATUS_DISCONNECTED)},getDisplayName:function(){return this.get("name")||this.get("username")},canComment:function(){return!0},canPresent:function(){return-1!==[SL.models.collab.DeckUser.ROLE_OWNER,SL.models.collab.DeckUser.ROLE_ADMIN,SL.models.collab.DeckUser.ROLE_EDITOR,SL.models.collab.DeckUser.ROLE_PRESENTER].indexOf(this.get("role"))},canEdit:function(){return-1!==[SL.models.collab.DeckUser.ROLE_OWNER,SL.models.collab.DeckUser.ROLE_ADMIN,SL.models.collab.DeckUser.ROLE_EDITOR].indexOf(this.get("role"))},isAdmin:function(){return-1!==[SL.models.collab.DeckUser.ROLE_OWNER,SL.models.collab.DeckUser.ROLE_ADMIN].indexOf(this.get("role"))},isOnline:function(){return this.get("status")&&this.get("status")!==SL.models.collab.DeckUser.STATUS_DISCONNECTED},isIdle:function(){return this.get("status")===SL.models.collab.DeckUser.STATUS_IDLE},isEditing:function(){return!0===this.get("editing")},isActive:function(){return!0===this.get("active")},isCurrentUser:function(){return this.get("user_id")===SL.current_user.get("id")},clone:function(){return new SL.models.collab.DeckUser(JSON.parse(JSON.stringify(this.data)))},save:function(e){var t={user:{}};return e?e.forEach(function(e){t.user[e]=this.get(e)}.bind(this)):t.user=this.toJSON(),$.ajax({url:SL.endpoints.DECKUSER_UPDATE(SL.current_deck.get("id"),this.get("user_id")),type:"PUT",data:t})},destroy:function(){return $.ajax({url:SL.endpoints.DECKUSER_DELETE(SL.current_deck.get("id"),this.get("user_id")),type:"DELETE"})}}),SL.models.collab.DeckUser.ROLE_OWNER="owner",SL.models.collab.DeckUser.ROLE_ADMIN="admin",SL.models.collab.DeckUser.ROLE_EDITOR="editor",SL.models.collab.DeckUser.ROLE_PRESENTER="presenter",SL.models.collab.DeckUser.ROLE_VIEWER="viewer",SL.models.collab.DeckUser.STATUS_DISCONNECTED="disconnected",SL.models.collab.DeckUser.STATUS_VIEWING="viewing",SL.models.collab.DeckUser.STATUS_IDLE="idle",SL("models").UserMembership=SL.models.Model.extend({init:function(e){this._super(e)},isAdmin:function(){return this.get("role")===SL.models.UserMembership.ROLE_ADMIN},isOwner:function(){return this.get("role")===SL.models.UserMembership.ROLE_OWNER},clone:function(){return new SL.models.UserMembership(JSON.parse(JSON.stringify(this.data)))}}),SL.models.UserMembership.ROLE_OWNER="owner",SL.models.UserMembership.ROLE_ADMIN="admin",SL.models.UserMembership.ROLE_MEMBER="member",SL("models").UserPrivileges=SL.models.Model.extend({init:function(e,t){this._super(e,t),this.user=t},privateDecks:function(){return this.user.isPaid()},privateLinks:function(){return this.user.isPro()||this.user.isEnterprise()},customCSS:function(){return this.user.isPro()||this.user.isEnterprise()},themes:function(){return this.user.isEnterprise()},hideEmbedFooter:function(){return this.user.isPaid()},embedWhitelist:function(){return this.user.isPro()||this.user.isEnterprise()},deckTemplateSelector:function(){return!SL.current_user.team||"disabled"!==SL.current_user.team.get("deck_templates_mode")}}),SL("models").UserSettings=SL.models.Model.extend({init:function(e){this._super(e),this.has("present_controls")||this.set("present_controls",SL.config.PRESENT_CONTROLS_DEFAULT),this.has("present_upsizing")||this.set("present_upsizing",SL.config.PRESENT_UPSIZING_DEFAULT),this.has("export_controls")||this.set("export_controls",SL.config.DEFAULT_EXPORT_CONTROLS),this.has("export_separate_fragments")||this.set("export_separate_fragments",SL.config.DEFAULT_EXPORT_SEPARATE_FRAGMENTS),this.has("editor_fixed_notes")||this.set("editor_fixed_notes",SL.config.DEFAULT_EDITOR_FIXED_NOTES)},save:function(e){var t={user_settings:{}};return e?e.forEach(function(e){t.user_settings[e]=this.get(e)}.bind(this)):t.user_settings=this.toJSON(),$.ajax({url:SL.endpoints.UPDATE_USER_SETTINGS,type:"PUT",data:t})},getMediaSourceList:function(){return(this.get("media_sources")||"").split(",").map(function(e){return e.trim()}).filter(function(e){return""!==e})},clone:function(){return new SL.models.UserSettings(JSON.parse(JSON.stringify(this.data)))}}),SL("models").User=SL.models.Model.extend({init:function(e){this._super(e),$.extend(this,this.data),this.settings=new SL.models.UserSettings(this.data.settings),this.privileges=new SL.models.UserPrivileges(this.data,this),this.data.team&&(this.team=new SL.models.Team(this.data.team)),this.data.membership&&(this.membership=new SL.models.UserMembership(this.data.membership))},isFree:function(){return this.account_type===SL.models.User.ACCOUNT_TYPE_DEFAULT},isPaid:function(){return!this.isFree()},isLite:function(){return this.account_type===SL.models.User.ACCOUNT_TYPE_LITE},isPro:function(){return this.account_type===SL.models.User.ACCOUNT_TYPE_PRO},isEnterprise:function(){return this.account_type===SL.models.User.ACCOUNT_TYPE_ENTERPRISE},isEnterpriseManager:function(){return this.hasMembership()&&(this.membership.isAdmin()||this.membership.isOwner())},hasMembership:function(){return!!this.membership},hasStorageLimit:function(){return this.get("storage_limit")>0},isExceedingStorageLimit:function(){return this.get("storage_used")>this.get("storage_limit")},isMemberOfTeam:function(e){return!(!this.isEnterprise()||this.get("team_id")!==e)},isTeamMemberOf:function(e,t){return!(!this.isEnterprise()||this.get("id")===e||this.get("team_id")!==t)},isMemberOfCurrentTeam:function(){return!(!SL.current_team||SL.current_team.get("id")!==this.get("team_id"))},isManuallyUpgraded:function(){return!!this.manually_upgraded},hasThemes:function(){if(SL.current_team)return SL.current_team.hasThemes()},getThemes:function(){return SL.current_team?SL.current_team.get("themes"):new SL.collections.Collection},hasDefaultTheme:function(){return!!this.getDefaultTheme()},getDefaultTheme:function(){var e=this.getThemes();return SL.current_team?e.getByProperties({id:SL.current_team.get("default_theme_id")}):e.getByProperties({id:this.default_theme_id})},getProfileURL:function(){return"/"+this.username},getProfilePictureURL:function(){return this.thumbnail_url},getNameOrSlug:function(){return this.name||this.username},updateStorageUsed:function(){return new Promise(function(e,t){$.ajax({type:"GET",url:SL.endpoints.MEDIA_USAGE,context:this}).done(function(n){"number"==typeof n.bytes?(this.set("storage_used",n.bytes),e()):t()}).fail(t)}.bind(this))}}),SL.models.User.ACCOUNT_TYPE_PRO="pro",SL.models.User.ACCOUNT_TYPE_LITE="lite",SL.models.User.ACCOUNT_TYPE_DEFAULT="default",SL.models.User.ACCOUNT_TYPE_ENTERPRISE="enterprise",SL("data").tokens={get:function(e,t){t=t||{},this._addCallbacks(e,t.success,t.error),"object"==typeof this.cache[e]?this._triggerSuccessCallback(e,this.cache[e]):"loading"!==this.cache[e]&&(this.cache[e]="loading",$.ajax({type:"GET",context:this,url:SL.endpoints.ACCESS_TOKENS_LIST(e)}).done(function(t){var n=new SL.collections.Collection(t.results,SL.models.AccessToken);this.cache[e]=n,this._triggerSuccessCallback(e,n)}).fail(function(t){delete this.cache[e],this._triggerErrorCallback(e,t.status)}))},create:function(e){return new Promise(function(t,n){SL.data.tokens.get(e,{success:function(i){$.ajax({type:"POST",context:this,url:SL.endpoints.ACCESS_TOKENS_CREATE(e),data:{access_token:{name:i.getUniqueName("Link","name",!0)}}}).done(function(e){i.create(e).then(t,n)}).fail(n)}.bind(this),error:function(){console.warn("Failed to load token collection for deck "+e),n()}.bind(this)})}.bind(this))},cache:{},callbacks:{},_addCallbacks:function(e,t,n){this.callbacks[e]||(this.callbacks[e]={success:[],error:[]}),t&&this.callbacks[e].success.push(t),n&&this.callbacks[e].error.push(n)},_triggerSuccessCallback:function(e,t){var n=this.callbacks[e];if(n){for(;n.success.length;)n.success.pop().call(null,t);n.success=[],n.error=[]}},_triggerErrorCallback:function(e,t){var n=this.callbacks[e];if(n){for(;n.error.length;)n.error.pop().call(null,t);n.success=[],n.error=[]}}},SL("helpers").Fullscreen={enter:function(e){e=e||document.body;var t=this.getRequestMethod(e);t&&t.apply(e)},exit:function(){var e=document.exitFullscreen||document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen;e&&e.apply(document)},toggle:function(){SL.helpers.Fullscreen.isActive()?SL.helpers.Fullscreen.exit():SL.helpers.Fullscreen.enter()},isEnabled:function(){var e=document.fullscreenEnabled||document.mozFullscreenEnabled||document.msFullscreenEnabled||document.webkitFullscreenEnabled;return"boolean"==typeof e?e:!!this.getRequestMethod(document.body)},isActive:function(){return!!(document.fullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement)},getRequestMethod:function(e){return e.requestFullScreen||e.webkitRequestFullscreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen}},SL("helpers").PageLoader={show:function(e){e=$.extend({style:null,message:null},e);var t=$(".page-loader");0===t.length&&(t=$(['<div class="page-loader">','<div class="page-loader-inner hidden">','<div class="page-loader-spinner spinner"></div>','<p class="page-loader-message"></p>',"</div>","</div>"].join("")).appendTo(document.body),setTimeout(function(){t.find(".page-loader-inner").removeClass("hidden")},1)),e.container&&t.appendTo(e.container),e.message&&t.find(".page-loader-message").html(e.message),e.style&&t.attr("data-style",e.style),clearTimeout(this.hideTimeout),t.removeClass("frozen"),t.addClass("visible")},hide:function(){$(".page-loader").removeClass("visible"),clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(function(){$(".page-loader").addClass("frozen")}.bind(this),1e3)},waitForFonts:function(e){!1===SL.fonts.isReady()?(this.show(e),SL.fonts.ready.add(this.hide)):this.hide()}},SL.popup={HEADER_HEIGHT:70,items:[],singletons:[],open:function(e,t){for(var n,i=0;i<SL.popup.singletons.length;i++)if(SL.popup.singletons[i].factory===e){n=SL.popup.singletons[i].instance;break}return n||(n=new e(t)).isSingleton()&&SL.popup.singletons.push({factory:e,instance:n}),n.open(t),SL.popup.items.push({instance:n,factory:e}),$("html").addClass("popup-open"),n},openOne:function(e,t){for(var n=0;n<SL.popup.items.length;n++)if(e===SL.popup.items[n].factory)return SL.popup.items[n].instance;return this.open(e,t)},close:function(e){SL.popup.items.concat().forEach(function(t){e&&e!==t.factory||t.instance.close(!0)})},isOpen:function(e){for(var t=0;t<SL.popup.items.length;t++)if(!e||e===SL.popup.items[t].factory)return!0;return!1},unregister:function(e){for(var t=0;t<SL.popup.items.length;t++)SL.popup.items[t].instance===e&&(removedValue=SL.popup.items.splice(t,1),t--);0===SL.popup.items.length&&$("html").removeClass("popup-open")}},SL("components.popup").Popup=Class.extend({RELATIVE_WINDOW_PADDING:.01,FIXED_WINDOW_PADDING:5,USE_ABSOLUTE_POSITIONING:SL.util.device.IS_PHONE||SL.util.device.IS_TABLET,init:function(e){this.options=$.extend({title:"",titleItem:"",header:!0,headerActions:[{label:"Close",className:"grey",callback:this.close.bind(this)}],width:"auto",height:"auto",singleton:!1,skipIntro:!1,closeOnEscape:!0,closeOnClickOutside:!0},e),this.closed=new signals.Signal,this.render(),this.bind(),this.layout()},render:function(){this.domElement=$('<div class="sl-popup" data-id="'+this.TYPE+'">'),this.domElement.appendTo(document.body),this.backgroundElement=$('<div class="sl-popup-background">'),this.backgroundElement.appendTo(this.domElement),this.innerElement=$('<div class="sl-popup-inner">'),this.innerElement.appendTo(this.domElement),this.options.skipIntro&&this.domElement.addClass("skip-intro"),this.options.header&&(this.renderHeader(),this.renderHeaderActions()),this.bodyElement=$('<div class="sl-popup-body">'),this.bodyElement.appendTo(this.innerElement)},renderHeader:function(){this.headerElement=$(['<header class="sl-popup-header">','<h3 class="sl-popup-header-title"></h3>',"</header>"].join("")),this.headerElement.appendTo(this.innerElement),this.headerTitleElement=this.headerElement.find(".sl-popup-header-title"),this.refreshTitle()},renderHeaderActions:function(){var e=this.options.headerActions;this.options.additionalHeaderActions&&(e=this.options.additionalHeaderActions.concat(e)),e&&e.length&&(this.headerActionsElement?this.headerActionsElement.empty():this.headerActionsElement=$('<div class="sl-popup-header-actions">').appendTo(this.headerElement),e.forEach(function(e){var t;"divider"===e.type?$('<div class="divider"></div>').appendTo(this.headerActionsElement):(t="string"==typeof e.href?$('<a class="button l '+e.className+'" href="'+e.href+'">'+(e.label||"")+"</a>"):$('<button class="button l '+e.className+'">'+(e.label||"")+"</button>").on("vclick",function(t){e.callback&&(e.callback(t),t.preventDefault())}),"object"==typeof e.attributes&&t.attr(e.attributes),e.tooltip&&t.attr("data-tooltip",e.tooltip),t.appendTo(this.headerActionsElement))}.bind(this)))},replaceAdditionalHeaderActions:function(e){this.options.additionalHeaderActions=e,this.renderHeaderActions()},refreshTitle:function(){if(this.headerTitleElement.text(this.options.title),this.options.titleItem){var e=this.headerTitleElement.find(".sl-popup-header-title-item");0===e.length&&(e=$('<span class="sl-popup-header-title-item"></span>').appendTo(this.headerTitleElement)),e.text(this.options.titleItem)}else this.headerTitleElement.find(".sl-popup-header-title-item").remove()},bind:function(){this.onKeyDown=this.onKeyDown.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.onBackgroundMouseDown=this.onBackgroundMouseDown.bind(this),this.onBackgroundMouseUp=this.onBackgroundMouseUp.bind(this),this.domElement.on("vmousedown",this.onBackgroundMouseDown),this.domElement.on("vmouseup",this.onBackgroundMouseUp)},layout:function(){this.innerElement.css({width:this.options.width,height:this.options.height});var e=window.innerWidth,t=window.innerHeight,n=e*this.RELATIVE_WINDOW_PADDING+this.FIXED_WINDOW_PADDING,i=t*this.RELATIVE_WINDOW_PADDING+this.FIXED_WINDOW_PADDING;if(this.options.height){var s=this.getHeaderHeight();this.headerElement&&"number"==typeof this.options.height?this.bodyElement.css("height",this.options.height-s):this.bodyElement.css("height","auto"),this.bodyElement.css("max-height",t-s-2*i)}if(this.headerElement){var o=this.headerElement.width(),r=this.headerActionsElement.outerWidth();this.headerTitleElement.css("max-width",o-r-30)}if(this.USE_ABSOLUTE_POSITIONING){var a=$(window);this.domElement.css({position:"absolute",height:Math.max(a.height(),$(document).height())});var l=Math.round(a.scrollTop()+(a.height()-this.innerElement.outerHeight())/2),c=Math.round(a.scrollLeft()+(a.width()-this.innerElement.outerWidth())/2);l=Math.max(l,i),c=Math.max(c,n),this.innerElement.css({position:"absolute",transform:"none",top:l,left:c,maxWidth:Math.round(a.width()-2*n),maxHeight:Math.round(a.height()-2*i)})}},getHeaderHeight:function(){return this.headerElement?this.headerElement.get(0).offsetHeight:0},focus:function(){this.bodyElement.find("button, a, input, textarea").first().focus()},open:function(e){this.domElement.appendTo(document.body),this.options=$.extend(this.options,e),SL.keyboard.keydown(this.onKeyDown),$(window).on("resize",this.onWindowResize),setTimeout(function(){this.domElement.addClass("visible"),this.focus(),this.afterOpen()}.bind(this),1)},afterOpen:function(){},close:function(e){e?this.closeConfirmed():this.checkUnsavedChanges(this.closeConfirmed.bind(this))},closeConfirmed:function(){SL.keyboard.release(this.onKeyDown),$(window).off("resize",this.onWindowResize),this.domElement.removeClass("visible"),SL.popup.unregister(this),this.domElement.detach(),this.closed.dispatch(),this.isSingleton()||this.destroy()},checkUnsavedChanges:function(e){e()},isSingleton:function(){return this.options.singleton},onBackgroundMouseDown:function(e){this.mouseDownTarget=e.target},onBackgroundMouseUp:function(e){e.target===this.mouseDownTarget&&$(e.target).is(this.domElement)&&(this.options.closeOnClickOutside&&this.close(),e.preventDefault())},onWindowResize:function(){this.layout()},onKeyDown:function(e){return 27!==e.keyCode||(this.options.closeOnEscape&&this.close(),!1)},destroy:function(){SL.popup.unregister(this),SL.keyboard.release(this.onKeyDown),$(window).off("resize",this.onWindowResize),this.options=null,this.closed.dispose(),this.domElement.remove()}}),SL("components.popup").DeckTemplates=SL.components.popup.Popup.extend({TYPE:"deck-templates",init:function(e){this._super($.extend({title:"Select a Presentation Template",width:1010,height:820,singleton:!0},e)),this.pageData=[{label:"Templates",render:this.renderTemplatesPage.bind(this)},{label:"My Decks",render:this.renderDecksPage.bind(this),postProcessListItem:function(e){SL.view&&"function"==typeof SL.view.hasOwnDecks&&!1===SL.view.hasOwnDecks()&&e.addClass("disabled")}}],SL.current_user.isEnterprise()&&"enabled_no_themes"!==SL.current_user.team.get("deck_templates_mode")?(this.themeCollection=new SL.collections.Themes,this.themeCollection.load().then(function(){this.themeCollection.isEmpty()||this.pageData.unshift({label:"Themes",render:this.renderThemesPage.bind(this)}),this.renderPages()}.bind(this))["catch"](this.renderPages.bind(this))):this.renderPages()},render:function(){this._super.apply(this,arguments),this.bodyElement.addClass("has-sidebar"),this.sidebar=$('<div class="sl-popup-sidebar"></div>').appendTo(this.bodyElement),this.content=$('<div class="sl-popup-content"></div>').appendTo(this.bodyElement);var e=[{label:"",className:"transparent-white-hover icon i-question-mark",tooltip:"Click to share feedback on deck templates",attributes:{"data-feedback-mode":"contact","data-feedback-position":"bottom","data-feedback-contact-title":"Share feedback","data-feedback-smartvote-enabled":"false","data-feedback-screenshot_enabled":"false"}}];SL.current_user.isEnterpriseManager()&&e.push({label:"",className:"transparent-white-hover icon i-cog",tooltip:"Configure the deck templates component for your team",callback:this.onTeamAdminHelpClicked.bind(this)}),this.replaceAdditionalHeaderActions(e)},onTeamAdminHelpClicked:function(){window.location=SL.routes.TEAM_EDIT(SL.current_user.team)+"#deck-templates"},renderPages:function(){this.pageData.forEach(this.renderPage,this),this.selectDefaultPage()},renderPage:function(e){e.sidebarElement=$('<button class="sl-popup-sidebar-button button">'+e.label+"</button>"),e.sidebarElement.appendTo(this.sidebar),e.sidebarElement.on("vclick",this.selectPage.bind(this,e)),e.contentElement=e.render(),e.contentElement.appendTo(this.content),e.contentElement.hide(),"function"==typeof e.postProcessListItem&&e.postProcessListItem(e.sidebarElement)},renderThemesPage:function(){var e=$('<div class="sl-popup-content-page"><div class="content-placeholder"></div></div>'),t=[],n=[];return this.themeCollection.forEach(function(e){SL.current_user.team.get("default_theme_id")===e.get("id")?t.push(e):n.push(e)}),t.concat(n).forEach(function(t){this.renderTheme(t).appendTo(e)},this),e},renderTemplatesPage:function(){var e=$('<div class="sl-popup-content-page"><div class="content-placeholder">Loading templates...</div></div>'),t=new SL.collections.Decks(null,null,{list:SL.endpoints.DECK_TEMPLATES_LIST()});return t.load().then(function(){e.empty(),this.renderBlankWhiteDeckTemplate().appendTo(e),this.renderBlankBlackDeckTemplate().appendTo(e),t.forEach(function(t){this.renderTemplate(t).appendTo(e)},this)}.bind(this),function(){e.html("An error occurred while loading templates.")}),e},renderDecksPage:function(){function e(){var e=t.height(),i=t.prop("scrollHeight");t.scrollTop()>i-2*e&&n.hasNextPage()&&!n.isLoading()&&n.loadNextPage().then(function(e){e.forEach(function(e){this.renderOwnDeck(e).appendTo(t)},this)}.bind(this))}var t=$('<div class="sl-popup-content-page"><div class="content-placeholder">Loading decks...</div></div>'),n=new SL.collections.Decks(null,null,{list:SL.endpoints.DECK_LIST()+"?order=newest-first"});return n.load().then(function(){t.empty(),n.isEmpty()?t.html('<div class="content-placeholder">You don\'t have any decks yet.</div>'):(n.forEach(function(e){this.renderOwnDeck(e).appendTo(t)},this),n.hasNextPage()&&t.on("scroll",$.debounce(e.bind(this),200)))}.bind(this),function(){t.html("An error occurred while loading templates.")}),t},renderBlankWhiteDeckTemplate:function(){var e=new SL.models.Deck({title:"Blank Light Deck",thumbnail_url:"https://static.slid.es/images/deck-templates/blank-white-template-1.png",user:{}}),t=SL.deckthumbs.create(e,{preview:!1,link:!1,context:"template-blank",statusLabel:'Default <span class="icon i-check"></span>'});return t.on("vclick",function(){SL.analytics.trackDeckTemplates("selected_light_theme"),this.showCreatingDeckLoader(),window.location=SL.routes.DECK_NEW(SL.current_user.get("username"))+"?theme_color=white-blue"}.bind(this)),t},renderBlankBlackDeckTemplate:function(){var e=new SL.models.Deck({title:"Blank Dark Deck",thumbnail_url:"https://static.slid.es/images/deck-templates/blank-black-template-1.png",user:{}}),t=SL.deckthumbs.create(e,{preview:!1,link:!1,context:"template-blank"});return t.on("vclick",function(){SL.analytics.trackDeckTemplates("selected_dark_theme"),this.showCreatingDeckLoader(),window.location=SL.routes.DECK_NEW(SL.current_user.get("username"))+"?theme_color=black-blue"}.bind(this)),t},renderTheme:function(e){var t=SL.deckthumbs.createFromTheme(e,{statusLabel:SL.current_user.team.get("default_theme_id")===e.get("id")?'Default <span class="icon i-check"></span>':null});return t.on("vclick",function(){this.showCreatingDeckLoader(),window.location=SL.routes.DECK_NEW(SL.current_user.get("username"))+"?theme_id="+e.get("id")}.bind(this)),t},renderTemplate:function(e){var t=SL.deckthumbs.create(e,{preview:!0,link:!1,context:"template"});return t.find(".select-button").on("vclick",function(t){t.preventDefault(),t.stopPropagation(),this.selectTemplate(e)}.bind(this)),t.on("vclick",function(t){if(0===$(t.target).closest(".button").length)return this.selectTemplate(e),!1}.bind(this)),t},renderOwnDeck:function(e){var t=SL.deckthumbs.create(e,{preview:!0,link:!1,context:"template",selectButtonText:"Copy deck"});return t.find(".select-button").on("vclick",function(t){t.preventDefault(),t.stopPropagation(),this.selectOwnDeck(e)}.bind(this)),t.on("vclick",function(t){if(0===$(t.target).closest(".button").length)return this.selectOwnDeck(e),!1}.bind(this)),t},selectPage:function(e){SL.deckthumbs.stopAllDeckPreviews(),
this.sidebar.find(".selected").removeClass("selected"),this.content.find(".sl-popup-content-page").hide(),e.sidebarElement.addClass("selected"),e.contentElement.show()},selectDefaultPage:function(){this.pageData[0]&&this.pageData[0].contentElement&&this.selectPage(this.pageData[0])},open:function(){this._super.apply(this,arguments),this.selectDefaultPage()},close:function(){this._super.apply(this,arguments),SL.deckthumbs.stopAllDeckPreviews()},selectTemplate:function(e){SL.analytics.trackDeckTemplates("selected_template",{deck_id:e.get("id")}),this.forkTemplate(e.get("id"))},selectOwnDeck:function(e){this.forkDeck(e.get("id"))},showCreatingDeckLoader:function(){SL.helpers.PageLoader.show({message:"Creating deck..."}),setTimeout(SL.helpers.PageLoader.hide,4e3)},forkTemplate:function(e,t){return SL.helpers.PageLoader.show({message:"Creating deck..."}),$.ajax({type:"POST",url:t||SL.endpoints.FORK_TEMPLATE(e)}).done(function(e){setTimeout(SL.helpers.PageLoader.hide,4e3),window.location=SL.routes.DECK_EDIT(SL.current_user.get("username"),e.deck.slug)}).fail(function(e){e.responseJSON&&e.responseJSON.deck_limit?SL.components.prompts.showDeckLimitReached()["catch"](function(){SL.notify(SL.locale.get("GENERIC_ERROR"),"negative")}):SL.notify(SL.locale.get("GENERIC_ERROR"),"negative"),SL.helpers.PageLoader.hide()})},forkDeck:function(e){return this.forkTemplate(e,SL.endpoints.FORK_DECK(e))},destroy:function(){SL.deckthumbs.stopAllDeckPreviews(),this._super.apply(this,arguments)}}),SL("components.decksharer").DeckSharer=SL.components.popup.Popup.extend({TYPE:"decksharer",MODE_PUBLIC:{id:"public",width:560},MODE_UPGRADE_OR_PUBLISH:{id:"upgrade-or-publish",width:800},MODE_PRIVATE:{id:"private",width:800},init:function(e){var t=e.deck,n=t.belongsTo(SL.current_user);this.privileges={notifyViaEmail:!0,shareViaEmail:!0,deleteTokens:!0},n&&(t.isVisibilitySelf()||t.isVisibilityTeam())&&!SL.current_user.privileges.privateLinks()?this.mode=this.MODE_UPGRADE_OR_PUBLISH:n&&(t.isVisibilitySelf()||t.isVisibilityTeam())?this.mode=this.MODE_PRIVATE:!n&&(t.isVisibilitySelf()||t.isVisibilityTeam())&&SL.current_user.isMemberOfCurrentTeam()?(this.mode=this.MODE_PRIVATE,this.privileges.shareViaEmail=!1):this.mode=this.MODE_PUBLIC,this._super($.extend({title:"Share",titleItem:'"'+t.get("title")+'"',width:this.mode.width},e))},switchMode:function(e){this.mode=e,this.bodyElement.empty(),this.renderMode(),this.options.width=this.mode.width,this.layout()},render:function(){this._super(),this.renderMode()},renderMode:function(){this.mode.id===this.MODE_UPGRADE_OR_PUBLISH.id?this.renderUpgradeOrPublish():this.mode.id===this.MODE_PRIVATE.id?this.renderPrivate():this.renderPublic()},renderPublic:function(){this.shareOptions=new SL.components.decksharer.ShareOptions(this.options.deck,this.options),this.shareOptions.pageChanged.add(this.layout.bind(this)),this.shareOptions.appendTo(this.bodyElement)},renderInternal:function(){this.renderPrivate()},renderPrivate:function(){this.domElement.attr("data-content-state","loading"),this.placeholderElement=$(['<div class="decksharer-placeholder">','<div class="decksharer-placeholder-inner">','<div class="spinner" data-spinner-color="#999"></div>',"</div>","</div>"].join("")),this.placeholderElement.appendTo(this.bodyElement),SL.util.html.generateSpinners(),SL.data.tokens.get(this.options.deck.get("id"),{success:function(e){this.tokens=e,this.tokenList=new SL.components.decksharer.TokenList(this.options.deck,this.tokens,{privileges:this.privileges}),this.tokenList.appendTo(this.bodyElement),this.tokenList.tokenSelected.add(this.onTokenSelected.bind(this)),this.tokenList.tokensEmptied.add(this.onTokensEmptied.bind(this)),this.domElement.removeAttr("data-content-state"),0===this.tokens.size()?this.renderTokenPlaceholder():this.tokenList.selectDefault()}.bind(this),error:function(e){this.destroy(),401===e?SL.notify("It looks like you're no longer signed in to Slides. Please open a new tab and sign in.","negative"):SL.notify(SL.locale.get("GENERIC_ERROR"),"negative")}.bind(this)})},renderUpgradeOrPublish:function(){this.domElement.attr("data-content-state","placeholder"),this.placeholderElement=$(['<div class="decksharer-placeholder">','<div class="decksharer-placeholder-inner">','<div class="left">','<div class="lock-icon icon i-lock-stroke"></div>',"</div>",'<div class="right">',"<h3>Upgrade required</h3>","<p>You can't share privately on your current plan. Please upgrade your account to gain access to private links, password protection and more.</p>",'<a class="button upgrade-button l" href="'+SL.routes.PRICING+'">View upgrade options</a>','<button class="button publish-button ladda-button l light-grey" data-style="zoom-out" data-spinner-color="#222">Make deck public</button>',"</div>","</div>","</div>"].join("")),this.placeholderElement.appendTo(this.bodyElement);var e=this.placeholderElement.find(".publish-button");e.on("vclick",function(){$.ajax({type:"POST",url:SL.endpoints.PUBLISH_DECK(this.options.deck.get("id")),context:this,data:{visibility:SL.models.Deck.VISIBILITY_ALL}}).then(function(){this.domElement.removeAttr("data-content-state");var t=e.data("data");t&&t.stop(),this.options.deck.set("visibility",SL.models.Deck.VISIBILITY_ALL),this.switchMode(this.MODE_PUBLIC),SL.notify("Published successfully")},function(){var t=e.data("data");t&&t.stop(),SL.notify(SL.locale.get("GENERIC_ERROR"),"negative")})}.bind(this)),Ladda.bind(e.get(0))},resetContentArea:function(){this.tokenOptions&&(this.tokenOptions.destroy(),this.tokenOptions=null),this.placeholderElement&&(this.placeholderElement.addClass("hidden"),setTimeout(this.placeholderElement.remove.bind(this.placeholderElement),300),this.placeholderElement=null)},renderTokenPlaceholder:function(){this.domElement.attr("data-content-state","placeholder"),this.resetContentArea();var e=this.options.deck.isVisibilityTeam()?"This deck is internal":"This deck is private";this.placeholderElement=$(['<div class="decksharer-placeholder">','<div class="decksharer-placeholder-inner">','<div class="left">','<div class="lock-icon icon i-lock-stroke"></div>',"</div>",'<div class="right">',"<h3>"+e+"</h3>","<p>To share it you'll need to create a private link.</p>",'<button class="button create-button xl ladda-button" data-style="zoom-out">Create private link</button>',"</div>","</div>","</div>"].join("")),this.placeholderElement.appendTo(this.bodyElement),this.placeholderElement.find(".create-button").on("vclick",function(){this.tokenList.create()}.bind(this)),Ladda.bind(this.placeholderElement.find(".create-button").get(0)),this.layout()},renderTokenOptions:function(e){this.domElement.removeAttr("data-content-state");var t=!this.tokenOptions;this.resetContentArea(),this.tokenOptions=new SL.components.decksharer.TokenOptions(this.options.deck,e,$.extend({privileges:this.privileges},this.options)),this.tokenOptions.appendTo(this.bodyElement,t),this.tokenOptions.tokenRenamed.add(this.tokenList.setTokenLabel.bind(this.tokenList)),this.tokenOptions.shareOptions.pageChanged.add(this.layout.bind(this)),this.layout()},onTokenSelected:function(e){this.renderTokenOptions(e)},onTokensEmptied:function(){this.renderTokenPlaceholder()},destroy:function(){this.shareOptions&&(this.shareOptions.destroy(),this.shareOptions=null),this.tokenList&&(this.tokenList.destroy(),this.tokenList=null),this.options.deck=null,this.tokens=null,this._super()}}),SL("components.decksharer").ShareOptions=Class.extend({USE_READONLY:!SL.util.device.IS_PHONE&&!SL.util.device.IS_TABLET,init:function(e,t){this.deck=e,this.options=$.extend({token:null,linkEnabled:!0,embedEnabled:!0,emailEnabled:!0},t),this.options.privileges&&(this.options.emailEnabled=this.options.emailEnabled&&this.options.privileges.shareViaEmail),this.onLinkInputMouseDown=this.onLinkInputMouseDown.bind(this),this.onEmbedOutputMouseDown=this.onEmbedOutputMouseDown.bind(this),this.onEmbedStyleChanged=this.onEmbedStyleChanged.bind(this),this.onEmbedSizeChanged=this.onEmbedSizeChanged.bind(this),this.onEmbedOptionChanged=this.onEmbedOptionChanged.bind(this),this.saveEmbedWhitelistThrottled=$.debounce(this.saveEmbedWhitelist.bind(this),1500,!1),this.width=SL.components.decksharer.ShareOptions.DEFAULT_WIDTH,this.height=SL.components.decksharer.ShareOptions.DEFAULT_HEIGHT,this.style="",this.pageChanged=new signals.Signal,this.render(),this.generate()},render:function(){this.domElement=$('<div class="decksharer-share-options">'),this.tabsElement=$('<div class="decksharer-share-options-tabs">').appendTo(this.domElement),this.pagesElement=$('<div class="decksharer-share-options-pages">').appendTo(this.domElement),this.options.deckView?(this.tabsElement.hide(),this.renderDeckViewLink(),this.showPage(SL.components.decksharer.ShareOptions.LINK_PAGE_ID)):(this.options.linkEnabled&&this.renderLink(),this.options.embedEnabled&&this.renderEmbed(),this.options.emailEnabled&&SL.util.user.isLoggedIn()&&this.renderEmail(),this.tabsElement.find(".decksharer-share-options-tab").on("vclick",function(e){var t=$(e.currentTarget).attr("data-id");this.showPage(t),SL.analytics.trackDeckSharing("tab_selected",{tab_id:t})}.bind(this)),this.showPage(this.tabsElement.find(".decksharer-share-options-tab").first().attr("data-id")))},renderLink:function(){this.tabsElement.append('<div class="decksharer-share-options-tab" data-id="'+SL.components.decksharer.ShareOptions.LINK_PAGE_ID+'">Copy Link</div>'),this.pagesElement.append(['<div class="decksharer-share-options-page sl-form" data-id="link">','<div class="unit link-unit">',"<label>Link URL</label>","</div>","</div>"].join("")),this.renderLinkInput();var e=this.pagesElement.find(".decksharer-share-options-page");e.append('<p class="form-label">Link options</p>'),this.canDeeplink()&&(e.append(['<div class="unit sl-checkbox outline">','<input id="link-deeplink-checkbox" type="checkbox" class="link-deeplink-input" />','<label for="link-deeplink-checkbox">Link to current slide</label>',"</div>"].join("")),this.linkDeeplinkInput=this.pagesElement.find('[data-id="link"] .link-deeplink-input'),this.linkDeeplinkInput.on("change",this.onDeeplinkToggled.bind(this))),e.append(['<div class="unit sl-checkbox outline fullscreen-unit">','<input id="fullscreen-checkbox" type="checkbox" class="fullscreen-input" />','<label for="fullscreen-checkbox">Fullscreen</label>',"</div>"].join("")),this.fullscreenInput=this.pagesElement.find('[data-id="link"] .fullscreen-input'),this.fullscreenInput.on("change",this.onLinkFullscreenToggled.bind(this)),2===e.find(".sl-checkbox").length&&e.append($('<div class="half-units">').append(e.find(".sl-checkbox")))},renderLinkInput:function(){this.USE_READONLY?(this.linkInput=$('<input type="text" class="link-input" readonly="readonly" />'),this.linkInput.on("mousedown",this.onLinkInputMouseDown),this.linkInput.appendTo(this.pagesElement.find('[data-id="link"] .link-unit'))):(this.linkAnchor=$('<a href="#" class="input-field">'),this.linkAnchor.appendTo(this.pagesElement.find('[data-id="link"] .link-unit')))},renderDeckViewLink:function(){this.pagesElement.append(['<div class="decksharer-share-options-page sl-form" data-id="link">','<div class="unit link-unit">',"<label>Presentation link</label>","</div>","</div>"].join("")),"live"===this.options.deckView?(this.pagesElement.find('[data-id="link"] .link-unit label').text("Live presentation link"),this.pagesElement.find('[data-id="link"] .link-unit').append('<p class="unit-description">This links lets viewers follow the presentation in real-time.</p>')):"presenter"===this.options.deckView&&(this.pagesElement.find('[data-id="link"] .link-unit label').text("Presenter URL"),this.pagesElement.find('[data-id="link"] .link-unit').append('<p class="unit-description">Share this link with someone to let them present the deck. Presenters will also be able to access speaker notes, if there are any.</p>')),this.renderLinkInput()},renderEmbed:function(){this.tabsElement.append('<div class="decksharer-share-options-tab" data-id="'+SL.components.decksharer.ShareOptions.EMBED_PAGE_ID+'">Embed</div>');var e='<option value="dark" selected>Dark</option><option value="light">Light</option>';this.options.deck.user.privileges.hideEmbedFooter()&&(e+='<option value="hidden">Seamless (no footer)</option>',e+='<option value="transparent">Transparent (no footer or background)</option>'),this.pagesElement.append(['<div class="decksharer-share-options-page sl-form" data-id="embed">','<div class="embed-options">','<div class="unit width">',"<label>Width</label>",'<input type="text" name="width" maxlength="4" />',"</div>",'<div class="unit height">',"<label>Height</label>",'<input type="text" name="height" maxlength="4" />',"</div>",'<div class="unit footer-style">',"<label>Style</label>",'<select class="sl-select" name="style">',e,"</select>","</div>","</div>",'<div class="embed-extra-options"></div>','<p class="form-label">Embed code</p>','<div class="embed-output-wrapper">','<div class="embed-output">','<textarea name="output"></textarea>',"</div>",'<div class="embed-actions">','<button class="button s light-grey copy-embed-code" data-tooltip-alignment="r" data-tooltip="Copy to clipboard"><span class="icon i-content_copy"></span></button>','<button class="button s light-grey preview-embed-code" data-tooltip-alignment="r" data-tooltip="Preview"><span class="icon i-eye"></span></button>',"</div>","</div>","</div>"].join("")),this.embedElement=this.pagesElement.find('[data-id="embed"]'),this.embedElement.find(".copy-embed-code").on("vclick",function(){SL.util.copyToClipboard(this.embedOutputElement.text()),SL.notify("Copied embed code to clipboard!")}.bind(this)),this.embedElement.find(".preview-embed-code").on("vclick",function(){SL.popup.openOne(SL.components.popup.PreviewMedia,{mediaType:"iframe",mediaURL:this.embedURL,mediaWidth:this.width,mediaHeight:this.height,titleItem:"Embed"})}.bind(this)),this.options.deck.user.privileges.hideEmbedFooter()&&this.options.deck.isVisibilityAll()&&($(['<p class="form-label">Embed options</p>','<div class="unit sl-checkbox outline">','<input id="embed-byline-checkbox" type="checkbox" class="embed-hide-byline-input" />','<label for="embed-byline-checkbox">Hide byline</label>',"</div>",'<div class="unit sl-checkbox outline">','<input id="embed-share-checkbox" type="checkbox" class="embed-hide-share-input" />','<label for="embed-share-checkbox">Hide share button</label>',"</div>"].join("")).appendTo(this.embedElement.find(".embed-extra-options")),this.embedHideBylineInput=this.embedElement.find(".embed-hide-byline-input"),this.embedHideShareInput=this.embedElement.find(".embed-hide-share-input"),this.embedHideBylineInput.on("change",this.onEmbedOptionChanged),this.embedHideShareInput.on("change",this.onEmbedOptionChanged)),this.options.deck.user.privileges.embedWhitelist()&&this.options.token&&($(['<div class="unit">',"<label>Restrict where this deck is embedded</label>",'<p class="unit-description">',"Set a domain to limit where this can be embedded. Empty means unrestricted.","</p>",'<input type="text" name="embed-domain-whitelist" class="embed-domain-whitelist" maxlength="512" placeholder="example.com" />',"</div>"].join("")).appendTo(this.embedElement.find(".embed-extra-options")),this.embedDomainInput=this.embedElement.find(".embed-domain-whitelist"),this.embedDomainInput.on("blur",function(){this.formatEmbedWhitelist(!0),this.saveEmbedWhitelist()}.bind(this)),this.embedDomainInput.on("input",this.saveEmbedWhitelistThrottled),this.embedDomainInput.val(this.options.token.get("embed_domain_whitelist")),$(['<div class="unit sl-checkbox outline">','<input type="checkbox" id="embed-only" class="embed-only" />','<label for="embed-only">This link is <strong>only</strong> for embedding. (Disables link sharing.)</label>',"</div>"].join("")).appendTo(this.embedElement.find(".embed-extra-options")),this.embedOnlyInput=this.embedElement.find(".embed-only"),this.embedOnlyInput.on("change",function(){this.saveEmbedOnly()}.bind(this)),this.embedOnlyInput.prop("checked",this.options.token.get("embed_only"))),this.options.deck.get("share_notes")&&($(['<p class="form-label">This deck is configured to show on-page speaker notes</p>','<div class="unit sl-checkbox outline">','<input id="embed-hide-notes-checkbox" type="checkbox" class="embed-hide-notes-input" />','<label for="embed-hide-notes-checkbox">Hide notes from embed view</label>',"</div>"].join("")).appendTo(this.embedElement.find(".embed-extra-options")),this.embedHideNotesInput=this.embedElement.find(".embed-hide-notes-input"),this.embedHideNotesInput.on("change",this.onEmbedOptionChanged)),SL.current_user.get("id")===this.options.deck.user.get("id")&&!1===this.options.deck.user.privileges.hideEmbedFooter()&&this.embedElement.append(['<a class="button outline thin embed-upgrade-promotion" href="'+SL.routes.PRICING+'">',"Upgrade to remove Slides branding from your embeds, restrict where your presentations can be embedded, and much more","</a>"].join("")),this.canDeeplink()&&($(['<div class="unit sl-checkbox outline">','<input id="embed-deeplink-checkbox" type="checkbox" class="embed-deeplink-input" />','<label for="embed-deeplink-checkbox">Start embed on current slide</label>',"</div>"].join("")).appendTo(this.embedElement.find(".embed-extra-options")),this.embedDeeplinkInput=this.embedElement.find(".embed-deeplink-input"),this.embedDeeplinkInput.on("change",this.onEmbedOptionChanged)),this.embedStyleElement=this.embedElement.find("select[name=style]"),this.embedWidthElement=this.embedElement.find("input[name=width]"),this.embedHeightElement=this.embedElement.find("input[name=height]"),this.embedOutputElement=this.embedElement.find("textarea"),this.embedStyleElement.on("change",this.onEmbedStyleChanged),this.embedWidthElement.on("input",this.onEmbedSizeChanged),this.embedHeightElement.on("input",this.onEmbedSizeChanged),this.USE_READONLY?(this.embedOutputElement.attr("readonly","readonly"),this.embedOutputElement.on("mousedown",this.onEmbedOutputMouseDown)):this.embedOutputElement.on("input",this.generate.bind(this)),this.embedWidthElement.val(this.width),this.embedHeightElement.val(this.height)},renderEmail:function(){this.tabsElement.append('<div class="decksharer-share-options-tab" data-id="'+SL.components.decksharer.ShareOptions.EMAIL_PAGE_ID+'">Email</div>'),this.pagesElement.append(['<div class="decksharer-share-options-page" data-id="email">','<div class="sl-form">','<div class="unit" data-validate="none" data-required>',"<label>From</label>",'<input type="text" class="email-from" placeholder="Your Name" maxlength="255" />',"</div>",'<div class="unit" data-validate="none" data-required>',"<label>To</label>",'<input type="text" class="email-to" placeholder="john@example.com, jane@example.com" maxlength="2500" />',"</div>",'<div class="unit text" data-validate="none" data-required>',"<label>Message</label>",'<p class="unit-description">A link to the deck is automatically included after the message.</p>','<textarea class="email-body" rows="3" maxlength="2500"></textarea>',"</div>",'<div class="submit-wrapper">','<button type="submit" class="button positive l ladda-button email-submit" data-style="zoom-out">Send</button>',"</div>","</div>",'<div class="email-success">','<div class="email-success-icon icon i-checkmark"></div>','<p class="email-success-description">Email sent!</p>',"</div>","</div>"].join("")),this.emailElement=this.pagesElement.find('[data-id="email"]'),this.emailSuccess=this.emailElement.find(".email-success"),this.emailForm=this.emailElement.find(".sl-form"),this.emailFromElement=this.emailForm.find(".email-from"),this.emailToElement=this.emailForm.find(".email-to"),this.emailBodyElement=this.emailForm.find(".email-body"),this.emailSubmitButton=this.emailForm.find(".email-submit"),this.emailFormUnits=[],this.emailForm.find(".unit[data-validate]").each(function(e,t){this.emailFormUnits.push(new SL.components.FormUnit(t))}.bind(this)),this.emailSubmitButton.on("vclick",this.onEmailSubmitClicked.bind(this)),this.emailSubmitLoader=Ladda.create(this.emailSubmitButton.get(0))},appendTo:function(e){this.domElement.appendTo(e),this.refreshTabsVisibility()},showPage:function(e){this.tabsElement.find(".decksharer-share-options-tab").removeClass("is-selected"),this.pagesElement.find(".decksharer-share-options-page").removeClass("is-selected"),this.tabsElement.find('[data-id="'+e+'"]').addClass("is-selected"),this.pagesElement.find('[data-id="'+e+'"]').addClass("is-selected"),this.pageChanged.dispatch(e)},getPageID:function(){return this.tabsElement.find(".is-selected").attr("data-id")},generate:function(){var e,t=this.getShareURLs();this.deck.has("title")&&!/^deck$/i.test(this.deck.get("title").trim())&&(e=SL.util.escapeHTMLEntities(this.deck.get("title"),{quotes:!0})),this.embedURL=t.embed;var n=window.Reveal&&window.Reveal.isReady()?window.Reveal.getIndices():null;if(n&&this.embedDeeplinkInput&&this.embedDeeplinkInput.is(":checked")&&(n.v>0?this.embedURL+="#/"+n.h+"/"+n.v:n.h>0&&(this.embedURL+="#/"+n.h)),this.embedOutputElement){var i=['src="'+this.embedURL+'"','width="'+this.width+'"','height="'+this.height+'"'];e&&i.push('title="'+e+'"');var s="<iframe "+i.join(" ")+' scrolling="no" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>';this.embedOutputElement.text(s)}var o=this.fullscreenInput&&this.fullscreenInput.is(":checked")?t.fullscreen:t.show;n&&this.linkDeeplinkInput&&this.linkDeeplinkInput.is(":checked")&&(n.v>0?o+="#/"+n.h+"/"+n.v:n.h>0&&(o+="#/"+n.h)),this.linkInput&&this.linkInput.val(o),this.linkAnchor&&this.linkAnchor.attr("href",o).text(o),this.emailElement&&(SL.current_user&&this.emailFromElement.val(SL.current_user.getNameOrSlug()),e?this.emailBodyElement.val('Check out this deck "'+e+'"'):this.emailBodyElement.val("Check out this deck"))},getShareURLs:function(){var e="https:",t={show:this.deck.getURL({protocol:e,view:this.options.deckView}),fullscreen:this.deck.getURL({protocol:e,view:"fullscreen"}),embed:this.deck.getURL({protocol:e,view:"embed"})},n=[];return this.options.token&&this.options.token.has("token")&&n.push("token="+this.options.token.get("token")),t.show+=n.length?"?"+n.join("&"):"",t.fullscreen+=n.length?"?"+n.join("&"):"","string"==typeof this.style&&this.style.length>0&&n.push("style="+this.style),!0===this.embedHideBylineValue&&n.push("byline=hidden"),!0===this.embedHideShareValue&&n.push("share=hidden"),!0===this.embedHideNotesValue&&n.push("shared_notes=hidden"),t.embed+=n.length?"?"+n.join("&"):"",t},canDeeplink:function(){var e=window.Reveal&&window.Reveal.isReady()?window.Reveal.getIndices():null;return e&&(e.h>0||e.v>0)},formatEmbedWhitelist:function(e){var t=this.embedDomainInput.val();return t=(t=t.trim()).replace(/[^a-zA-Z0-9:%\.\/\-\_\#\*]/g,""),!0===e&&this.embedDomainInput.val(t),t},saveEmbedWhitelist:function(){this.formatEmbedWhitelist()!==this.options.token.get("embed_domain_whitelist")&&(this.options.token.set("embed_domain_whitelist",this.embedDomainInput.val()),this.options.token.save(["embed_domain_whitelist"]).fail(function(){SL.notify("Failed to save embed restriction","negative")}.bind(this)).done(function(){SL.notify("Embed restriction saved"),this.domElement.removeClass("is-unsaved")}.bind(this)))},saveEmbedOnly:function(){var e=this.embedOnlyInput.is(":checked");e!==this.options.token.get("embed_only")&&(this.options.token.set("embed_only",e),this.refreshTabsVisibility(),this.options.token.save(["embed_only"]).fail(function(){SL.notify("Failed to save embed restriction","negative")}.bind(this)).done(function(){SL.notify("Embed restriction saved"),this.domElement.removeClass("is-unsaved")}.bind(this)))},refreshTabsVisibility:function(){this.options.token&&this.options.token.get("embed_only")?(this.showPage(SL.components.decksharer.ShareOptions.EMBED_PAGE_ID),this.domElement.parent().addClass("embed-only")):this.domElement.parent().removeClass("embed-only")},onEmbedOutputMouseDown:function(e){e.preventDefault(),this.embedOutputElement.focus().select(),SL.analytics.trackDeckSharing("embed_code_selected")},onLinkInputMouseDown:function(e){e.preventDefault(),$(e.target).focus().select(),SL.analytics.trackDeckSharing("url_selected")},onDeeplinkToggled:function(){this.generate(),SL.analytics.trackDeckSharing("deeplink_toggled")},onLinkFullscreenToggled:function(){this.generate(),SL.analytics.trackDeckSharing("fullscreen_toggled")},onEmbedSizeChanged:function(){this.width=parseInt(this.embedWidthElement.val(),10)||1,this.height=parseInt(this.embedHeightElement.val(),10)||1,this.generate()},onEmbedStyleChanged:function(){this.style=this.embedStyleElement.val(),this.generate()},onEmbedOptionChanged:function(){this.embedHideBylineInput&&(this.embedHideBylineValue=this.embedHideBylineInput.is(":checked")),this.embedHideShareInput&&(this.embedHideShareValue=this.embedHideShareInput.is(":checked")),this.embedHideNotesInput&&(this.embedHideNotesValue=this.embedHideNotesInput.is(":checked")),this.generate()},onEmailSubmitClicked:function(e){if(this.emailFormUnits.every(function(e){return e.beforeSubmit()})&&!this.emailXHR){SL.analytics.trackDeckSharing("submit_email");var t=this.emailFromElement.val(),n=this.emailToElement.val(),i=this.emailBodyElement.val();this.emailSubmitLoader.start();var s={deck_share:{emails:n=(n=(n=n.split(",")).map(function(e){return e.trim()})).join(","),from:t,body:i}};this.options.token&&(s.deck_share.access_token_id=this.options.token.get("id")),this.emailXHR=$.ajax({url:SL.endpoints.SHARE_DECK_VIA_EMAIL(this.deck.get("id")),type:"POST",context:this,data:s}).done(function(){this.emailSuccess.addClass("visible"),setTimeout(function(){this.emailSuccess.removeClass("visible"),this.emailToElement.val(""),this.emailBodyElement.val(""),this.generate()}.bind(this),3e3),SL.analytics.trackDeckSharing("submit_email_success")}).fail(function(){SL.notify("Failed to send email","negative"),SL.analytics.trackDeckSharing("submit_email_error")}).always(function(){this.emailXHR=null,this.emailSubmitLoader.stop()})}e.preventDefault()},destroy:function(){this.pageChanged.dispose(),this.deck=null,this.domElement.remove()}}),SL.components.decksharer.ShareOptions.DEFAULT_WIDTH=576,SL.components.decksharer.ShareOptions.DEFAULT_HEIGHT=420,SL.components.decksharer.ShareOptions.LINK_PAGE_ID="link",SL.components.decksharer.ShareOptions.EMBED_PAGE_ID="embed",SL.components.decksharer.ShareOptions.EMAIL_PAGE_ID="email",SL("components.decksharer").TokenList=Class.extend({init:function(e,t,n){this.deck=e,this.tokens=t,this.options=n,this.tokenSelected=new signals.Signal,this.tokensEmptied=new signals.Signal,this.render()},render:function(){this.domElement=$('<div class="decksharer-token-list">'),this.listItems=$('<div class="decksharer-token-list-items">').appendTo(this.domElement),this.createButton=$(['<div class="decksharer-token-list-create ladda-button" data-style="zoom-out" data-spinner-color="#222">','<span class="icon i-plus"></span>',"</div>"].join("")),this.createButton.on("vclick",this.create.bind(this)),this.createButton.appendTo(this.domElement),this.createButtonLoader=Ladda.create(this.createButton.get(0)),this.tokens.forEach(this.renderToken.bind(this)),this.scrollShadow=new SL.components.ScrollShadow({parentElement:this.domElement,contentElement:this.listItems,footerElement:this.createButton,resizeContent:!1})},renderToken:function(e){var t=e.get("deck_view_count")||0,n=t+" "+SL.util.string.pluralize("view","s",1!==t),i=$(['<div class="decksharer-token-list-item" data-id="'+e.get("id")+'">','<span class="label"></span>','<div class="meta">','<span class="views">'+n+"</span>",this.options.privileges.deleteTokens?'<span class="icon i-trash delete" data-tooltip="Delete link"></span>':"","</div>","</div>"].join(""));i.appendTo(this.listItems),i.on("vclick",function(t){if($(t.target).closest(".delete").length>0)SL.prompt({anchor:i,alignment:"r",title:"Are you sure you want to delete this link? It will stop working for anyone you have already shared it with.",type:"select",data:[{html:"<h3>Cancel</h3>"},{html:"<h3>Delete</h3>",selected:!0,className:"negative",callback:function(){this.remove(e,i)}.bind(this)}]});else this.select(e)}.bind(this)),this.setTokenLabel(e)},setTokenLabel:function(e,t){var n=this.listItems.find(".decksharer-token-list-item[data-id="+e.get("id")+"]");n.length&&(t||(t=e.get("name")||e.get("token")),n.find(".label").html(t))},appendTo:function(e){this.domElement.appendTo(e),this.scrollShadow.sync()},selectDefault:function(){this.select(this.tokens.first()),this.scrollShadow.sync()},select:function(e){if(e&&e!==this.selectedToken){var t=this.listItems.find(".decksharer-token-list-item[data-id="+e.get("id")+"]");t.length&&(this.listItems.find(".decksharer-token-list-item").removeClass("is-selected"),t.addClass("is-selected"),this.tokenSelected.dispatch(e),this.selectedToken=e)}},create:function(e){var t=0===this.tokens.size();e&&this.createButtonLoader.start(),SL.data.tokens.create(this.deck.get("id")).then(function(e){t?SL.analytics.trackDeckSharing("created_first_token"):SL.analytics.trackDeckSharing("created_additional_token"),this.renderToken(e),this.select(e),this.createButtonLoader.stop(),this.scrollShadow.sync()}.bind(this),function(){SL.notify(SL.locale.get("GENERIC_ERROR"),"negative"),this.createButtonLoader.stop()}.bind(this))},remove:function(e,t){e.destroy().fail(function(){SL.notify(SL.locale.get("GENERIC_ERROR"),"negative")}.bind(this)).done(function(){SL.util.anim.collapseListItem(t,function(){t.remove(),this.scrollShadow.sync()}.bind(this),300),this.tokens.remove(e),this.selectedToken===e&&(this.selectedToken=null,this.selectDefault()),0===this.tokens.size()&&this.tokensEmptied.dispatch(),SL.analytics.trackDeckSharing("deleted_token")}.bind(this))},destroy:function(){this.createButtonLoader&&this.createButtonLoader.stop(),this.scrollShadow&&this.scrollShadow.destroy(),this.tokens=null,this.domElement.remove()}}),SL("components.decksharer").TokenOptions=Class.extend({init:function(e,t,n){this.deck=e,this.token=t,this.options=n,this.tokenRenamed=new signals.Signal,this.render(),this.bind()},render:function(){this.domElement=$('<div class="decksharer-token-options">'),this.innerElement=$('<div class="sl-form decksharer-token-options-inner">'),this.innerElement.appendTo(this.domElement),this.renderNameAndPassword(),this.renderNotification(),this.renderFirstViewTimestamp(),this.renderLinkType(),this.renderShareOptions()},renderNameAndPassword:function(){this.namePasswordElement=$('<div class="split-units">'),this.namePasswordElement.appendTo(this.innerElement),this.namePasswordElement.append('<input name="dummyusername" type="text" style="display:none;"><input name="dummyuassword" type="password" style="display:none;">'),this.nameUnit=$(['<div class="unit">','<label class="form-label" for="token-name">Name</label>','<p class="unit-description">So you can tell your links apart.</p>','<input class="input-field" type="text" id="token-name" maxlength="255" autocomplete="off" />',"</div>"].join("")),this.nameUnit.appendTo(this.namePasswordElement),this.nameInput=this.nameUnit.find("input"),this.nameInput.val(this.token.get("name")),this.passwordUnit=$(['<div class="unit">','<label class="form-label" for="token-password">Password<span class="optional-label">- optional</span></label>','<p class="unit-description">Viewers need to enter this.</p>','<input class="input-field" type="password" id="token-password" placeholder="&bull;&bull;&bull;&bull;&bull;&bull;" maxlength="255" autocomplete="off" />',"</div>"].join("")),this.passwordUnit.appendTo(this.namePasswordElement),this.passwordInput=this.passwordUnit.find("input"),this.passwordInput.val(this.token.get("password"))},renderNotification:function(){this.notificationUnit=$(['<div class="unit sl-checkbox outline notification-unit">','<input id="notification-checkbox" type="checkbox" class="notification-input" />','<label for="notification-checkbox">Notify me via email the first time this link is opened</label>',"</div>"].join("")),this.notificationUnit.appendTo(this.innerElement),this.notificationInput=this.notificationUnit.find(".notification-input"),this.notificationInput.prop("checked",this.token.get("notify_on_view")),this.options.privileges.notifyViaEmail?this.token.get("deck_view_count")>0&&this.notificationUnit.hide():this.notificationUnit.hide()},renderFirstViewTimestamp:function(){var e=this.token.get("first_viewed_at");e&&this.innerElement.append(['<div class="unit">','<div class="unit-description" style="display: flex; align-items: center;">','<span class="icon i-clock" style="margin-right: 6px;"></span>',"This link was first opened "+moment(e).format("MMM DD YYYY [at] h:mm a")+".","</div>","</div>"].join(""))},renderLinkType:function(){
var e="presenter"===this.token.get("link_type"),t=this.deck.belongsTo(SL.current_user)&&SL.current_user.isEnterprise();t=t&&e,this.linkTypeUnit=$(['<div class="unit radio link-type-unit">','<label class="form-label">Link type</label>','<div class="link-type-options">','<input type="radio" name="link-type" value="view" id="link-type-1" '+(e?"":"checked")+">",'<label class="link-type-radio radio-subtle" for="link-type-1">','Viewer link<span class="optional-label">- default</span>','<p class="radio-description">',"Anyone with the link can view the presentation.","</p>","</label>",'<input type="radio" name="link-type" value="presenter" id="link-type-2" '+(e?"checked":"")+">",'<label class="link-type-radio radio-subtle" for="link-type-2">',"Presenter link",'<p class="radio-description">',"Anyone with the link can present and see speaker notes.","</p>","</label>","</div>","</div>"].join("")),this.linkTypeUnit.appendTo(this.innerElement),this.linkTypeUnit.find('input[name="link-type"]').on("change",this.onLinkTypeChange.bind(this)),"live"!==this.options.deckView&&t||this.linkTypeUnit.remove()},renderShareOptions:function(){this.shareOptions&&this.shareOptions.destroy();var e=this.options.deckView;e||(e="presenter"===this.token.get("link_type")?"presenter":null),this.shareOptions=new SL.components.decksharer.ShareOptions(this.deck,$.extend({token:this.token,deckView:e},this.options)),this.shareOptions.appendTo(this.domElement)},bind:function(){this.saveChanges=this.saveChanges.bind(this),this.nameInput.on("input",this.onNameInput.bind(this)),this.nameInput.on("change",this.onNameChange.bind(this)),this.passwordInput.on("change",this.onPasswordChange.bind(this)),this.passwordInput.on("input",this.onPasswordInput.bind(this)),this.notificationInput&&this.notificationInput.on("change",this.onNotificationChange.bind(this))},appendTo:function(e,t){this.domElement.appendTo(e),t||SL.util.dom.calculateStyle(this.domElement)},checkUnsavedChanges:function(){clearTimeout(this.checkUnsavedChangesTimeout);var e=this.token.get("name")||"",t=this.token.get("password")||"",n=this.token.get("link_type"),i=this.token.get("notify_on_view")||!1,s=this.nameInput.val(),o=this.passwordInput.val(),r=this.linkTypeUnit.find("input[type=radio]:checked").val(),a=!!this.notificationInput&&this.notificationInput.is(":checked");(o!==t||s!==e||r!==n||a!==i)&&this.saveChanges()},checkUnsavedChangesThrottled:function(){clearTimeout(this.checkUnsavedChangesTimeout),this.checkUnsavedChangesTimeout=setTimeout(this.checkUnsavedChanges.bind(this),1e3)},saveChanges:function(){clearTimeout(this.checkUnsavedChangesTimeout),this.token.set("name",this.nameInput.val()||"Untitled"),this.token.set("password",this.passwordInput.val()),this.token.set("link_type",this.linkTypeUnit.find("input[type=radio]:checked").val()),this.token.set("notify_on_view",!!this.options.privileges.notifyViaEmail&&this.notificationInput.is(":checked")),this.token.save(["name","password","notify_on_view","link_type"]).fail(function(){SL.notify("Unable to save link settings.","negative")}.bind(this)).done(function(){SL.notify("Link changes saved"),this.domElement.removeClass("is-unsaved")}.bind(this))},onNameInput:function(){this.tokenRenamed.dispatch(this.token,this.nameInput.val()),this.checkUnsavedChangesThrottled()},onNameChange:function(){this.checkUnsavedChanges()},onPasswordInput:function(){this.checkUnsavedChangesThrottled()},onPasswordChange:function(){this.checkUnsavedChanges()},onNotificationChange:function(){this.checkUnsavedChanges()},onLinkTypeChange:function(){this.checkUnsavedChanges(),this.renderShareOptions()},destroy:function(){this.tokenRenamed.dispatch(this.token),this.tokenRenamed.dispose(),this.shareOptions&&(this.shareOptions.destroy(),this.shareOptions=null),this.deck=null,this.token=null,this.domElement.addClass("hidden"),this.domElement.remove()}}),SL("components").Prompt=Class.extend({init:function(e){this.config=$.extend({type:"custom",data:null,anchor:null,title:null,subtitle:null,bodyText:null,optional:!0,alignment:"auto",minWidth:null,maxWidth:null,offsetX:0,offsetY:0,className:null,confirmOnEnter:!0,destroyAfterConfirm:!0,closeOnClickOutside:!0,confirmLabel:"OK",cancelLabel:"Cancel",confirmButton:null,cancelButton:null,hoverTarget:null,hoverClass:"hover",overlayOpacity:.4,windowSpacing:10,pointerEvents:"auto"},e),this.onBackgroundClicked=this.onBackgroundClicked.bind(this),this.onDocumentKeydown=this.onDocumentKeydown.bind(this),this.onPromptCancelClicked=this.onPromptCancelClicked.bind(this),this.onPromptConfirmClicked=this.onPromptConfirmClicked.bind(this),this.checkInputStatus=this.checkInputStatus.bind(this),this.layout=this.layout.bind(this),this.asyncLayout=this.asyncLayout.bind(this),this.confirmed=new signals.Signal,this.canceled=new signals.Signal,this.destroyed=new signals.Signal,this.render()},render:function(){this.domElement=$('<div class="sl-prompt" data-type="'+this.config.type+'">'),this.backgroundElement=$('<div class="sl-prompt-background">').appendTo(this.domElement),this.wrapperElement=$('<div class="sl-prompt-wrapper">').appendTo(this.domElement),this.wrapperElement.css("pointer-events",this.config.pointerEvents),this.innerElement=$('<div class="sl-prompt-inner">').appendTo(this.wrapperElement),this.arrowElement=$('<div class="sl-prompt-arrow">').appendTo(this.wrapperElement),this.backgroundElement.css("background-color","rgba(0, 0, 0, "+this.config.overlayOpacity+")"),this.domElement.toggleClass("close-on-click-outside",this.config.closeOnClickOutside),this.domElement.toggleClass("transform-positioning",this.useTransformPositioning()),this.config.title&&(this.titleElement=$('<h3 class="title">').html(this.config.title).appendTo(this.innerElement)),this.config.subtitle&&(this.subtitleElement=$('<h4 class="subtitle">').html(this.config.subtitle).appendTo(this.innerElement),this.titleElement&&this.titleElement.addClass("has-subtitle")),this.config.bodyText&&(this.bodyTextElement=$('<h4 class="body-text">').html(this.config.bodyText).appendTo(this.innerElement),this.titleElement&&this.titleElement.addClass("has-body-text")),this.config.className&&this.domElement.addClass(this.config.className),this.config.html&&this.innerElement.append("function"==typeof this.config.html?this.config.html.call():this.config.html),"select"===this.config.type?this.renderSelect():"list"===this.config.type?(this.renderList(),this.renderButtons("multiselect"===this.config.listType,"boolean"==typeof this.config.cancelButton?this.config.cancelButton:"multiselect"!==this.config.listType)):"accordion"===this.config.type?(this.renderAccordion(),this.renderButtons(this.config.confirmButton,this.config.cancelButton)):"input"===this.config.type?(this.renderInput(),this.renderButtons("boolean"!=typeof this.config.confirmButton||this.config.confirmButton,"boolean"!=typeof this.config.cancelButton||this.config.cancelButton)):"range"===this.config.type?(this.renderRange(),this.renderButtons("boolean"!=typeof this.config.confirmButton||this.config.confirmButton,"boolean"!=typeof this.config.cancelButton||this.config.cancelButton)):this.renderButtons(this.config.confirmButton,this.config.cancelButton)},renderSelect:function(){"function"==typeof this.config.data&&(this.config.data=this.config.data()),this.config.data.forEach(function(e){var t=$('<a class="item button light-grey l">').html(e.html);t.data("callback",e.callback),t.appendTo(this.innerElement),t.on("vclick",function(e){var t=$(e.currentTarget).data("callback");"function"==typeof t&&t.apply(null),this.destroy(),e.preventDefault()}.bind(this)),!0===e.focused&&t.addClass("focus"),!0===e.selected&&t.addClass("selected"),"string"==typeof e.className&&(t.addClass(e.className),/(outline|negative|positive)/g.test(e.className)&&t.removeClass("light-grey"))}.bind(this)),this.domElement.attr("data-length",this.config.data.length)},renderList:function(){"function"==typeof this.config.data&&(this.config.data=this.config.data()),this.listElement=$('<div class="list">').appendTo(this.innerElement);var e=this.config.listType?this.config.listType:"select",t="select"===e||"multiselect"===e;this.domElement.attr("data-list-type",e),this.config.data.forEach(function(n){var i;(i="string"==typeof n.href?$('<a class="list-item item" href="'+n.href+'"></a>'):$('<div class="list-item item"></div>')).html('<span class="list-item-title">'+(n.title?n.title:n.value)+"</span>"),t&&i.append('<span class="checkmark icon i-checkmark"></span>'),i.data({callback:n.callback,value:n.value}),i.appendTo(this.listElement),i.on("click",function(t){var i=$(t.currentTarget),s=i.data("callback"),o=i.data("value");"multiselect"===e&&(i.toggleClass("selected"),n.exclusive?(i.addClass("selected"),i.siblings().removeClass("selected")):i.siblings().filter(".exclusive").removeClass("selected")),"function"==typeof s&&s.apply(null,[o,i.hasClass("selected"),n]),"multiselect"!==e&&(this.confirmed.dispatch(o),this.destroy())}.bind(this)),"string"==typeof n.description&&(i.addClass("has-description"),i.append('<p class="list-item-description">'+n.description+"</p>")),"string"==typeof n.icon&&(i.wrapInner('<div class="list-item-content"></div>'),i.prepend('<span class="list-item-icon icon i-'+n.icon+'" style="'+(n.iconStyle||"")+'"></span>'),i.addClass("has-icon")),!0===n.focused&&i.addClass("focus"),!0===n.selected&&t&&i.addClass("selected"),!0===n.exclusive&&t&&i.addClass("exclusive"),"string"==typeof n.className&&i.addClass(n.className)}.bind(this))},renderAccordion:function(){this.accordionElement=$('<div class="accordion">').appendTo(this.innerElement),SL.util.skipCSSTransitions(this.accordionElement,1),this.config.data.items.forEach(function(e){var t=$('<div class="accordion-item">');t.attr("data-value",e.value).data({callback:e.callback}).html(['<div class="item-header">','<span class="title"></span>','<span class="expand-button checkmark-square"></span>','<span class="collapse-button icon i-x"></span>',"</div>",'<div class="item-content"></div>'].join("")),"string"==typeof e.collapseTooltip&&t.find(".collapse-button").attr("data-tooltip",e.collapseTooltip),t.find(".item-header .title").html(e.title||""),t.find(".item-header .title").before(e.beforeTitle||""),t.find(".item-header .title").after(e.afterTitle||""),t.appendTo(this.accordionElement),t.find(".item-header").on("vclick",function(e){var t=$(e.currentTarget).parent(),n=t.data("callback"),i=t.hasClass("selected");"function"==typeof n?!1!==n.apply(null,[!i])&&this.toggleAccordion(t.attr("data-value"),!i):this.toggleAccordion(t.attr("data-value"),!i),e.preventDefault()}.bind(this)),"function"==typeof e.content?t.find(".item-content").append(e.content()):t.find(".item-content").append(e.content),!0===e.selected&&t.addClass("selected"),"string"==typeof e.className&&t.addClass(e.className)}.bind(this))},toggleAccordion:function(e,t){this.accordionElement.find('[data-value="'+e+'"]').toggleClass("selected",t),this.domElement.toggleClass("accordion-open",this.accordionElement.find(".accordion-item.selected").length>0),this.layoutAccordion()},layoutAccordion:function(){var e=this.getPromptHeight();(!this.lastAccordionHeight||e<this.lastAccordionHeight||this.innerElement.offset().top+e>=window.innerHeight-this.config.windowSpacing)&&(this.lastAccordionHeight=e,this.layout())},renderInput:function(){if(!0===this.config.data.multiline){var e=this.config.data.cols||40,t=this.config.data.rows||8;this.inputElement=$('<textarea cols="'+e+'" rows="'+t+'" class="input-field">')}else this.inputElement=$('<input type="text" class="input-field">');"number"==typeof this.config.data.width&&(this.inputElement.css("width",this.config.data.width),this.titleElement&&this.titleElement.css("max-width",this.config.data.width),this.subtitleElement&&this.subtitleElement.css("max-width",this.config.data.width),this.bodyTextElement&&this.bodyTextElement.css("max-width",this.config.data.width)),this.config.data.value&&this.inputElement.val(this.config.data.value),this.config.data.readonly&&this.inputElement.attr("readonly","readonly"),this.config.data.placeholder&&this.inputElement.attr("placeholder",this.config.data.placeholder),this.config.data.maxlength&&this.inputElement.attr("maxlength",this.config.data.maxlength),this.inputWrapperElement=$('<div class="input-wrapper">').append(this.inputElement),this.inputWrapperElement.appendTo(this.innerElement),this.config.data.autoselect&&this.inputElement.select()},renderRange:function(){this.rangeInput=new SL.components.Range(this.config.data),this.rangeInput.appendTo(this.innerElement),"number"==typeof this.config.data.width&&(this.titleElement&&this.titleElement.css("max-width",this.config.data.width),this.subtitleElement&&this.subtitleElement.css("max-width",this.config.data.width))},renderButtons:function(e,t){var n=[];t&&this.config.optional&&this.config.cancelLabel&&n.push($('<button class="button l light-grey prompt-cancel">'+this.config.cancelLabel+"</button>")),e&&this.config.confirmLabel&&n.push($('<button class="button l prompt-confirm">'+this.config.confirmLabel+"</button>")),this.config.customFooterButtons&&this.config.customFooterButtons.length&&this.config.customFooterButtons.forEach(function(e){var t=$('<button class="button l '+(e.className||"")+'">'+e.label+"</button>");"function"==typeof e.callback&&t.on("vclick",e.callback),"string"==typeof e.tooltip&&t.attr("data-tooltip",e.tooltip),n.push(t)}),n.length&&(this.footerElement=$('<div class="footer"></div>').appendTo(this.innerElement),this.footerElement.append(n))},bind:function(){$(window).on("resize",this.asyncLayout),this.domElement.on("vmousedown",this.onBackgroundClicked),SL.keyboard.keydown(this.onDocumentKeydown),"hidden"!==$("html").css("overflow")&&$(window).on("scroll",this.layout),this.domElement.find(".prompt-cancel").on("vclick",this.onPromptCancelClicked),this.domElement.find(".prompt-confirm").on("vclick",this.onPromptConfirmClicked),this.inputElement&&this.inputElement.on("input",this.checkInputStatus)},unbind:function(){$(window).off("resize",this.asyncLayout),$(window).off("scroll",this.layout),this.domElement.off("vmousedown",this.onBackgroundClicked),SL.keyboard.release(this.onDocumentKeydown),this.domElement.find(".prompt-cancel").off("vclick",this.onPromptCancelClicked),this.domElement.find(".prompt-confirm").off("vclick",this.onPromptConfirmClicked),this.inputElement&&this.inputElement.off("input",this.checkInputStatus)},asyncLayout:function(){setTimeout(this.layout,1)},layout:function(){var e=$(window).width(),t=window.innerHeight,n="number"==typeof this.config.minWidth?this.config.minWidth:"",i="number"==typeof this.config.maxWidth?this.config.maxWidth:e-2*this.config.windowSpacing;this.innerElement.css({"min-width":n,"max-width":i,"max-height":this.getPromptMaxHeight()}),this.wrapperElement.css({left:"",top:"",transform:"",webkitTransform:""});var s=this.getPromptWidth(),o=this.getPromptHeight(),r=4,a=$(this.config.anchor);if(a.length){var l=a.offset(),c=15,u=this.config.alignment,d=$(window).scrollLeft(),h=$(window).scrollTop(),f=l.left-d,p=l.top-h;f+=this.config.offsetX,p+=this.config.offsetY;var m=a.outerWidth(),g=a.outerHeight(),v=s/2,y=o/2,b=10,E=b+r,S=!0;switch("auto"===u?u=l.top-(o+c+b)<h?"b":"t":"lr"===u&&(u=l.left-(s+c+b)<d?"r":"l"),this.domElement.attr("data-alignment",u),u){case"t":f+=(m-s)/2,p-=o+c;break;case"b":f+=(m-s)/2,p+=g+c;break;case"l":f-=s+c,p+=(g-o)/2;break;case"r":f+=m+c,p+=(g-o)/2}var _=p;switch(f=Math.max(Math.min(f,e-s-this.config.windowSpacing),this.config.windowSpacing),p=Math.max(Math.min(p,t-o-this.config.windowSpacing),this.config.windowSpacing),f=Math.round(f),p=Math.round(p),"b"===u&&p-_<-g-b?S=!1:"t"===u&&p-_>g+b&&(S=!1),u){case"t":v=l.left-f-d+m/2,v=Math.max(Math.min(v,s-E),E),y=o;break;case"b":v=l.left-f-d+m/2,v=Math.max(Math.min(v,s-E),E),y=-b;break;case"l":v=s,y=l.top-p-h+g/2,y=Math.max(Math.min(y,o-E),E);break;case"r":v=-b,y=l.top-p-h+g/2,y=Math.max(Math.min(y,o-E),E)}this.useTransformPositioning()?this.wrapperElement.css({webkitTransform:"translate("+f+"px,"+p+"px)",transform:"translate("+f+"px,"+p+"px)"}):this.wrapperElement.css({left:f,top:p}),this.arrowElement.css({left:v,top:y}).toggle(S)}else{var w=Math.round((e-s)/2),T=Math.round(.4*(t-o));this.useTransformPositioning()?this.wrapperElement.css({webkitTransform:"translate("+w+"px,"+T+"px)",transform:"translate("+w+"px,"+T+"px)"}):this.wrapperElement.css({left:w,top:T}),this.arrowElement.hide()}},getPromptHeight:function(){if("accordion"===this.config.type){var e=0;return this.accordionElement.find(".accordion-item").each(function(){var t=$(this),n=t.find(".item-header"),i=t.find(".item-content");e+=n.outerHeight()+parseInt(t.css("padding-top"),10)+parseInt(t.css("padding-bottom"),10),t.hasClass("selected")&&(e+=i.prop("scrollHeight")+parseInt(i.css("margin-top"),10)+parseInt(i.css("margin-bottom"),10))}),e}return this.innerElement.get(0).offsetHeight},getPromptWidth:function(){return this.innerElement.get(0).offsetWidth},getPromptMaxHeight:function(){return window.innerHeight-2*this.config.windowSpacing},useTransformPositioning:function(){return"accordion"===this.config.type},focus:function(e){var t=this.innerElement.find(".focus");if(t.length||(t=this.innerElement.find(".selected")),t.length){var n=e>0?t.next(".item"):t.prev(".item");n.length&&(t.removeClass("focus"),n.addClass("focus"))}else this.innerElement.find(".item").first().addClass("focus")},show:function(){var e=$(this.config.anchor);e.length&&e.addClass("focus"),$(this.config.hoverTarget).addClass(this.config.hoverClass),this.domElement.removeClass("visible").appendTo(document.body),setTimeout(function(){this.domElement.addClass("visible")}.bind(this),1),this.layout(),this.bind(),this.inputElement?(this.checkInputStatus(),this.inputElement.focus()):this.rangeInput&&this.rangeInput.focus()},hide:function(){var e=$(this.config.anchor);e.length&&e.removeClass("focus"),$(this.config.hoverTarget).removeClass(this.config.hoverClass),this.domElement.detach(),this.unbind()},showOverlay:function(e,t,n,i){return clearTimeout(this.overlayTimeout),this.overlay||(this.overlay=$('<div class="sl-prompt-overlay">')),this.overlay.appendTo(this.innerElement),this.overlay.html(n+"<h3>"+t+"</h3>"),this.overlay.attr("data-status",e||"neutral"),this.overlay.addClass("visible"),new Promise(function(e){i?this.overlayTimeout=setTimeout(function(){this.overlay.removeClass("visible"),e()}.bind(this),i):e()}.bind(this))},getValue:function(){var e=undefined;return"input"===this.config.type?e=this.inputElement.val():"range"===this.config.type?e=this.rangeInput.getValue():"list"===this.config.type&&"multiselect"===this.config.listType&&(e={},this.listElement.find(".item").each(function(){var t=$(this),n=t.data("value");n&&(e[n]=t.hasClass("selected"))})),e},getDOMElement:function(){return this.domElement},cancel:function(){if("input"===this.config.type&&this.config.data.confirmBeforeDiscard){var e=this.config.data.value||"";(this.getValue()||"")!==e?this.promptUnsavedChanges():(this.canceled.dispatch(this.getValue()),this.destroy())}else this.canceled.dispatch(this.getValue()),this.destroy()},promptUnsavedChanges:function(e){e=$.extend({title:"There are unsaved changes. Do you want to save?"},e),SL.prompt({title:e.title,type:"select",data:[{html:"<h3>Cancel</h3>"},{html:"<h3>Discard</h3>",selected:!1,callback:function(){this.canceled.dispatch(this.getValue()),this.destroy()}.bind(this)},{html:"<h3>Save changes</h3>",selected:!0,className:"positive",callback:function(){this.confirm()}.bind(this)}]})},confirm:function(){this.confirmed.dispatch(this.getValue()),this.config.destroyAfterConfirm&&this.destroy()},checkInputStatus:function(){if(this.config.data.maxlength&&!this.config.data.maxlengthHidden){var e=this.inputWrapperElement.find(".input-status");0===e.length&&(e=$('<div class="input-status">').appendTo(this.inputWrapperElement));var t=this.inputElement.val().length,n=this.config.data.maxlength;e.text(t+"/"+n),e.toggleClass("negative",t>.95*n),this.config.data.multiline||this.inputElement.css("padding-right",e.outerWidth()+5)}},getInputElement:function(){return this.inputElement},destroy:function(){if(this.destroyed){this.destroyed.dispatch(),this.destroyed.dispose(),this.destroyed=null;var e=$(this.config.anchor);e.length&&e.removeClass("focus"),$(this.config.hoverTarget).removeClass(this.config.hoverClass),this.domElement.remove(),this.unbind(),this.confirmed.dispose(),this.canceled.dispose()}},onBackgroundClicked:function(e){this.config.optional&&$(e.target).is(this.domElement)&&(this.cancel(),e.preventDefault())},onPromptCancelClicked:function(e){this.cancel(),e.preventDefault()},onPromptConfirmClicked:function(e){this.confirm(),e.preventDefault()},onDocumentKeydown:function(e){if(27===e.keyCode)return this.config.optional&&this.cancel(),e.preventDefault(),!1;if("select"===this.config.type||"list"===this.config.type)if(13===e.keyCode||32===e.keyCode){var t=this.innerElement.find(".focus");if(0===t.length&&(t=this.innerElement.find(".selected")),t.length)return t.trigger("click"),e.preventDefault(),!1}else 37===e.keyCode||38===e.keyCode?(this.focus(-1),e.preventDefault()):39===e.keyCode||40===e.keyCode?(this.focus(1),e.preventDefault()):9===e.keyCode&&e.shiftKey?(this.focus(-1),e.preventDefault()):9===e.keyCode&&(this.focus(1),e.preventDefault());if("accordion"===this.config.type){var n=document.activeElement&&document.activeElement.tagName&&/input|textarea|select/i.test(document.activeElement.tagName),i=e.altKey||e.ctrlKey||e.metaKey;if(!1===n&&!1===i)return e.preventDefault(),!1}if("input"===this.config.type||"form"===this.config.type||"range"===this.config.type){var s=/textarea/i.test(e.target.nodeName);13!==e.keyCode||s&&!e.metaKey&&!e.ctrlKey||this.onPromptConfirmClicked(e)}return"custom"===this.config.type&&this.config.confirmOnEnter&&13===e.keyCode&&this.onPromptConfirmClicked(e),!0}}),SL.prompt=function(e,t){var n;return(n="function"==typeof e?new e(t):new SL.components.Prompt(e)).show(),n},SL.prompt.isOpen=function(){return document.querySelectorAll(".sl-prompt.visible").length>0},SL.promptOnHover=function(e,t,n){if("pointerEvents"in document.documentElement.style&&!SL.util.device.IS_PHONE&&!SL.util.device.IS_TABLET){var i;n=n||SL.components.Prompt;t.closeOnClickOutside=!1,t.pointerEvents="none",e.on("vmouseover",function(){(i=new n(t)).show(),i.destroyed.add(function(){i=null})}),e.on("vmouseout vclick",function(){i&&(i.destroy(),i=null)})}},SL("components.prompts").DeckView=SL.components.Prompt.extend({init:function(e){var t=e.deckModel||SL.current_deck,n=t.user.get("username"),i=t.get("slug");this._super($.extend({type:"list",title:"Open deck to...",className:"sl-deck-view-prompt",data:this.getOptionList.bind(this),cancelButton:!1,listType:"links",deckModel:t,presentURL:SL.routes.DECK_LIVE(n,i),editorURL:SL.routes.DECK_EDIT(n,i),kioskURL:SL.routes.DECK_KIOSK(n,i),deckURL:SL.routes.DECK(n,i)},e))},getOptionList:function(){var e=[];if("string"!=typeof this.config.role||this.isOwner())this.config.editorURL&&e.push({title:"Edit",icon:"pen-alt2",description:"Make changes to the deck.",href:this.config.editorURL}),this.config.presentURL&&this.canPresent()&&e.push({title:"Present",icon:"play",iconStyle:"position: relative; left: 2px;",description:"Live present with Speaker View.",href:this.config.presentURL}),this.config.deckURL&&e.push({title:"View",icon:"eye",description:"Open and browse this deck.",href:this.config.deckURL}),this.config.kioskURL&&e.push({title:"Autoplay",icon:"live-tv",iconStyle:"position: relative; top: -2px;",description:"Loop this deck in the Kiosk Mode.",href:this.config.kioskURL});else{var t=new SL.models.collab.DeckUser({role:this.config.role});this.config.editorURL&&e.push({title:"Collaborate",icon:"users",description:"Work together and leave feedback.",href:this.config.editorURL}),this.config.presentURL&&t.canPresent()&&e.push({title:"Present",icon:"play",iconStyle:"position: relative; left: 2px;",description:"Live present with Speaker View.",href:this.config.presentURL}),this.config.deckURL&&e.push({title:"View",icon:"eye",description:"Open and browse the deck.",href:this.config.deckURL})}return e},canPresent:function(){var e=document.documentElement.classList.contains("sl-editor");return this.isOwner()||e},isOwner:function(){return SL.current_user&&SL.current_user.get("id")===this.config.deckModel.get("user").id}}),SL("components.prompts").DeckVisibility=SL.components.Prompt.extend({init:function(e,t){this.deckModel=e,this.visibilitySelected=new signals.Signal,this._super($.extend({type:"select",className:"sl-visibility-prompt",data:this.getVisibilityOptions(),persistVisibility:!0},t))},getVisibilityOptions:function(){var e=[],t=SL.current_user.isEnterprise(),n=!SL.current_user.isEnterprise()||SL.current_team.allowPublicDecks();return e.push({html:SL.locale.get("DECK_VISIBILITY_CHANGE_SELF"),selected:this.deckModel.get("visibility")===SL.models.Deck.VISIBILITY_SELF,callback:this.selectVisibility.bind(this,SL.models.Deck.VISIBILITY_SELF)}),t&&e.push({html:SL.locale.get("DECK_VISIBILITY_CHANGE_TEAM"),selected:this.deckModel.get("visibility")===SL.models.Deck.VISIBILITY_TEAM,className:"divider",callback:this.selectVisibility.bind(this,SL.models.Deck.VISIBILITY_TEAM)}),n?e.push({html:SL.locale.get("DECK_VISIBILITY_CHANGE_ALL"),selected:this.deckModel.get("visibility")===SL.models.Deck.VISIBILITY_ALL,callback:this.selectVisibility.bind(this,SL.models.Deck.VISIBILITY_ALL)}):e.push({html:SL.locale.get("DECK_VISIBILITY_SHARE_LINK"),callback:function(){SL.popup.open(SL.components.decksharer.DeckSharer,{deck:this.deckModel})}.bind(this)}),e},selectVisibility:function(e){if(this.config.persistVisibility){var t=$.ajax({type:"POST",url:SL.endpoints.PUBLISH_DECK(this.deckModel.get("id")),context:this,data:{visibility:e}}).done(function(e){e.deck.visibility===SL.models.Deck.VISIBILITY_SELF?SL.notify(SL.locale.get("DECK_VISIBILITY_CHANGED_SELF")):e.deck.visibility===SL.models.Deck.VISIBILITY_TEAM?SL.notify(SL.locale.get("DECK_VISIBILITY_CHANGED_TEAM")):e.deck.visibility===SL.models.Deck.VISIBILITY_ALL&&SL.notify(SL.locale.get("DECK_VISIBILITY_CHANGED_ALL")),"string"==typeof e.deck.slug&&this.deckModel.set("slug",e.deck.slug),"string"==typeof e.deck.visibility&&this.deckModel.set("visibility",e.deck.visibility)}).fail(function(){SL.notify(SL.locale.get("DECK_VISIBILITY_CHANGED_ERROR"),"negative")});this.visibilitySelected.dispatch(e,t)}else this.visibilitySelected.dispatch(e)},destroy:function(){this.visibilitySelected.dispose(),this._super.apply(this,arguments)}}),SL("components.prompts").Promotion=SL.components.Prompt.extend({init:function(e){e.html||console.warn("Promotion({html}) can't be empty"),this._super($.extend({type:"custom",className:"sl-promotion-prompt",minWidth:300,confirmButton:!1,cancelButton:!1},e))}}),SL.components.prompts.showDeckLimitReached=function(){return $.ajax({url:SL.endpoints.GET_DECK_LIMIT_REACHED_HTML(SLConfig.current_user.username),type:"GET"}).then(function(e){SL.prompt(SL.components.prompts.Promotion,{html:e})})},SL("components").FormUnit=Class.extend({init:function(e){this.domElement=$(e),this.inputElement=this.domElement.find("input, textarea").first(),this.errorElement=$('<div class="status error">'),this.errorIcon=$('<span class="icon">!</span>').appendTo(this.errorElement),this.errorMessage=$('<p class="message">!</p>').appendTo(this.errorElement),this.successText=this.domElement.attr("data-success-text"),this.successElement=$('<div class="status success">'),this.successIcon=$('<span class="icon i-checkmark"></span>').appendTo(this.successElement),this.successIcon.attr("data-tooltip",this.successText),this.validateType=this.domElement.attr("data-validate"),this.validateTimeout=-1,this.originalValue=this.inputElement.val(),this.originalError=this.domElement.attr("data-error-message"),this.asyncValidatedValue=null,this.clientErrors=[],this.serverErrors=[],this.inputElement.on("input",this.onInput.bind(this)),this.inputElement.on("change",this.onInputChange.bind(this)),this.inputElement.on("focus",this.onInputFocus.bind(this)),this.inputElement.on("blur",this.onInputBlur.bind(this)),this.inputElement.on("invalid",this.onInputInvalid.bind(this)),this.domElement.parents("form").first().on("submit",this.onFormSubmit.bind(this)),this.inputElement.hasClass("prevent-autocomplete")&&(this.onRemoveReadonly=this.onRemoveReadonly.bind(this),this.inputElement.on("mousedown touchstart focus hover",this.onRemoveReadonly)),this.originalError?(this.domElement.removeClass("hidden"),this.validate(),this.inputElement.focus()):this.render(),this.domElement.data("controller",this),this.domElement.hasClass("label-placeholder")&&this.monitorAutofill(),this.domElement.hasClass("image")&&this.bindImage()},validate:function(e){clearTimeout(this.validateTimeout);var t=this.inputElement.val();if("string"!=typeof t)return this.serverErrors=[],this.clientErrors=[],void this.render();if("checkbox"===this.inputElement.attr("type"))this.clientErrors=[],!this.inputElement.prop("checked")&&e&&this.isRequired()&&this.clientErrors.push(SL.locale.FORM_ERROR_REQUIRED);else if(t===this.originalValue&&(this.originalValue||"password"===this.validateType)&&this.originalError)this.clientErrors=[this.originalError];else if(t.length){var n=SL.util.validate[this.validateType];"function"==typeof n?this.clientErrors=n(t):console.log('Could not find validation method of type "'+this.validateType+'"')}else this.clientErrors=[],e&&this.isRequired()&&this.clientErrors.push(SL.locale.FORM_ERROR_REQUIRED);return this.validateAsync(),this.render(),0===this.clientErrors.length&&0===this.serverErrors.length},validateAsync:function(){if("username"===this.validateType){var e=SLConfig&&SLConfig.current_user?SLConfig.current_user.username:"",t=this.inputElement.val();0===SL.util.validate.username(t).length&&(e&&t===e?(this.asyncValidatedValue=e,this.serverErrors=[]):t!==this.asyncValidatedValue&&$.ajax({url:SL.endpoints.LOOKUP_USER,type:"GET",data:{id:t},context:this,statusCode:{204:function(){this.serverErrors=[SL.locale.get("FORM_ERROR_USERNAME_TAKEN")]},404:function(){this.serverErrors=[]}}}).done(function(){this.render(),this.asyncValidatedValue=t}))}else if("team_slug"===this.validateType){var n=SL.current_team?SL.current_team.get("slug"):"",i=this.inputElement.val();0===SL.util.validate.team_slug(i).length&&(n&&i===n?(this.asyncValidatedValue=n,this.serverErrors=[]):i!==this.asyncValidatedValue&&$.ajax({url:SL.endpoints.LOOKUP_TEAM,type:"GET",data:{id:i},context:this,statusCode:{204:function(){this.serverErrors=[SL.locale.get("FORM_ERROR_ORGANIZATION_SLUG_TAKEN")]},404:function(){this.serverErrors=[]}}}).done(function(){this.render(),this.asyncValidatedValue=i}))}},validateAfterTimeout:function(){if(clearTimeout(this.validateTimeout),!SL.util.device.IS_PHONE&&!SL.util.device.IS_TABLET){var e=600;(this.clientErrors.length||this.serverErrors.length)&&(e=300),this.validateTimeout=setTimeout(this.validate.bind(this),e)}},render:function(){var e=this.serverErrors.concat(this.clientErrors);this.domElement.toggleClass("has-error",e.length>0),e.length>0?(this.errorElement.appendTo(this.domElement),this.errorMessage.text(e[0]),setTimeout(function(){this.errorElement.addClass("visible")}.bind(this),1)):this.errorElement.removeClass("visible").remove(),0===e.length&&!this.isEmpty()&&this.successText?(this.successElement.appendTo(this.domElement),setTimeout(function(){this.successElement.addClass("visible")}.bind(this),1)):this.successElement.removeClass("visible").remove()},format:function(){var e;"username"!==this.validateType&&"team_slug"!==this.validateType||(e=this.inputElement.val())&&this.inputElement.val(this.inputElement.val().toLowerCase());"url"===this.validateType&&((e=this.inputElement.val())&&e.length>2&&!1===/^http(s?):\/\//gi.test(e)&&this.inputElement.val("http://"+e))},focus:function(){this.inputElement.focus()},beforeSubmit:function(){return this.validate(!0),!(this.clientErrors.length>0||this.serverErrors.length>0)||(this.focus(),!1)},bindImage:function(){this.domElement.find(".image-uploader-upload-button").on("click",function(e){e.preventDefault(),this.inputElement.click()}.bind(this)),this.domElement.find(".image-uploader-remove-button").on("click",function(e){e.preventDefault(),this.domElement.find(".image-uploader-preview").empty(),this.domElement.find(".image-uploader").attr("data-state","empty"),this.inputElement.get(0).value="";var t=this.domElement.find(".image-uploader").attr("data-image-type");"team-logo"===t?$.ajax({url:SL.endpoints.REMOVE_TEAM_LOGO,type:"DELETE",context:this}).fail(function(){SL.notify("An error occured while removing the image","negative")}):"profile-photo"===t&&$.ajax({url:SL.endpoints.REMOVE_USER_AVATAR,type:"DELETE",context:this}).done(function(e){
$('<img src="'+e.thumbnail_url+'">').appendTo(this.domElement.find(".image-uploader-preview"))}).fail(function(){SL.notify("An error occured while removing the image","negative")})}.bind(this))},renderImage:function(){var e=this.inputElement.get(0);if(e.files&&e.files[0]){var t=new FileReader;t.addEventListener("load",function(e){var t=this.domElement.find("img"),n=e.target.result;this.domElement.find(".image-uploader").attr("data-state","populated"),t.length?t.attr("src",n):$('<img src="'+n+'">').appendTo(this.domElement.find(".image-uploader-preview"))}.bind(this)),t.readAsDataURL(e.files[0])}},monitorAutofill:function(){var e=setInterval(function(){try{this.inputElement.toggleClass("is-autofilled",this.inputElement.is(":-webkit-autofill"))}catch(t){clearInterval(e)}}.bind(this),250)},isEmpty:function(){return 0===this.inputElement.val().length},isRequired:function(){return!this.domElement.hasClass("hidden")&&this.domElement.is("[data-required]")},isUnchanged:function(){return this.inputElement.val()===this.originalValue},onInput:function(){this.validateAfterTimeout()},onInputChange:function(e){this.domElement.hasClass("image")&&this.renderImage(e.target),this.validate()},onInputFocus:function(){this.domElement.addClass("focused")},onInputBlur:function(){this.format(),this.domElement.removeClass("focused")},onInputInvalid:function(){return this.beforeSubmit()},onFormSubmit:function(e){if(!1===this.beforeSubmit())return e.preventDefault(),!1},onRemoveReadonly:function(){this.inputElement.off("mousedown touchstart focus hover",this.onRemoveReadonly),this.inputElement.removeClass("prevent-autocomplete").removeAttr("readonly")}}),SL("components").Header=Class.extend({init:function(){this.domElement=$(".global-header"),this.navWrapperElement=this.domElement.find(".nav-wrapper"),this.navElement=this.domElement.find(".nav"),this.renderLogo(),this.renderDropdown(),this.checkScrollPosition(),this.bind()},renderLogo:function(){if("/"===window.location.pathname){var e=this.domElement.find(".logo-animation");e.length&&new SL.components.Menu({anchor:e,anchorSpacing:10,alignment:"b",showOnHover:!0,options:[{label:"Download logo",url:SL.routes.BRAND_KIT}]})}},renderDropdown:function(){this.dropdown=SL.components.Header.createMainMenu(this.domElement.find(".profile-button .nav-item-anchor"))},bind:function(){this.domElement.hasClass("show-on-scroll")&&$(document).on("mousemove",this.onDocumentMouseMove.bind(this)),window.addEventListener("scroll",this.checkScrollPosition.bind(this),{passive:!0}),$(".global-header .menu-button").on("vclick",function(e){e.preventDefault(),$(".global-header").toggleClass("show-menu")}),this.domElement.find(".new-deck-button").on("vclick",this.onNewDeckClicked.bind(this))},checkScrollPosition:function(){var e=$(window).scrollTop();this.isScrolledDown=e>30,this.domElement.toggleClass("is-scrolled-30",e>30),this.domElement.toggleClass("is-scrolled-150",e>150),this.domElement.toggleClass("show",this.isScrolledDown)},onDocumentMouseMove:function(e){if(!this.isScrolledDown){var t=e.clientY;t>0&&(t<20&&!this.isMouseOver?(this.domElement.addClass("show"),this.isMouseOver=!0):t>80&&this.isMouseOver&&0===$(e.target).parents(".global-header").length&&(this.domElement.removeClass("show"),this.isMouseOver=!1))}},onNewDeckClicked:function(e){!SL.current_user.privileges.deckTemplateSelector()||e.metaKey||e.ctrlKey||e.shiftKey||(SL.popup.openOne(SL.components.popup.DeckTemplates),e.preventDefault())}}),SL.components.Header.createMainMenu=function(e){var t=[{label:"Profile",icon:"home",url:SL.routes.USER(SL.current_user.get("username"))},{label:"New deck",icon:"plus",callback:function(e){!SL.current_user.privileges.deckTemplateSelector()||e.metaKey||e.ctrlKey||e.shiftKey||(SL.popup.openOne(SL.components.popup.DeckTemplates),e.preventDefault())},url:SL.routes.DECK_NEW(SL.current_user.get("username"))}];if(SL.current_user.isEnterpriseManager()){t.push({label:"Themes",icon:"brush",url:SL.routes.THEME_EDITOR});var n={label:"Settings",icon:"cog",url:SL.routes.USER_EDIT};SL.current_team&&(n.submenu=[{label:"Account settings",url:SL.routes.USER_EDIT,className:"account-settings-button"},{label:"Team settings",url:SL.routes.TEAM_EDIT(SL.current_team)},{label:"Team members",url:SL.routes.TEAM_EDIT_MEMBERS(SL.current_team)}],SL.current_team.isManuallyUpgraded()||n.submenu.push({label:"Billing details",url:SL.routes.BILLING_DETAILS})),t.push(n)}else t.push({label:"Settings",icon:"cog",url:SL.routes.USER_EDIT,className:"account-settings-button"});SL.current_user.isManuallyUpgraded()||SL.current_user.isEnterprise()||(SL.current_user.isPaid()?t.push({label:"Billing",icon:"credit",url:SL.routes.BILLING_DETAILS,className:"billing-details-button"}):t.push({label:"Upgrade",icon:"star",url:SL.routes.PRICING}));var i=$(".global-header .nav-item-changelog");return i.length&&(t.push({label:"What's new",url:SL.routes.CHANGELOG,iconHTML:'<span class="counter"><span class="counter-inner">'+i.attr("data-unread-count")+"</span></span>"}),e.find(".nav-item-burger").append('<span class="changelog-indicator"></span>'),e.one("mouseover",function(){$(this).find(".changelog-indicator").remove()})),t.push({label:"Log out",icon:"exit",url:SL.routes.SIGN_OUT,className:"logout-button",attributes:{rel:"nofollow","data-method":"delete"}}),new SL.components.Menu({anchor:e,anchorSpacing:10,alignment:"auto",minWidth:160,showOnHover:!0,options:t})},SL("components").Kudos=function(){function e(){$("[data-kudos-value][data-kudos-id]").each(function(e,t){var n=t.getAttribute("data-kudos-id");n&&!r[n]&&(r[n]=t.getAttribute("data-kudos-value"))}.bind(this)),$(".kudos-trigger[data-kudos-id]").on("vclick",function(e){var i=e.currentTarget;"true"===i.getAttribute("data-kudoed-by-user")?n(i.getAttribute("data-kudos-id")):t(i.getAttribute("data-kudos-id"))}.bind(this))}function t(e){i(e),$.ajax({type:"POST",url:SL.endpoints.KUDO_DECK(e),context:this}).fail(function(){s(e),SL.notify(SL.locale.get("GENERIC_ERROR"))})}function n(e){s(e),$.ajax({type:"DELETE",url:SL.endpoints.UNKUDO_DECK(e),context:this}).fail(function(){i(e),SL.notify(SL.locale.get("GENERIC_ERROR"))})}function i(e){var t=$('.kudos-trigger[data-kudos-id="'+e+'"]');t.attr("data-kudoed-by-user","true"),r[e]++,o(e,r[e]);var n=t.find(".kudos-icon");n.length&&(n.removeClass("bounce"),setTimeout(function(){n.addClass("bounce")},1))}function s(e){var t=$('.kudos-trigger[data-kudos-id="'+e+'"]');t.attr("data-kudoed-by-user","false"),r[e]--,o(e,r[e]),t.find(".kudos-icon").removeClass("bounce")}function o(e,t){"number"==typeof r[e]&&("number"==typeof t&&(r[e]=t),t=Math.max(r[e],0),$("[data-kudos-id][data-kudos-value]").each(function(e,n){n.setAttribute("data-kudos-value",t)}))}var r={};e()}(),SL("components").Menu=Class.extend({init:function(e){if(this.config=$.extend({alignment:"auto",anchorSpacing:10,minWidth:0,offsetX:0,offsetY:0,options:[],showOnHover:!1,showOnHoverCondition:null,mouseLeaveDelay:0,destroyOnHide:!1,touch:/(iphone|ipod|ipad|android|windows\sphone)/gi.test(navigator.userAgent)},e),this.config.anchor=$(this.config.anchor),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.layout=this.layout.bind(this),this.toggle=this.toggle.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onDocumentMouseMove=this.onDocumentMouseMove.bind(this),this.onDocumentMouseDown=this.onDocumentMouseDown.bind(this),this.onDocumentKeydown=this.onDocumentKeydown.bind(this),this.onAnchorFocus=this.onAnchorFocus.bind(this),this.onAnchorBlur=this.onAnchorBlur.bind(this),this.onAnchorFocusKeyDown=this.onAnchorFocusKeyDown.bind(this),this.submenus=[],this.destroyed=new signals.Signal,this.render(),this.renderList(),this.config.anchor.length)if(this.config.touch)this.config.anchor.addClass("menu-show-on-touch"),this.config.anchor.on("touchstart pointerdown",$.debounce(function(e){e.preventDefault(),this.toggle()}.bind(this),50,!0)),this.config.anchor.on("click",function(e){e.preventDefault()}.bind(this));else{if(this.config.showOnHover){this.config.anchor.on("focus",this.onAnchorFocus),this.config.anchor.on("blur",this.onAnchorBlur),this.config.anchor.on("mouseover",this.onMouseOver);try{this.config.anchor.is(":hover")&&this.onMouseOver()}catch(t){}}this.config.anchor.on("click",this.toggle)}},render:function(){this.domElement=$('<div class="sl-menu">'),this.listElement=$('<div class="sl-menu-list">').appendTo(this.domElement),this.arrowElement=$('<div class="sl-menu-arrow">').appendTo(this.domElement),this.arrowFillElement=$('<div class="sl-menu-arrow-fill">').appendTo(this.arrowElement),this.hitarea1=$('<div class="sl-menu-hitarea">'),this.hitareaPath=document.createElementNS("http://www.w3.org/2000/svg","path"),this.hitarea2=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.hitarea2.setAttribute("class","sl-menu-hitarea"),this.hitarea2.appendChild(this.hitareaPath),this.domElement.append(this.hitarea1,this.hitarea2),this.listElement.css("minWidth",this.config.minWidth+"px"),SL.util.getDebugLevel()>1&&this.domElement.addClass("debug")},renderList:function(){this.config.options.forEach(function(e){var t;"string"==typeof e.url?(t=$('<a class="sl-menu-item" href="'+e.url+'">'),"string"==typeof e.urlTarget&&t.attr("target",e.urlTarget)):t=$('<button class="sl-menu-item">'),t.html('<span class="label">'+e.label+"</span>"),t.data("callback",e.callback),t.appendTo(this.listElement),t.on("click",function(e){var t=$(e.currentTarget).data("callback");"function"==typeof t&&t.apply(null,[e]),this.hide()}.bind(this)),e.icon&&t.append('<span class="icon i-'+e.icon+'"></span>'),e.attributes&&t.attr(e.attributes),"string"==typeof e.className&&t.addClass(e.className),e.iconHTML&&t.append(e.iconHTML),e.submenu&&!this.config.touch&&this.submenus.push(new SL.components.Menu({anchor:t,anchorSpacing:10,alignment:e.submenuAlignment||"rl",minWidth:e.submenuWidth||160,showOnHover:!0,options:e.submenu}))}.bind(this))},bind:function(){SL.keyboard.keydown(this.onDocumentKeydown),$(window).on("resize scroll",this.layout),$(document).on("mousedown touchstart pointerdown",this.onDocumentMouseDown)},unbind:function(){SL.keyboard.release(this.onDocumentKeydown),SL.keyboard.release(this.onAnchorFocusKeyDown),$(window).off("resize scroll",this.layout),$(document).off("mousedown touchstart pointerdown",this.onDocumentMouseDown)},layout:function(){if(0!==this.config.anchor.length){var e,t,n=this.config.anchor.offset(),i=this.config.anchorSpacing,s=this.config.alignment,o=$(window).scrollLeft(),r=$(window).scrollTop(),a=n.left+this.config.offsetX,l=n.top+this.config.offsetY,c=this.config.anchor.outerWidth(),u=this.config.anchor.outerHeight(),d=this.domElement.outerWidth(),h=this.domElement.outerHeight(),f=1,p=d/2,m=d/2,g=8;switch("auto"===s&&(s=n.top-(h+i+g)<r?"b":"t"),"rl"===s&&(s=n.left+c+i+g+d<window.innerWidth?"r":"l"),this.domElement.attr("data-alignment",s),s){case"t":a+=(c-d)/2,l-=h+i;break;case"b":a+=(c-d)/2,l+=u+i;break;case"l":a-=d+i,l+=(u-h)/2;break;case"r":a+=c+i,l+=(u-h)/2}switch(a=Math.min(Math.max(a,o+i),$(window).width()+o-d-i),l=Math.min(Math.max(l,r+i),window.innerHeight+r-h-i),s){case"t":p=n.left-a+c/2,m=h-2*f;break;case"b":p=n.left-a+c/2,m=-g;break;case"l":p=d-2*f,m=n.top-l+u/2;break;case"r":p=-g,m=n.top-l+u/2}this.domElement.css({left:Math.round(a),top:Math.round(l)}),this.arrowElement.css({left:Math.round(p),top:Math.round(m)}),this.hitarea1.css({top:-8,right:-8,bottom:-8,left:-8});var v=n.left-a,y=n.top-l;"t"===s||"b"===s?(e=Math.max(d,c),t=h+u+i,this.hitarea2.style.left=(d-e)/2+"px",v+=Math.max((c-d)/2,0),"t"===s?(this.hitarea2.style.top="0px",this.hitareaPath.setAttribute("d",["M",(e-d)/2,h,"S",v,y,",",v,y+u,"L",v,y,"L",v+c,y,"L",v+c,y+u,"S",v+c,y,",",(e+d)/2,h].join(" "))):"b"===s&&(this.hitarea2.style.top=y+"px",this.hitareaPath.setAttribute("d",["M",(e-d)/2,u+i,"S",v,u,",",v,0,"L",v,u,"L",v+c,u,"L",v+c,0,"S",v+c,u,",",(e+d)/2,u+i].join(" ")))):"l"!==s&&"r"!==s||(e=d+c+i,t=Math.max(h,u),this.hitarea2.style.top=(h-t)/2+"px",y+=Math.max((u-h)/2,0),"l"===s?(this.hitarea2.style.left="0px",this.hitareaPath.setAttribute("d",["M",d,(t-h)/2,"S",v,y,",",v+c,y,"L",v,y,"L",v,y+u,"L",v+c,y+u,"S",v,y+u,",",d,(t+h)/2].join(" "))):"r"===s&&(this.hitarea2.style.left=v+"px",this.hitareaPath.setAttribute("d",["M",a-n.left,(t-h)/2,"S",a-n.left,y,",",0,y,"L",0,y,"L",a-n.left-i,y,"L",a-n.left-i,y+u,"L",0,y+u,"S",a-n.left,y+u,",",a-n.left,(t+h)/2].join(" ")))),this.hitarea2.setAttribute("width",e),this.hitarea2.setAttribute("height",t)}},focus:function(e){var t=this.listElement.find(":focus");if(t.length){var n=e>0?t.nextAll(".sl-menu-item").first():t.prevAll(".sl-menu-item").first();n.length&&n.focus()}else this.listElement.find(".sl-menu-item").first().focus()},show:function(){this.focusBefore=$(":focus"),this.domElement.appendTo(document.body),this.config.anchor.addClass("menu-is-open"),this.layout(),this.bind()},hide:function(){this.config.anchor.removeClass("menu-is-open"),this.domElement.detach(),this.unbind(),this.focusBefore&&this.focusBefore.length&&"BODY"===document.activeElement.tagName&&(this.focusBefore.focus(),this.focusBefore=null),$(document).off("mousemove",this.onDocumentMouseMove),this.isMouseOver=!1,clearTimeout(this.hideTimeout),!0===this.config.destroyOnHide&&this.destroy()},toggle:function(){this.isVisible()?this.hide():this.show()},isVisible:function(){return this.domElement.parent().length>0},hasSubMenu:function(){return this.submenus.length>0},destroy:function(){this.destroyed.dispatch(),this.destroyed.dispose(),this.domElement.remove(),this.unbind(),this.config.anchor.off("click",this.toggle),this.config.anchor.off("hover",this.toggle),this.config.anchor.off("focus",this.onAnchorFocus),this.config.anchor.off("blur",this.onAnchorBlur),this.config.anchor.off("mouseover",this.onMouseOver),this.submenus.forEach(function(e){e.destroy()})},onDocumentKeydown:function(e){if(27===e.keyCode)return this.hide(),e.preventDefault(),!1;if(13===e.keyCode){var t=this.listElement.find(":focus");if(t.length){var n=t.attr("href");return"string"==typeof n&&n.length>2?window.location.href=n:t.trigger("click"),e.preventDefault(),!1}}else 38===e.keyCode?(this.focus(-1),e.preventDefault()):40===e.keyCode?(this.focus(1),e.preventDefault()):9===e.keyCode&&e.shiftKey?(this.focus(-1),e.preventDefault()):9===e.keyCode&&(this.focus(1),e.preventDefault());return!0},onMouseOver:function(){this.isMouseOver||SL.pointer.isDown()||("function"!=typeof this.config.showOnHoverCondition||this.config.showOnHoverCondition())&&($(document).on("mousemove",this.onDocumentMouseMove),this.hideTimeout=-1,this.isMouseOver=!0,this.show())},onDocumentMouseMove:function(e){var t=$(e.target),n=0===t.closest(this.domElement).length&&0===t.closest(this.config.anchor).length;this.hasSubMenu()&&(n=0===t.closest(".sl-menu").length&&0===t.closest(this.config.anchor).length),n?this.config.mouseLeaveDelay>0?-1===this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=setTimeout(this.hide,this.config.mouseLeaveDelay)):this.hide():this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=-1)},onDocumentMouseDown:function(e){var t=$(e.target);this.isVisible()&&0===t.closest(this.domElement).length&&0===t.closest(this.config.anchor).length&&this.hide()},onAnchorFocus:function(){this.isMouseOver||SL.keyboard.keydown(this.onAnchorFocusKeyDown)},onAnchorBlur:function(){SL.keyboard.release(this.onAnchorFocusKeyDown)},onAnchorFocusKeyDown:function(e){return!!(this.isMouseOver||13!==e.keyCode&&32!==e.keyCode&&40!==e.keyCode)||(this.show(),this.focus(),SL.keyboard.release(this.onAnchorFocusKeyDown),!1)}}),SL("components").Notification=Class.extend({init:function(e,t){this.html=e,this.options=$.extend({id:null,type:"",duration:2500+20*this.html.length,optional:!0,buttons:null,buttonStyle:"white"},t),"negative"===this.options.type&&(this.options.duration=1.5*this.options.duration),this.destroyed=new signals.Signal,this.hideTimeout=-1,"string"==typeof this.options.id&&$('.sl-notification[data-id="'+this.options.id+'"]').remove(),this.render(),this.bind(),this.show(),this.layout()},render:function(){0===$(".sl-notifications").length&&$(document.body).append('<div class="sl-notifications"></div>'),this.domElement=$('<p class="sl-notification">').html(this.html).addClass(this.options.type).toggleClass("persistent",!this.options.optional),"string"==typeof this.options.id&&this.domElement.attr("data-id",this.options.id);var e=$(".sl-notifications"),t=e.find(".sl-notification.persistent");this.options.optional&&t.length?this.domElement.insertBefore(t.first()):this.domElement.appendTo(e),this.hasButtons()&&(this.buttonsElement=$('<div class="buttons"></div>').appendTo(this.domElement),this.buttonsElement.attr("data-layout",this.options.buttonsLayout||"block"),this.options.buttons.forEach(this.renderButton,this))},hasButtons:function(){return this.options.buttons&&this.options.buttons.length>0},renderButton:function(e){$('<button class="button"></button>').html(e.label).addClass(e.className||"white").appendTo(this.buttonsElement).on("click",function(){this.destroy(),"function"==typeof e.callback&&e.callback()}.bind(this))},bind:function(){this.hide=this.hide.bind(this),this.destroy=this.destroy.bind(this),this.options.optional&&(this.domElement.on("mouseenter",this.stopTimeout.bind(this)),this.domElement.on("mouseleave",this.startTimeout.bind(this)),this.hasButtons()||this.domElement.on("click",this.destroy.bind(this)))},startTimeout:function(){this.stopTimeout(),this.hideTimeout=setTimeout(this.hide,this.options.duration)},stopTimeout:function(){clearTimeout(this.hideTimeout)},show:function(){!0!==this.isDestroyed&&setTimeout(function(){this.domElement.addClass("show"),this.options&&this.options.optional&&this.startTimeout()}.bind(this),1)},hide:function(){this.domElement.addClass("hide"),this.hideTimeout=setTimeout(this.destroy.bind(this),400),this.layout()},layout:function(){var e=0;$(".sl-notification:not(.hide)").get().reverse().forEach(function(t){e-=$(t).get(0).offsetHeight+10,t.style.top=e+"px"})},destroy:function(){clearTimeout(this.hideTimeout),this.isDestroyed=!0,this.options=null,this.domElement.remove(),this.layout(),this.destroyed.dispatch(),this.destroyed.dispose(),this.destroy=function(){}}}),SL.components.RetryNotification=SL.components.Notification.extend({init:function(e,t){t=$.extend({optional:!1},t),this._super(e,t),this.retryClicked=new signals.Signal},render:function(){this._super(),this.retryOptions=$('<div class="retry-options"></div>'),this.retryOptions.appendTo(this.domElement),this.retryMessage=$('<div class="retry-countdown"></div>'),this.retryButton=$('<button class="button white retry-button">Retry</button>'),this.retryButton.on("vclick",this.onRetryClicked.bind(this)),this.retryButton.appendTo(this.retryOptions)},bind:function(){this._super(),this.updateCountdown=this.updateCountdown.bind(this)},startCountdown:function(e){clearInterval(this.updateInterval),this.retryStart=Date.now(),this.retryDuration=e,this.updateInterval=setInterval(this.updateCountdown,250),this.updateCountdown(),this.retryMessage.prependTo(this.retryOptions),this.layout()},updateCountdown:function(){var e=this.retryDuration-(Date.now()-this.retryStart);e/=1e3,this.retryDuration<2e3||e<=0?this.retryMessage.text("Retrying..."):this.retryMessage.text("Retrying in "+Math.ceil(e)+"s")},disableCountdown:function(){clearInterval(this.updateInterval),this.retryMessage.remove(),this.layout()},onRetryClicked:function(){this.retryClicked.dispatch()},destroy:function(){clearInterval(this.updateInterval),this.retryClicked&&(this.retryClicked.dispose(),this.retryClicked=null),this._super()}}),SL.components.UndoNotification=SL.components.Notification.extend({init:function(e,t){t=$.extend({buttonsLayout:"inline",buttons:[{label:"Undo",callback:function(){SL.editor.controllers.History.undo()}}]},t),this._super(e,t)}}),SL.notify=function(e,t){return $(".sl-notifications .sl-notification").last().html()===e&&$(".sl-notifications .sl-notification").last().remove(),"string"==typeof t&&(t={type:t}),new SL.components.Notification(e,t)},SL("components").ScrollShadow=Class.extend({init:function(e){this.options=$.extend({style:"",threshold:20,shadowSize:15,minScale:.5,resizeContent:!0},e),this.bind(),this.render(),this.layout()},bind:function(){this.layout=this.layout.bind(this),this.sync=this.sync.bind(this),this.onScroll=$.throttle(this.onScroll.bind(this),80),$(window).on("resize",this.layout),this.options.contentElement.on("scroll",this.onScroll)},render:function(){this.shadowTop=$('<div class="sl-scroll-shadow-top">').appendTo(this.options.parentElement),this.shadowBottom=$('<div class="sl-scroll-shadow-bottom">').appendTo(this.options.parentElement),this.shadowTop.addClass(this.options.style),this.shadowBottom.addClass(this.options.style),this.shadowTop.height(this.options.shadowSize),this.shadowBottom.height(this.options.shadowSize)},layout:function(){var e=this.options.parentElement.height(),t=this.options.footerElement?this.options.footerElement.outerHeight():0,n=this.options.headerElement?this.options.headerElement.outerHeight():0;(this.options.resizeContent&&this.options.footerElement||this.options.headerElement)&&this.options.contentElement.css("height",e-t-n),this.sync()},sync:function(){var e=this.options.footerElement?this.options.footerElement.outerHeight():0,t=this.options.headerElement?this.options.headerElement.outerHeight():0,n=this.options.contentElement.scrollTop(),i=this.options.contentElement.prop("scrollHeight"),s=this.options.contentElement.outerHeight(),o=i>s+this.options.threshold,r=n/(i-s);isNaN(r)&&(r=0),this.shadowTop.css({opacity:o?r:0,top:0===t?"":t,transform:"scaleY("+Math.min(r+this.options.minScale,1)+")"}),this.shadowBottom.css({opacity:o?1-r:0,bottom:0===e?"":e,transform:"scaleY("+Math.min(1-r+this.options.minScale,1)+")"})},onScroll:function(){this.sync()},destroy:function(){$(window).off("resize",this.layout),this.options.contentElement.off("scroll",this.onScroll),this.options=null}}),SL.tooltip=function(){function e(){r=$("<div>").addClass("sl-tooltip"),a=$('<p class="sl-tooltip-inner">').appendTo(r),l=$('<div class="sl-tooltip-arrow">').appendTo(r),$('<div class="sl-tooltip-arrow-fill">').appendTo(l),t()}function t(){i=i.bind(this),$(document).on("keydown vmousedown vclick",function(){SL.tooltip.hide()}),SL.util.device.IS_PHONE||SL.util.device.IS_TABLET||($(document.body).delegate("[data-tooltip]","mouseenter focus",function(e){var t=$(e.currentTarget);if(!t.is("[no-tooltip]")){var i=t.attr("data-tooltip"),s=t.attr("data-tooltip-delay"),o=t.attr("data-tooltip-align"),r=t.attr("data-tooltip-alignment"),a=t.attr("data-tooltip-maxwidth"),l=t.attr("data-tooltip-maxheight"),c=t.attr("data-tooltip-ox"),u=t.attr("data-tooltip-oy"),d=t.attr("data-tooltip-x"),h=t.attr("data-tooltip-y");if(i){var f={anchor:t,align:o,alignment:r,delay:parseInt(s,10),maxwidth:parseInt(a,10),maxheight:parseInt(l,10)};c&&(f.ox=parseFloat(c)),u&&(f.oy=parseFloat(u)),d&&h&&(f.x=parseFloat(d),f.y=parseFloat(h),f.anchor=null),n(i,f)}}}),$(document.body).delegate("[data-tooltip]","mouseleave blur",s))}function n(e,t){if(!SL.util.device.IS_PHONE&&!SL.util.device.IS_TABLET){c=t||{},clearTimeout(h);var s=Date.now()-f;if("number"==typeof c.delay&&s>500)return h=setTimeout(n.bind(this,e,c),c.delay),void delete c.delay;r.css("opacity",0),r.appendTo(document.body),a.html(e),r.css({left:0,top:0,"max-width":c.maxwidth?c.maxwidth:"","max-height":c.maxheight?c.maxheight:""}),c.align&&r.css("text-align",c.align),i(),r.stop(!0,!0).animate({opacity:1},{duration:150}),$(window).on("resize scroll",i),$(c.anchor).parents(".sl-scrollable").on("scroll",i)}}function i(){var e=$(c.anchor);if(e.length){var t=c.alignment||"auto",n=10,i=e.get(0).getBoundingClientRect(),s=a.outerWidth(),o=a.outerHeight(),h=i.left,f=i.top,p=s/2,m=o/2;switch("number"==typeof c.ox&&(h+=c.ox),"number"==typeof c.oy&&(f+=c.oy),"auto"===t&&(t=i.top-(o+n+u)<0?"b":"t"),"rl"===t&&(t=i.right+(s+n+u)>window.innerWidth?"l":"r"),t){case"t":h+=(i.width-s)/2,f-=o+u+d;break;case"b":h+=(i.width-s)/2,f+=i.height+u+d;break;case"l":h-=s+u+d,f+=(i.height-o)/2;break;case"r":h+=i.width+u+d,f+=(i.height-o)/2}h=Math.min(Math.max(h,n),window.innerWidth-s-n),f=Math.min(Math.max(f,n),window.innerHeight-o-n);var g=u+3;switch(t){case"t":p=i.left-h+i.width/2,m=o,p=Math.min(Math.max(p,g),s-g);break;case"b":p=i.left-h+i.width/2,m=-u,p=Math.min(Math.max(p,g),s-g);break;case"l":p=s,m=i.top-f+i.height/2,m=Math.min(Math.max(m,g),o-g);break;case"r":p=-u,m=i.top-f+i.height/2,m=Math.min(Math.max(m,g),o-g)}l.css({left:Math.round(p),top:Math.round(m)}),r.css({left:Math.round(h),top:Math.round(f)}).attr("data-alignment",t)}}function s(){o()&&(f=Date.now()),clearTimeout(h),r.remove().stop(!0,!0),$(window).off("resize scroll",i),c&&$(c.anchor).parents(".sl-scrollable").off("scroll",i)}function o(){return r.parent().length>0}var r,a,l,c,u=6,d=4,h=-1,f=-1;return e(),{show:function(e,t){n(e,t)},hide:function(){s()},isVisible:function(){return o()},anchorTo:function(e,t,n){var i={};void 0!==t&&(i["data-tooltip"]=t),"number"==typeof n.delay&&(i["data-tooltip-delay"]=n.delay),"string"==typeof n.alignment&&(i["data-tooltip-alignment"]=n.alignment),$(e).attr(i)}}}(),SL("views").Base=Class.extend({init:function(){SL.view=this,this.header=new SL.components.Header,this.setupAce(),this.setupSocial(),this.setupSinglePageApp(),this.setupPageNavigation(),this.setupMediaPreviews(),this.handleLogos(),this.handleOutlines(),this.handleFeedback(),this.handleWindowClose(),this.handleAutoRefresh(),this.parseTimes(),this.parseLinks(),this.parseMeters(),this.parseSpinners(),this.parsePromotions(),this.parseNotifications(),this.parseScrollLinks(),setInterval(this.parseTimes.bind(this),12e4)},setupAce:function(){"object"==typeof window.ace&&"object"==typeof window.ace.config&&"function"==typeof window.ace.config.set&&ace.config.set("workerPath","/ace")},setupSocial:function(){var e=$(".facebook-share-button"),t=$(".twitter-share-button"),n=e.length>0,i=t.length>0;if(n||i){var s={url:window.location.protocol+"//"+window.location.hostname+window.location.pathname,title:$('meta[property="og:title"]').attr("content"),description:$('meta[property="og:description"]').attr("content"),thumbnail:$('meta[property="og:image"]').attr("content")};n&&(e.attr("href",SL.util.social.getFacebookShareLink(s.url,s.title,s.description,s.thumbnail)),e.on("vclick",function(e){SL.util.openPopupWindow($(this).attr("href"),"Share on Facebook",600,400),e.preventDefault()})),i&&(t.attr("href",SL.util.social.getTwitterShareLink(s.url,s.title)),t.on("vclick",function(e){SL.util.openPopupWindow($(this).attr("href"),"Share on Twitter",600,400),e.preventDefault()}))}},setupSinglePageApp:function(){if(document.documentElement.classList.contains("spa")){var e=function(){document.documentElement.style.setProperty("--viewport-height",window.innerHeight+"px")};window.addEventListener("resize",e),e()}},setupPageNavigation:function(){var e=$(".sl-scroll-target");if(e.length){var t=$(".sl-page-nav ul");e.each(function(){var e=this.hasAttribute("data-scroll-label")?this.getAttribute("data-scroll-label"):this.textContent;t.append('<li><a class="sl-scroll-anchor" href="#'+this.getAttribute("id")+'">'+e+"</a></li>")})}if($('.sl-scroll-anchor[href^="#"]').length){var n,i=$(".sl-page-nav"),s=i.position().top,o=$(['<svg class="sl-page-nav-marker" width="200" height="200" xmlns="http://www.w3.org/2000/svg">','<path stroke="#444" stroke-width="2" fill="transparent" stroke-dasharray="0, 0, 0, 1000" stroke-linecap="round" stroke-linejoin="round" />',"</svg>"].join("")).appendTo(i).find("path").get(0),r=[],a=.1,l=.2;function c(){r=(r=(r=i.find("li").toArray()).map(function(e){var t=e.querySelector("a");return{listItem:e,anchor:t,target:document.getElementById(t.getAttribute("href").slice(1))}})).filter(function(e){return!!e.target});var e,t=[];r.forEach(function(n,i){var s=n.anchor.offsetLeft,r=n.anchor.offsetTop,a=n.anchor.offsetHeight;0===i?(t.push("M",s,r,"L",s,r+a),n.pathStart=0):(e!==s&&t.push("L",e,r),t.push("L",s,r),o.setAttribute("d",t.join(" ")),n.pathStart=o.getTotalLength(),t.push("L",s,r+a)),e=s,o.setAttribute("d",t.join(" ")),n.pathEnd=o.getTotalLength()}),n=o.getTotalLength(),u()}function u(){var e=window.innerHeight,t=$(window).scrollTop();i.toggleClass("fixed",t>s);var c=n;pathEnd=0;var u=0;r.forEach(function(t){var n=t.target.getBoundingClientRect();n.bottom>e*a&&n.top<e*(1-l)?(c=Math.min(t.pathStart,c),pathEnd=Math.max(t.pathEnd,pathEnd),u+=1,t.listItem.classList.add("selected")):t.listItem.classList.remove("selected")}),u>0?(o.setAttribute("stroke-dashoffset","1"),o.setAttribute("stroke-dasharray","1, "+c+", "+(pathEnd-c)+", "+n),o.setAttribute("opacity",1)):o.setAttribute("opacity",0)}$(window).on("resize",$.throttle(c.bind(this),100)),$(window).on("scroll",$.throttle(u.bind(this),100)),setTimeout(c,1)}},setupMediaPreviews:function(){$("[data-preview-media]").each(function(e,t){var n=(t=$(t)).attr("data-preview-media"),i=/\.mp4/.test(n)?"video":"image",s=parseInt(t.attr("data-preview-media-width"),10),o=parseInt(t.attr("data-preview-media-height"),10);t.on("vclick",function(){SL.popup.openOne(SL.components.popup.PreviewMedia,{mediaType:i,mediaURL:n,mediaWidth:s,mediaHeight:o,titleItem:t.attr("data-preview-title")||"Preview"})}.bind(this)),SL.promptOnHover(t,{anchor:t,mediaType:i,mediaURL:n,mediaWidth:s,mediaHeight:o},SL.components.prompts.PreviewMedia)})},handleLogos:function(){setTimeout(function(){$(".logo-animation").addClass("open")},600)},handleOutlines:function(){var e=$("<style>").appendTo("head").get(0),t=function(t){e.styleSheet?e.styleSheet.cssText=t:e.innerHTML=t};$(document).on("mousedown",function(){t("a, button, .sl-select, .sl-checkbox label, .radio label, .focus-outline { outline: none !important; }")}),$(document).on("keydown",function(){t("")})},handleFeedback:function(){$("html").on("click","[data-feedback-mode]",function(e){if(UserVoice&&"function"==typeof UserVoice.show){var t=$(this),n={target:this,mode:t.attr("data-feedback-mode")||"contact",position:t.attr("data-feedback-position")||"top",screenshot_enabled:t.attr("data-feedback-screenshot_enabled")||"true",smartvote_enabled:t.attr("data-feedback-smartvote-enabled")||"true",ticket_custom_fields:{}};SL.current_deck&&(n.ticket_custom_fields["Deck ID"]=SL.current_deck.get("id"),n.ticket_custom_fields["Deck Slug"]=SL.current_deck.get("slug"),n.ticket_custom_fields["Deck Version"]=SL.current_deck.get("version"),n.ticket_custom_fields["Deck Font"]=SL.current_deck.get("theme_font"),n.ticket_custom_fields["Deck Color"]=SL.current_deck.get("theme_color"),n.ticket_custom_fields["Deck Transition"]=SL.current_deck.get("transition"),n.ticket_custom_fields["Deck Background Transition"]=SL.current_deck.get("backgroundTransition"));var i=t.attr("data-feedback-type");i&&i.length&&(n.ticket_custom_fields.Type=i);var s=t.attr("data-feedback-contact-title");s&&s.length&&(n.contact_title=s),UserVoice.show(n),e.preventDefault()}})},handleWindowClose:function(){var e=SL.util.getQuery();if(e&&e.autoclose&&window.opener){var t=parseInt(e.autoclose,10)||0;setTimeout(function(){try{window.close()}catch(e){}},t)}},handleAutoRefresh:function(){var e=SL.util.getQuery();if(e&&e.autoRefresh){var t=parseInt(e.autoRefresh,10);!isNaN(t)&&t>0&&(t=Math.max(t,1e4),setTimeout(function(){window.Reveal&&window.Reveal.isReady()&&window.Reveal.configure({autoSlide:0}),window.location.reload()},t))}},parseTimes:function(){$("time.ago").each(function(){var e=$(this).attr("datetime");e&&$(this).text(moment.utc(e).fromNow())}),$("time.date").each(function(){var e=$(this).attr("datetime");e&&$(this).text(moment.utc(e).format("MMM Do, YYYY"))})},parseLinks:function(){$(".linkify").each(function(){$(this).html(SL.util.string.linkify($(this).text()))})},parseMeters:function(){$(".sl-meter").each(function(){var e=$(this);new SL.components.Meter(e,{type:e.attr("data-type"),value:parseInt(e.attr("data-value"),10),total:parseInt(e.attr("data-total"),10)})})},parseSpinners:function(){SL.util.html.generateSpinners()},parseNotifications:function(){$(".flash-notification").each(function(){var e=$(this),t=e.attr("data-notification-type");"persistent"===t?SL.notify(e.remove().text(),{optional:!1,buttons:[{label:"OK"}]}):"confirmation"===t?SL.prompt({type:"flashmessage",title:e.remove().text(),overlayOpacity:.9}):SL.notify(e.remove().text(),t)})},parsePromotions:function(){var e=document.querySelector(".promotion-notification");e&&(SL.prompt(SL.components.prompts.Promotion,{html:e.innerHTML}),e.remove())},parseScrollLinks:function(){$(document).delegate("a[data-scroll-to]","click",function(e){
var t=e.currentTarget,n=$(t.getAttribute("href")),i=parseInt(t.getAttribute("data-scroll-to-offset"),10),s=parseInt(t.getAttribute("data-scroll-to-duration"),10);isNaN(i)&&(i=-20),isNaN(s)&&(s=1e3),n.length&&$("html, body").animate({scrollTop:n.offset().top+i},s),e.preventDefault()})}}),SL("views.decks").Embed=SL.views.Base.extend({init:function(){this._super(),this.footerElement=$(".embed-footer"),this.shareButton=this.footerElement.find(".embed-footer-share"),this.revealElement=$(".reveal"),this.revealConfig={embedded:!0,preventMediaDownloads:!0,openLinksInTabs:!0,trackEvents:!0,maxScale:SL.config.PRESENT_UPSIZING_MAX_SCALE},this.readQuery(),SL.util.setupReveal(this.revealConfig),$(window).on("resize",this.layout.bind(this)),$(document).on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange fullscreenchange",this.layout.bind(this)),this.shareButton.on("click",this.onShareClicked.bind(this)),this.setupFullscreen(),this.layout(),Reveal.isReady()?this.afterRevealReady():Reveal.on("ready",this.afterRevealReady)},afterRevealReady:function(){window.RevealNotes&&Reveal.registerPlugin(window.RevealNotes)},readQuery:function(){var e=SL.util.getQuery(),t=e.style;"hidden"!==t||SL.current_deck.isPaid()||(t=null),t&&$("html").attr("data-embed-style",t),"hidden"===e.byline&&SL.current_deck.isPaid()&&$("html").attr("data-embed-byline","hidden"),"hidden"===e.share&&SL.current_deck.isPaid()&&$("html").attr("data-embed-share","hidden"),"hidden"===e.shared_notes&&SL.deck.util.hasNotes()&&(this.revealConfig.showNotes=!1)},setupFullscreen:function(){!0===Modernizr.fullscreen&&(this.footerElement.find(".embed-footer-fullscreen").removeAttr("href").changeElementType("button"),this.footerElement.find(".embed-footer-fullscreen").on("click",this.onFullscreenClicked.bind(this)))},layout:function(){this.footerElement.is(":visible")?this.revealElement.height(window.innerHeight-this.footerElement.height()):this.revealElement.height("100%"),Reveal.layout()},onFullscreenClicked:function(){var e=$("html").get(0);if(e)return SL.helpers.Fullscreen.enter(e),!1},onShareClicked:function(){SL.popup.open(SL.components.decksharer.DeckSharer,{deck:SL.current_deck}),SL.analytics.trackDeck("embed_share_clicked")}}),SL("views.decks").Fullscreen=SL.views.Base.extend({init:function(){this._super(),/no-autoplay=1/.test(window.location.search)&&($(".reveal [data-autoplay]").removeAttr("data-autoplay"),$(".reveal [data-background-video]").attr("data-background-video-muted",!0)),SL.util.isInIframe()&&this.setupSlideTemplateAPI(),Reveal.addEventListener("ready",function(){var e=SL.util.getQuery();if("string"==typeof e.jumpToSlideID){var t=document.querySelector('section[data-id="'+e.jumpToSlideID+'"]');t&&SL.util.deck.navigateToSlide(t)}}),SL.util.setupReveal({preventMediaDownloads:!0,hideInactiveCursor:!0,openLinksInTabs:!0,trackEvents:!0,maxScale:SL.config.PRESENT_UPSIZING_MAX_SCALE})},setupSlideTemplateAPI:function(){SL.deck.util.injectNotes(),$(".reveal section").each(function(){this.originalSlideHTML=this.outerHTML}),window.addEventListener("message",function(e){var t=SL.util.parseJSON(e.data);"slides"===t.namespace&&"publish-current-slide-html"===t.eventName&&window.parent.postMessage(JSON.stringify({namespace:"slides",eventName:"insert-slide",data:Reveal.getCurrentSlide().originalSlideHTML}),"*")})}}),SL("views.decks").Show=SL.views.Base.extend({init:function(){this._super(),SL.util.setupReveal({hash:!0,embedded:!0,pause:!1,preventMediaDownloads:!0,openLinksInTabs:!0,trackEvents:!0});var e=SL.util.setupFloatingAd(),t=window.innerWidth<600;e||t||this.setupPills(),$("header .deck-promotion").length&&$("header").addClass("extra-wide"),this.bind(),this.layout(),this.loadRelatedDecks()},bind:function(){this.editButton=$(".deck-options .edit-button"),this.editButtonOriginalLink=this.editButton.attr("href"),this.relatedDecks=$(".related-decks"),$(".deck-options .fork-button").on("vclick",this.onForkClicked.bind(this)),$(".deck-options .share-button").on("vclick",this.onShareClicked.bind(this)),$(".deck-options .comment-button").on("vclick",this.onCommentsClicked.bind(this)),$(".deck-options .deck-view-button").on("vclick",this.onDeckViewClicked.bind(this)),!0===Modernizr.fullscreen&&$(".deck-options .fullscreen-button").on("vclick",this.onFullScreenClicked.bind(this)),this.visibilityButton=$(".deck-options .visibility-button"),this.visibilityButton.on("vclick",this.onVisibilityClicked.bind(this)),$(document).on("webkitfullscreenchange mozfullscreenchange MSFullscreenChange fullscreenchange",Reveal.layout),this.onWindowScroll=$.throttle(this.onWindowScroll,200),$(window).on("resize",this.layout.bind(this)),$(window).on("scroll",this.onWindowScroll.bind(this)),$(window).on("orientationchange",this.onOrientationChange.bind(this)),Reveal.addEventListener("slidechanged",this.onSlideChanged.bind(this)),Reveal.addEventListener("fragmentshown",this.hideSummary),Reveal.addEventListener("fragmenthidden",this.hideSummary)},setupPills:function(){this.hideSummary=this.hideSummary.bind(this),this.hideInstructions=this.hideInstructions.bind(this),this.summaryPill=$(".summary-pill"),this.instructionsPill=$(".instructions-pill"),this.summaryPill.on("click",this.hideSummary),this.instructionsPill.on("click",this.hideInstructions),window.innerHeight-$(".deck-info").offset().top<100&&(this.showSummaryTimeout=setTimeout(this.showSummary.bind(this),1e3),this.hideSummaryTimeout=setTimeout(this.hideSummary.bind(this),6e3)),this.showNavigationInstructions()},showSummary:function(){this.summaryPill&&this.summaryPill.addClass("visible")},hideSummary:function(){clearTimeout(this.showSummaryTimeout),this.summaryPill&&(this.summaryPill.removeClass("visible"),this.summaryPill.on("transitionend",this.summaryPill.remove),this.summaryPill=null)},canShowInstructions:function(){return!SL.util.user.isLoggedIn()&&!SL.util.device.IS_PHONE&&!SL.util.device.IS_TABLET&&Reveal.getTotalSlides()>1&&Modernizr.localstorage},showNavigationInstructions:function(){this.showInstructions("slides-has-seen-deck-navigation-instructions",6e3,{title:"Navigation instructions",description:"Press the space key or click the arrows to the right"})},showVerticalInstructions:function(){this.showInstructions("slides-has-seen-deck-vertical-instructions",1e3,{title:"There's a vertical slide below",description:"Use the controls to the right or the keyboard arrows",icon:"down-arrow"})},showInstructions:function(e,t,n){clearTimeout(this.showInstructionsTimeout),this.instructionsPill&&this.canShowInstructions()&&!localStorage.getItem(e)&&(localStorage.setItem(e,"yes"),this.showInstructionsTimeout=setTimeout(function(){this.instructionsPill.attr("data-icon",n.icon),this.instructionsPill.find(".pill-title").text(n.title),this.instructionsPill.find(".pill-description").text(n.description),this.instructionsPill.addClass("visible"),this.layout()}.bind(this),t))},hideInstructions:function(){clearTimeout(this.showInstructionsTimeout),this.instructionsPill&&this.instructionsPill.removeClass("visible")},layout:function(){this.summaryPill&&this.summaryPill.css("left",(window.innerWidth-this.summaryPill.width())/2),this.instructionsPill&&this.instructionsPill.css("left",(window.innerWidth-this.instructionsPill.width())/2);var e=$(".reveal .playback"),t=$(".deck-kudos"),n={opacity:1};t.length&&e.length&&(n.marginLeft=e.offset().left+e.outerWidth()-10),t.css(n)},loadRelatedDecks:function(){!this.hasLoadedRelatedDecks&&this.relatedDecks.length&&this.relatedDecks.get(0).getBoundingClientRect().top<window.innerHeight&&(this.hasLoadedRelatedDecks=!0,this.relatedDecks.find("[data-src]").each(function(e,t){t.setAttribute("src",t.getAttribute("data-src"))}))},isTeamMember:function(){return SL.current_user.isTeamMemberOf(SLConfig.user.id,SLConfig.user.team_id)},onShareClicked:function(){return"undefined"!=typeof SLConfig&&"string"==typeof SLConfig.deck.user.username&&"string"==typeof SLConfig.deck.slug?SL.popup.open(SL.components.decksharer.DeckSharer,{deck:SL.current_deck}):SL.notify(SL.locale.get("GENERIC_ERROR"),"negative"),SL.analytics.trackDeck("share_clicked"),!1},onCommentsClicked:function(){SL.analytics.trackDeck("comments_clicked")},onDeckViewClicked:function(e){var t=$(e.currentTarget),n={anchor:t,deckURL:null};n.role=t.attr("data-deck-user-role"),this.isTeamMember()&&!n.role&&(n.role=SL.current_team.get("default_internal_role")),new SL.components.prompts.DeckView(n).show()},onFullScreenClicked:function(e){var t=$(".reveal-viewport").get(0);if(t)return SL.helpers.Fullscreen.enter(t),e.preventDefault(),!1;SL.analytics.trackDeck("fullscreen_clicked")},onForkClicked:function(){return SL.analytics.trackDeck("fork_clicked"),$.ajax({type:"POST",url:SL.endpoints.FORK_DECK(SLConfig.deck.id),context:this}).done(function(){window.location=SL.current_user.getProfileURL()}).fail(function(e){e.responseJSON&&e.responseJSON.deck_limit?SL.components.prompts.showDeckLimitReached()["catch"](function(){SL.notify(SL.locale.get("GENERIC_ERROR"),"negative")}):SL.notify(SL.locale.get("GENERIC_ERROR"),"negative")}),!1},onVisibilityClicked:function(e){e.preventDefault(),new SL.components.prompts.DeckVisibility(SL.current_deck,{anchor:$(e.currentTarget)}).show(),SL.analytics.trackDeck("visibility_menu_opened")},onSlideChanged:function(e){this.hideSummary(),this.hideInstructions();var t="#";e.indexh&&(t+="/"+e.indexh,e.indexv&&(t+="/"+e.indexv)),this.editButton.attr("href",this.editButtonOriginalLink+t),e.indexh>0&&0===e.indexv&&Reveal.availableRoutes().down&&this.showVerticalInstructions()},onWindowScroll:function(){$(window).scrollTop()>10&&(this.hideSummary(),this.hideInstructions(),this.loadRelatedDecks())},onOrientationChange:function(){window.scrollTo(0,0)}});